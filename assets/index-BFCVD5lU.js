function mm(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var ut=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function pm(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function gm(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var td={exports:{}},Di={},rd={exports:{}},Z={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ss=Symbol.for("react.element"),vm=Symbol.for("react.portal"),ym=Symbol.for("react.fragment"),xm=Symbol.for("react.strict_mode"),wm=Symbol.for("react.profiler"),_m=Symbol.for("react.provider"),km=Symbol.for("react.context"),jm=Symbol.for("react.forward_ref"),bm=Symbol.for("react.suspense"),Sm=Symbol.for("react.memo"),Nm=Symbol.for("react.lazy"),mu=Symbol.iterator;function Em(e){return e===null||typeof e!="object"?null:(e=mu&&e[mu]||e["@@iterator"],typeof e=="function"?e:null)}var nd={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},sd=Object.assign,id={};function kn(e,t,r){this.props=e,this.context=t,this.refs=id,this.updater=r||nd}kn.prototype.isReactComponent={};kn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};kn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function od(){}od.prototype=kn.prototype;function sa(e,t,r){this.props=e,this.context=t,this.refs=id,this.updater=r||nd}var ia=sa.prototype=new od;ia.constructor=sa;sd(ia,kn.prototype);ia.isPureReactComponent=!0;var pu=Array.isArray,ld=Object.prototype.hasOwnProperty,oa={current:null},ad={key:!0,ref:!0,__self:!0,__source:!0};function ud(e,t,r){var n,s={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)ld.call(t,n)&&!ad.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];s.children=u}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:Ss,type:e,key:i,ref:o,props:s,_owner:oa.current}}function Cm(e,t){return{$$typeof:Ss,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function la(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ss}function Pm(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var gu=/\/+/g;function mo(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Pm(""+e.key):t.toString(36)}function ti(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Ss:case vm:o=!0}}if(o)return o=e,s=s(o),e=n===""?"."+mo(o,0):n,pu(s)?(r="",e!=null&&(r=e.replace(gu,"$&/")+"/"),ti(s,t,r,"",function(c){return c})):s!=null&&(la(s)&&(s=Cm(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(gu,"$&/")+"/")+e)),t.push(s)),1;if(o=0,n=n===""?".":n+":",pu(e))for(var l=0;l<e.length;l++){i=e[l];var u=n+mo(i,l);o+=ti(i,t,r,u,s)}else if(u=Em(e),typeof u=="function")for(e=u.call(e),l=0;!(i=e.next()).done;)i=i.value,u=n+mo(i,l++),o+=ti(i,t,r,u,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Ls(e,t,r){if(e==null)return e;var n=[],s=0;return ti(e,n,"","",function(i){return t.call(r,i,s++)}),n}function Tm(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var De={current:null},ri={transition:null},Am={ReactCurrentDispatcher:De,ReactCurrentBatchConfig:ri,ReactCurrentOwner:oa};function cd(){throw Error("act(...) is not supported in production builds of React.")}Z.Children={map:Ls,forEach:function(e,t,r){Ls(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Ls(e,function(){t++}),t},toArray:function(e){return Ls(e,function(t){return t})||[]},only:function(e){if(!la(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Z.Component=kn;Z.Fragment=ym;Z.Profiler=wm;Z.PureComponent=sa;Z.StrictMode=xm;Z.Suspense=bm;Z.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Am;Z.act=cd;Z.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=sd({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=oa.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)ld.call(t,u)&&!ad.hasOwnProperty(u)&&(n[u]=t[u]===void 0&&l!==void 0?l[u]:t[u])}var u=arguments.length-2;if(u===1)n.children=r;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];n.children=l}return{$$typeof:Ss,type:e.type,key:s,ref:i,props:n,_owner:o}};Z.createContext=function(e){return e={$$typeof:km,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:_m,_context:e},e.Consumer=e};Z.createElement=ud;Z.createFactory=function(e){var t=ud.bind(null,e);return t.type=e,t};Z.createRef=function(){return{current:null}};Z.forwardRef=function(e){return{$$typeof:jm,render:e}};Z.isValidElement=la;Z.lazy=function(e){return{$$typeof:Nm,_payload:{_status:-1,_result:e},_init:Tm}};Z.memo=function(e,t){return{$$typeof:Sm,type:e,compare:t===void 0?null:t}};Z.startTransition=function(e){var t=ri.transition;ri.transition={};try{e()}finally{ri.transition=t}};Z.unstable_act=cd;Z.useCallback=function(e,t){return De.current.useCallback(e,t)};Z.useContext=function(e){return De.current.useContext(e)};Z.useDebugValue=function(){};Z.useDeferredValue=function(e){return De.current.useDeferredValue(e)};Z.useEffect=function(e,t){return De.current.useEffect(e,t)};Z.useId=function(){return De.current.useId()};Z.useImperativeHandle=function(e,t,r){return De.current.useImperativeHandle(e,t,r)};Z.useInsertionEffect=function(e,t){return De.current.useInsertionEffect(e,t)};Z.useLayoutEffect=function(e,t){return De.current.useLayoutEffect(e,t)};Z.useMemo=function(e,t){return De.current.useMemo(e,t)};Z.useReducer=function(e,t,r){return De.current.useReducer(e,t,r)};Z.useRef=function(e){return De.current.useRef(e)};Z.useState=function(e){return De.current.useState(e)};Z.useSyncExternalStore=function(e,t,r){return De.current.useSyncExternalStore(e,t,r)};Z.useTransition=function(){return De.current.useTransition()};Z.version="18.3.1";rd.exports=Z;var x=rd.exports;const dd=pm(x),Om=mm({__proto__:null,default:dd},[x]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lm=x,Rm=Symbol.for("react.element"),$m=Symbol.for("react.fragment"),zm=Object.prototype.hasOwnProperty,Im=Lm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Mm={key:!0,ref:!0,__self:!0,__source:!0};function fd(e,t,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)zm.call(t,n)&&!Mm.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:Rm,type:e,key:i,ref:o,props:s,_owner:Im.current}}Di.Fragment=$m;Di.jsx=fd;Di.jsxs=fd;td.exports=Di;var a=td.exports,hd={exports:{}},rt={},md={exports:{}},pd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(I,z){var w=I.length;I.push(z);e:for(;0<w;){var v=w-1>>>1,T=I[v];if(0<s(T,z))I[v]=z,I[w]=T,w=v;else break e}}function r(I){return I.length===0?null:I[0]}function n(I){if(I.length===0)return null;var z=I[0],w=I.pop();if(w!==z){I[0]=w;e:for(var v=0,T=I.length,D=T>>>1;v<D;){var B=2*(v+1)-1,H=I[B],A=B+1,R=I[A];if(0>s(H,w))A<T&&0>s(R,H)?(I[v]=R,I[A]=w,v=A):(I[v]=H,I[B]=w,v=B);else if(A<T&&0>s(R,w))I[v]=R,I[A]=w,v=A;else break e}}return z}function s(I,z){var w=I.sortIndex-z.sortIndex;return w!==0?w:I.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var u=[],c=[],d=1,f=null,h=3,m=!1,_=!1,k=!1,j=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(I){for(var z=r(c);z!==null;){if(z.callback===null)n(c);else if(z.startTime<=I)n(c),z.sortIndex=z.expirationTime,t(u,z);else break;z=r(c)}}function b(I){if(k=!1,y(I),!_)if(r(u)!==null)_=!0,ce(S);else{var z=r(c);z!==null&&st(b,z.startTime-I)}}function S(I,z){_=!1,k&&(k=!1,g(C),C=-1),m=!0;var w=h;try{for(y(z),f=r(u);f!==null&&(!(f.expirationTime>z)||I&&!le());){var v=f.callback;if(typeof v=="function"){f.callback=null,h=f.priorityLevel;var T=v(f.expirationTime<=z);z=e.unstable_now(),typeof T=="function"?f.callback=T:f===r(u)&&n(u),y(z)}else n(u);f=r(u)}if(f!==null)var D=!0;else{var B=r(c);B!==null&&st(b,B.startTime-z),D=!1}return D}finally{f=null,h=w,m=!1}}var O=!1,$=null,C=-1,Y=5,M=-1;function le(){return!(e.unstable_now()-M<Y)}function G(){if($!==null){var I=e.unstable_now();M=I;var z=!0;try{z=$(!0,I)}finally{z?F():(O=!1,$=null)}}else O=!1}var F;if(typeof p=="function")F=function(){p(G)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,ne=K.port2;K.port1.onmessage=G,F=function(){ne.postMessage(null)}}else F=function(){j(G,0)};function ce(I){$=I,O||(O=!0,F())}function st(I,z){C=j(function(){I(e.unstable_now())},z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(I){I.callback=null},e.unstable_continueExecution=function(){_||m||(_=!0,ce(S))},e.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Y=0<I?Math.floor(1e3/I):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(u)},e.unstable_next=function(I){switch(h){case 1:case 2:case 3:var z=3;break;default:z=h}var w=h;h=z;try{return I()}finally{h=w}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(I,z){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var w=h;h=I;try{return z()}finally{h=w}},e.unstable_scheduleCallback=function(I,z,w){var v=e.unstable_now();switch(typeof w=="object"&&w!==null?(w=w.delay,w=typeof w=="number"&&0<w?v+w:v):w=v,I){case 1:var T=-1;break;case 2:T=250;break;case 5:T=1073741823;break;case 4:T=1e4;break;default:T=5e3}return T=w+T,I={id:d++,callback:z,priorityLevel:I,startTime:w,expirationTime:T,sortIndex:-1},w>v?(I.sortIndex=w,t(c,I),r(u)===null&&I===r(c)&&(k?(g(C),C=-1):k=!0,st(b,w-v))):(I.sortIndex=T,t(u,I),_||m||(_=!0,ce(S))),I},e.unstable_shouldYield=le,e.unstable_wrapCallback=function(I){var z=h;return function(){var w=h;h=z;try{return I.apply(this,arguments)}finally{h=w}}}})(pd);md.exports=pd;var Um=md.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fm=x,tt=Um;function E(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var gd=new Set,is={};function Ir(e,t){fn(e,t),fn(e+"Capture",t)}function fn(e,t){for(is[e]=t,e=0;e<t.length;e++)gd.add(t[e])}var Rt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Go=Object.prototype.hasOwnProperty,Dm=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,vu={},yu={};function Bm(e){return Go.call(yu,e)?!0:Go.call(vu,e)?!1:Dm.test(e)?yu[e]=!0:(vu[e]=!0,!1)}function qm(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Qm(e,t,r,n){if(t===null||typeof t>"u"||qm(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Be(e,t,r,n,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Re={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Re[e]=new Be(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Re[t]=new Be(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Re[e]=new Be(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Re[e]=new Be(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Re[e]=new Be(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Re[e]=new Be(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Re[e]=new Be(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Re[e]=new Be(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Re[e]=new Be(e,5,!1,e.toLowerCase(),null,!1,!1)});var aa=/[\-:]([a-z])/g;function ua(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(aa,ua);Re[t]=new Be(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(aa,ua);Re[t]=new Be(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(aa,ua);Re[t]=new Be(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Re[e]=new Be(e,1,!1,e.toLowerCase(),null,!1,!1)});Re.xlinkHref=new Be("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Re[e]=new Be(e,1,!1,e.toLowerCase(),null,!0,!0)});function ca(e,t,r,n){var s=Re.hasOwnProperty(t)?Re[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Qm(t,r,s,n)&&(r=null),n||s===null?Bm(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Ut=Fm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Rs=Symbol.for("react.element"),Vr=Symbol.for("react.portal"),Wr=Symbol.for("react.fragment"),da=Symbol.for("react.strict_mode"),Xo=Symbol.for("react.profiler"),vd=Symbol.for("react.provider"),yd=Symbol.for("react.context"),fa=Symbol.for("react.forward_ref"),Yo=Symbol.for("react.suspense"),Zo=Symbol.for("react.suspense_list"),ha=Symbol.for("react.memo"),Ht=Symbol.for("react.lazy"),xd=Symbol.for("react.offscreen"),xu=Symbol.iterator;function On(e){return e===null||typeof e!="object"?null:(e=xu&&e[xu]||e["@@iterator"],typeof e=="function"?e:null)}var ye=Object.assign,po;function Dn(e){if(po===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);po=t&&t[1]||""}return`
`+po+e}var go=!1;function vo(e,t){if(!e||go)return"";go=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var u=`
`+s[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=o&&0<=l);break}}}finally{go=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Dn(e):""}function Hm(e){switch(e.tag){case 5:return Dn(e.type);case 16:return Dn("Lazy");case 13:return Dn("Suspense");case 19:return Dn("SuspenseList");case 0:case 2:case 15:return e=vo(e.type,!1),e;case 11:return e=vo(e.type.render,!1),e;case 1:return e=vo(e.type,!0),e;default:return""}}function el(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Wr:return"Fragment";case Vr:return"Portal";case Xo:return"Profiler";case da:return"StrictMode";case Yo:return"Suspense";case Zo:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case yd:return(e.displayName||"Context")+".Consumer";case vd:return(e._context.displayName||"Context")+".Provider";case fa:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ha:return t=e.displayName||null,t!==null?t:el(e.type)||"Memo";case Ht:t=e._payload,e=e._init;try{return el(e(t))}catch{}}return null}function Vm(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return el(t);case 8:return t===da?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function cr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function wd(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Wm(e){var t=wd(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function $s(e){e._valueTracker||(e._valueTracker=Wm(e))}function _d(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=wd(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function mi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function tl(e,t){var r=t.checked;return ye({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function wu(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=cr(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function kd(e,t){t=t.checked,t!=null&&ca(e,"checked",t,!1)}function rl(e,t){kd(e,t);var r=cr(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?nl(e,t.type,r):t.hasOwnProperty("defaultValue")&&nl(e,t.type,cr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function _u(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function nl(e,t,r){(t!=="number"||mi(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Bn=Array.isArray;function sn(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+cr(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function sl(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(E(91));return ye({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ku(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(E(92));if(Bn(r)){if(1<r.length)throw Error(E(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:cr(r)}}function jd(e,t){var r=cr(t.value),n=cr(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function ju(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function bd(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function il(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?bd(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var zs,Sd=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(zs=zs||document.createElement("div"),zs.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=zs.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function os(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Vn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Km=["Webkit","ms","Moz","O"];Object.keys(Vn).forEach(function(e){Km.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Vn[t]=Vn[e]})});function Nd(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Vn.hasOwnProperty(e)&&Vn[e]?(""+t).trim():t+"px"}function Ed(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=Nd(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var Jm=ye({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ol(e,t){if(t){if(Jm[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(E(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(E(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(E(61))}if(t.style!=null&&typeof t.style!="object")throw Error(E(62))}}function ll(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var al=null;function ma(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ul=null,on=null,ln=null;function bu(e){if(e=Cs(e)){if(typeof ul!="function")throw Error(E(280));var t=e.stateNode;t&&(t=Vi(t),ul(e.stateNode,e.type,t))}}function Cd(e){on?ln?ln.push(e):ln=[e]:on=e}function Pd(){if(on){var e=on,t=ln;if(ln=on=null,bu(e),t)for(e=0;e<t.length;e++)bu(t[e])}}function Td(e,t){return e(t)}function Ad(){}var yo=!1;function Od(e,t,r){if(yo)return e(t,r);yo=!0;try{return Td(e,t,r)}finally{yo=!1,(on!==null||ln!==null)&&(Ad(),Pd())}}function ls(e,t){var r=e.stateNode;if(r===null)return null;var n=Vi(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(E(231,t,typeof r));return r}var cl=!1;if(Rt)try{var Ln={};Object.defineProperty(Ln,"passive",{get:function(){cl=!0}}),window.addEventListener("test",Ln,Ln),window.removeEventListener("test",Ln,Ln)}catch{cl=!1}function Gm(e,t,r,n,s,i,o,l,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(d){this.onError(d)}}var Wn=!1,pi=null,gi=!1,dl=null,Xm={onError:function(e){Wn=!0,pi=e}};function Ym(e,t,r,n,s,i,o,l,u){Wn=!1,pi=null,Gm.apply(Xm,arguments)}function Zm(e,t,r,n,s,i,o,l,u){if(Ym.apply(this,arguments),Wn){if(Wn){var c=pi;Wn=!1,pi=null}else throw Error(E(198));gi||(gi=!0,dl=c)}}function Mr(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Ld(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Su(e){if(Mr(e)!==e)throw Error(E(188))}function ep(e){var t=e.alternate;if(!t){if(t=Mr(e),t===null)throw Error(E(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return Su(s),e;if(i===n)return Su(s),t;i=i.sibling}throw Error(E(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,l=s.child;l;){if(l===r){o=!0,r=s,n=i;break}if(l===n){o=!0,n=s,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=s;break}if(l===n){o=!0,n=i,r=s;break}l=l.sibling}if(!o)throw Error(E(189))}}if(r.alternate!==n)throw Error(E(190))}if(r.tag!==3)throw Error(E(188));return r.stateNode.current===r?e:t}function Rd(e){return e=ep(e),e!==null?$d(e):null}function $d(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=$d(e);if(t!==null)return t;e=e.sibling}return null}var zd=tt.unstable_scheduleCallback,Nu=tt.unstable_cancelCallback,tp=tt.unstable_shouldYield,rp=tt.unstable_requestPaint,je=tt.unstable_now,np=tt.unstable_getCurrentPriorityLevel,pa=tt.unstable_ImmediatePriority,Id=tt.unstable_UserBlockingPriority,vi=tt.unstable_NormalPriority,sp=tt.unstable_LowPriority,Md=tt.unstable_IdlePriority,Bi=null,St=null;function ip(e){if(St&&typeof St.onCommitFiberRoot=="function")try{St.onCommitFiberRoot(Bi,e,void 0,(e.current.flags&128)===128)}catch{}}var vt=Math.clz32?Math.clz32:ap,op=Math.log,lp=Math.LN2;function ap(e){return e>>>=0,e===0?32:31-(op(e)/lp|0)|0}var Is=64,Ms=4194304;function qn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function yi(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~s;l!==0?n=qn(l):(i&=o,i!==0&&(n=qn(i)))}else o=r&~s,o!==0?n=qn(o):i!==0&&(n=qn(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-vt(t),s=1<<r,n|=e[r],t&=~s;return n}function up(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cp(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-vt(i),l=1<<o,u=s[o];u===-1?(!(l&r)||l&n)&&(s[o]=up(l,t)):u<=t&&(e.expiredLanes|=l),i&=~l}}function fl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Ud(){var e=Is;return Is<<=1,!(Is&4194240)&&(Is=64),e}function xo(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Ns(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-vt(t),e[t]=r}function dp(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-vt(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function ga(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-vt(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var ie=0;function Fd(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Dd,va,Bd,qd,Qd,hl=!1,Us=[],tr=null,rr=null,nr=null,as=new Map,us=new Map,Kt=[],fp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Eu(e,t){switch(e){case"focusin":case"focusout":tr=null;break;case"dragenter":case"dragleave":rr=null;break;case"mouseover":case"mouseout":nr=null;break;case"pointerover":case"pointerout":as.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":us.delete(t.pointerId)}}function Rn(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Cs(t),t!==null&&va(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function hp(e,t,r,n,s){switch(t){case"focusin":return tr=Rn(tr,e,t,r,n,s),!0;case"dragenter":return rr=Rn(rr,e,t,r,n,s),!0;case"mouseover":return nr=Rn(nr,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return as.set(i,Rn(as.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,us.set(i,Rn(us.get(i)||null,e,t,r,n,s)),!0}return!1}function Hd(e){var t=Sr(e.target);if(t!==null){var r=Mr(t);if(r!==null){if(t=r.tag,t===13){if(t=Ld(r),t!==null){e.blockedOn=t,Qd(e.priority,function(){Bd(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ni(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=ml(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);al=n,r.target.dispatchEvent(n),al=null}else return t=Cs(r),t!==null&&va(t),e.blockedOn=r,!1;t.shift()}return!0}function Cu(e,t,r){ni(e)&&r.delete(t)}function mp(){hl=!1,tr!==null&&ni(tr)&&(tr=null),rr!==null&&ni(rr)&&(rr=null),nr!==null&&ni(nr)&&(nr=null),as.forEach(Cu),us.forEach(Cu)}function $n(e,t){e.blockedOn===t&&(e.blockedOn=null,hl||(hl=!0,tt.unstable_scheduleCallback(tt.unstable_NormalPriority,mp)))}function cs(e){function t(s){return $n(s,e)}if(0<Us.length){$n(Us[0],e);for(var r=1;r<Us.length;r++){var n=Us[r];n.blockedOn===e&&(n.blockedOn=null)}}for(tr!==null&&$n(tr,e),rr!==null&&$n(rr,e),nr!==null&&$n(nr,e),as.forEach(t),us.forEach(t),r=0;r<Kt.length;r++)n=Kt[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Kt.length&&(r=Kt[0],r.blockedOn===null);)Hd(r),r.blockedOn===null&&Kt.shift()}var an=Ut.ReactCurrentBatchConfig,xi=!0;function pp(e,t,r,n){var s=ie,i=an.transition;an.transition=null;try{ie=1,ya(e,t,r,n)}finally{ie=s,an.transition=i}}function gp(e,t,r,n){var s=ie,i=an.transition;an.transition=null;try{ie=4,ya(e,t,r,n)}finally{ie=s,an.transition=i}}function ya(e,t,r,n){if(xi){var s=ml(e,t,r,n);if(s===null)Po(e,t,n,wi,r),Eu(e,n);else if(hp(s,e,t,r,n))n.stopPropagation();else if(Eu(e,n),t&4&&-1<fp.indexOf(e)){for(;s!==null;){var i=Cs(s);if(i!==null&&Dd(i),i=ml(e,t,r,n),i===null&&Po(e,t,n,wi,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else Po(e,t,n,null,r)}}var wi=null;function ml(e,t,r,n){if(wi=null,e=ma(n),e=Sr(e),e!==null)if(t=Mr(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Ld(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return wi=e,null}function Vd(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(np()){case pa:return 1;case Id:return 4;case vi:case sp:return 16;case Md:return 536870912;default:return 16}default:return 16}}var Yt=null,xa=null,si=null;function Wd(){if(si)return si;var e,t=xa,r=t.length,n,s="value"in Yt?Yt.value:Yt.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===s[i-n];n++);return si=s.slice(e,1<n?1-n:void 0)}function ii(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Fs(){return!0}function Pu(){return!1}function nt(e){function t(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Fs:Pu,this.isPropagationStopped=Pu,this}return ye(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Fs)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Fs)},persist:function(){},isPersistent:Fs}),t}var jn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wa=nt(jn),Es=ye({},jn,{view:0,detail:0}),vp=nt(Es),wo,_o,zn,qi=ye({},Es,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_a,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==zn&&(zn&&e.type==="mousemove"?(wo=e.screenX-zn.screenX,_o=e.screenY-zn.screenY):_o=wo=0,zn=e),wo)},movementY:function(e){return"movementY"in e?e.movementY:_o}}),Tu=nt(qi),yp=ye({},qi,{dataTransfer:0}),xp=nt(yp),wp=ye({},Es,{relatedTarget:0}),ko=nt(wp),_p=ye({},jn,{animationName:0,elapsedTime:0,pseudoElement:0}),kp=nt(_p),jp=ye({},jn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bp=nt(jp),Sp=ye({},jn,{data:0}),Au=nt(Sp),Np={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ep={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pp(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Cp[e])?!!t[e]:!1}function _a(){return Pp}var Tp=ye({},Es,{key:function(e){if(e.key){var t=Np[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ii(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ep[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_a,charCode:function(e){return e.type==="keypress"?ii(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ii(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ap=nt(Tp),Op=ye({},qi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ou=nt(Op),Lp=ye({},Es,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_a}),Rp=nt(Lp),$p=ye({},jn,{propertyName:0,elapsedTime:0,pseudoElement:0}),zp=nt($p),Ip=ye({},qi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Mp=nt(Ip),Up=[9,13,27,32],ka=Rt&&"CompositionEvent"in window,Kn=null;Rt&&"documentMode"in document&&(Kn=document.documentMode);var Fp=Rt&&"TextEvent"in window&&!Kn,Kd=Rt&&(!ka||Kn&&8<Kn&&11>=Kn),Lu=" ",Ru=!1;function Jd(e,t){switch(e){case"keyup":return Up.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Gd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Kr=!1;function Dp(e,t){switch(e){case"compositionend":return Gd(t);case"keypress":return t.which!==32?null:(Ru=!0,Lu);case"textInput":return e=t.data,e===Lu&&Ru?null:e;default:return null}}function Bp(e,t){if(Kr)return e==="compositionend"||!ka&&Jd(e,t)?(e=Wd(),si=xa=Yt=null,Kr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Kd&&t.locale!=="ko"?null:t.data;default:return null}}var qp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $u(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!qp[e.type]:t==="textarea"}function Xd(e,t,r,n){Cd(n),t=_i(t,"onChange"),0<t.length&&(r=new wa("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Jn=null,ds=null;function Qp(e){uf(e,0)}function Qi(e){var t=Xr(e);if(_d(t))return e}function Hp(e,t){if(e==="change")return t}var Yd=!1;if(Rt){var jo;if(Rt){var bo="oninput"in document;if(!bo){var zu=document.createElement("div");zu.setAttribute("oninput","return;"),bo=typeof zu.oninput=="function"}jo=bo}else jo=!1;Yd=jo&&(!document.documentMode||9<document.documentMode)}function Iu(){Jn&&(Jn.detachEvent("onpropertychange",Zd),ds=Jn=null)}function Zd(e){if(e.propertyName==="value"&&Qi(ds)){var t=[];Xd(t,ds,e,ma(e)),Od(Qp,t)}}function Vp(e,t,r){e==="focusin"?(Iu(),Jn=t,ds=r,Jn.attachEvent("onpropertychange",Zd)):e==="focusout"&&Iu()}function Wp(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Qi(ds)}function Kp(e,t){if(e==="click")return Qi(t)}function Jp(e,t){if(e==="input"||e==="change")return Qi(t)}function Gp(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var xt=typeof Object.is=="function"?Object.is:Gp;function fs(e,t){if(xt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Go.call(t,s)||!xt(e[s],t[s]))return!1}return!0}function Mu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Uu(e,t){var r=Mu(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Mu(r)}}function ef(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?ef(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function tf(){for(var e=window,t=mi();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=mi(e.document)}return t}function ja(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Xp(e){var t=tf(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&ef(r.ownerDocument.documentElement,r)){if(n!==null&&ja(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=Uu(r,i);var o=Uu(r,n);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Yp=Rt&&"documentMode"in document&&11>=document.documentMode,Jr=null,pl=null,Gn=null,gl=!1;function Fu(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;gl||Jr==null||Jr!==mi(n)||(n=Jr,"selectionStart"in n&&ja(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Gn&&fs(Gn,n)||(Gn=n,n=_i(pl,"onSelect"),0<n.length&&(t=new wa("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Jr)))}function Ds(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Gr={animationend:Ds("Animation","AnimationEnd"),animationiteration:Ds("Animation","AnimationIteration"),animationstart:Ds("Animation","AnimationStart"),transitionend:Ds("Transition","TransitionEnd")},So={},rf={};Rt&&(rf=document.createElement("div").style,"AnimationEvent"in window||(delete Gr.animationend.animation,delete Gr.animationiteration.animation,delete Gr.animationstart.animation),"TransitionEvent"in window||delete Gr.transitionend.transition);function Hi(e){if(So[e])return So[e];if(!Gr[e])return e;var t=Gr[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in rf)return So[e]=t[r];return e}var nf=Hi("animationend"),sf=Hi("animationiteration"),of=Hi("animationstart"),lf=Hi("transitionend"),af=new Map,Du="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function fr(e,t){af.set(e,t),Ir(t,[e])}for(var No=0;No<Du.length;No++){var Eo=Du[No],Zp=Eo.toLowerCase(),e0=Eo[0].toUpperCase()+Eo.slice(1);fr(Zp,"on"+e0)}fr(nf,"onAnimationEnd");fr(sf,"onAnimationIteration");fr(of,"onAnimationStart");fr("dblclick","onDoubleClick");fr("focusin","onFocus");fr("focusout","onBlur");fr(lf,"onTransitionEnd");fn("onMouseEnter",["mouseout","mouseover"]);fn("onMouseLeave",["mouseout","mouseover"]);fn("onPointerEnter",["pointerout","pointerover"]);fn("onPointerLeave",["pointerout","pointerover"]);Ir("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ir("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ir("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ir("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ir("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ir("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),t0=new Set("cancel close invalid load scroll toggle".split(" ").concat(Qn));function Bu(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,Zm(n,t,void 0,e),e.currentTarget=null}function uf(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],u=l.instance,c=l.currentTarget;if(l=l.listener,u!==i&&s.isPropagationStopped())break e;Bu(s,l,c),i=u}else for(o=0;o<n.length;o++){if(l=n[o],u=l.instance,c=l.currentTarget,l=l.listener,u!==i&&s.isPropagationStopped())break e;Bu(s,l,c),i=u}}}if(gi)throw e=dl,gi=!1,dl=null,e}function fe(e,t){var r=t[_l];r===void 0&&(r=t[_l]=new Set);var n=e+"__bubble";r.has(n)||(cf(t,e,2,!1),r.add(n))}function Co(e,t,r){var n=0;t&&(n|=4),cf(r,e,n,t)}var Bs="_reactListening"+Math.random().toString(36).slice(2);function hs(e){if(!e[Bs]){e[Bs]=!0,gd.forEach(function(r){r!=="selectionchange"&&(t0.has(r)||Co(r,!1,e),Co(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Bs]||(t[Bs]=!0,Co("selectionchange",!1,t))}}function cf(e,t,r,n){switch(Vd(t)){case 1:var s=pp;break;case 4:s=gp;break;default:s=ya}r=s.bind(null,t,r,e),s=void 0,!cl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function Po(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===s||u.nodeType===8&&u.parentNode===s))return;o=o.return}for(;l!==null;){if(o=Sr(l),o===null)return;if(u=o.tag,u===5||u===6){n=i=o;continue e}l=l.parentNode}}n=n.return}Od(function(){var c=i,d=ma(r),f=[];e:{var h=af.get(e);if(h!==void 0){var m=wa,_=e;switch(e){case"keypress":if(ii(r)===0)break e;case"keydown":case"keyup":m=Ap;break;case"focusin":_="focus",m=ko;break;case"focusout":_="blur",m=ko;break;case"beforeblur":case"afterblur":m=ko;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Tu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=xp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=Rp;break;case nf:case sf:case of:m=kp;break;case lf:m=zp;break;case"scroll":m=vp;break;case"wheel":m=Mp;break;case"copy":case"cut":case"paste":m=bp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Ou}var k=(t&4)!==0,j=!k&&e==="scroll",g=k?h!==null?h+"Capture":null:h;k=[];for(var p=c,y;p!==null;){y=p;var b=y.stateNode;if(y.tag===5&&b!==null&&(y=b,g!==null&&(b=ls(p,g),b!=null&&k.push(ms(p,b,y)))),j)break;p=p.return}0<k.length&&(h=new m(h,_,null,r,d),f.push({event:h,listeners:k}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&r!==al&&(_=r.relatedTarget||r.fromElement)&&(Sr(_)||_[$t]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(_=r.relatedTarget||r.toElement,m=c,_=_?Sr(_):null,_!==null&&(j=Mr(_),_!==j||_.tag!==5&&_.tag!==6)&&(_=null)):(m=null,_=c),m!==_)){if(k=Tu,b="onMouseLeave",g="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(k=Ou,b="onPointerLeave",g="onPointerEnter",p="pointer"),j=m==null?h:Xr(m),y=_==null?h:Xr(_),h=new k(b,p+"leave",m,r,d),h.target=j,h.relatedTarget=y,b=null,Sr(d)===c&&(k=new k(g,p+"enter",_,r,d),k.target=y,k.relatedTarget=j,b=k),j=b,m&&_)t:{for(k=m,g=_,p=0,y=k;y;y=Dr(y))p++;for(y=0,b=g;b;b=Dr(b))y++;for(;0<p-y;)k=Dr(k),p--;for(;0<y-p;)g=Dr(g),y--;for(;p--;){if(k===g||g!==null&&k===g.alternate)break t;k=Dr(k),g=Dr(g)}k=null}else k=null;m!==null&&qu(f,h,m,k,!1),_!==null&&j!==null&&qu(f,j,_,k,!0)}}e:{if(h=c?Xr(c):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var S=Hp;else if($u(h))if(Yd)S=Jp;else{S=Wp;var O=Vp}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=Kp);if(S&&(S=S(e,c))){Xd(f,S,r,d);break e}O&&O(e,h,c),e==="focusout"&&(O=h._wrapperState)&&O.controlled&&h.type==="number"&&nl(h,"number",h.value)}switch(O=c?Xr(c):window,e){case"focusin":($u(O)||O.contentEditable==="true")&&(Jr=O,pl=c,Gn=null);break;case"focusout":Gn=pl=Jr=null;break;case"mousedown":gl=!0;break;case"contextmenu":case"mouseup":case"dragend":gl=!1,Fu(f,r,d);break;case"selectionchange":if(Yp)break;case"keydown":case"keyup":Fu(f,r,d)}var $;if(ka)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Kr?Jd(e,r)&&(C="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(C="onCompositionStart");C&&(Kd&&r.locale!=="ko"&&(Kr||C!=="onCompositionStart"?C==="onCompositionEnd"&&Kr&&($=Wd()):(Yt=d,xa="value"in Yt?Yt.value:Yt.textContent,Kr=!0)),O=_i(c,C),0<O.length&&(C=new Au(C,e,null,r,d),f.push({event:C,listeners:O}),$?C.data=$:($=Gd(r),$!==null&&(C.data=$)))),($=Fp?Dp(e,r):Bp(e,r))&&(c=_i(c,"onBeforeInput"),0<c.length&&(d=new Au("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:c}),d.data=$))}uf(f,t)})}function ms(e,t,r){return{instance:e,listener:t,currentTarget:r}}function _i(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=ls(e,r),i!=null&&n.unshift(ms(e,i,s)),i=ls(e,t),i!=null&&n.push(ms(e,i,s))),e=e.return}return n}function Dr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function qu(e,t,r,n,s){for(var i=t._reactName,o=[];r!==null&&r!==n;){var l=r,u=l.alternate,c=l.stateNode;if(u!==null&&u===n)break;l.tag===5&&c!==null&&(l=c,s?(u=ls(r,i),u!=null&&o.unshift(ms(r,u,l))):s||(u=ls(r,i),u!=null&&o.push(ms(r,u,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var r0=/\r\n?/g,n0=/\u0000|\uFFFD/g;function Qu(e){return(typeof e=="string"?e:""+e).replace(r0,`
`).replace(n0,"")}function qs(e,t,r){if(t=Qu(t),Qu(e)!==t&&r)throw Error(E(425))}function ki(){}var vl=null,yl=null;function xl(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var wl=typeof setTimeout=="function"?setTimeout:void 0,s0=typeof clearTimeout=="function"?clearTimeout:void 0,Hu=typeof Promise=="function"?Promise:void 0,i0=typeof queueMicrotask=="function"?queueMicrotask:typeof Hu<"u"?function(e){return Hu.resolve(null).then(e).catch(o0)}:wl;function o0(e){setTimeout(function(){throw e})}function To(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),cs(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);cs(t)}function sr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Vu(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var bn=Math.random().toString(36).slice(2),bt="__reactFiber$"+bn,ps="__reactProps$"+bn,$t="__reactContainer$"+bn,_l="__reactEvents$"+bn,l0="__reactListeners$"+bn,a0="__reactHandles$"+bn;function Sr(e){var t=e[bt];if(t)return t;for(var r=e.parentNode;r;){if(t=r[$t]||r[bt]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Vu(e);e!==null;){if(r=e[bt])return r;e=Vu(e)}return t}e=r,r=e.parentNode}return null}function Cs(e){return e=e[bt]||e[$t],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Xr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(E(33))}function Vi(e){return e[ps]||null}var kl=[],Yr=-1;function hr(e){return{current:e}}function he(e){0>Yr||(e.current=kl[Yr],kl[Yr]=null,Yr--)}function ue(e,t){Yr++,kl[Yr]=e.current,e.current=t}var dr={},Me=hr(dr),Ke=hr(!1),Or=dr;function hn(e,t){var r=e.type.contextTypes;if(!r)return dr;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Je(e){return e=e.childContextTypes,e!=null}function ji(){he(Ke),he(Me)}function Wu(e,t,r){if(Me.current!==dr)throw Error(E(168));ue(Me,t),ue(Ke,r)}function df(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(E(108,Vm(e)||"Unknown",s));return ye({},r,n)}function bi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||dr,Or=Me.current,ue(Me,e),ue(Ke,Ke.current),!0}function Ku(e,t,r){var n=e.stateNode;if(!n)throw Error(E(169));r?(e=df(e,t,Or),n.__reactInternalMemoizedMergedChildContext=e,he(Ke),he(Me),ue(Me,e)):he(Ke),ue(Ke,r)}var Tt=null,Wi=!1,Ao=!1;function ff(e){Tt===null?Tt=[e]:Tt.push(e)}function u0(e){Wi=!0,ff(e)}function mr(){if(!Ao&&Tt!==null){Ao=!0;var e=0,t=ie;try{var r=Tt;for(ie=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Tt=null,Wi=!1}catch(s){throw Tt!==null&&(Tt=Tt.slice(e+1)),zd(pa,mr),s}finally{ie=t,Ao=!1}}return null}var Zr=[],en=0,Si=null,Ni=0,it=[],ot=0,Lr=null,At=1,Ot="";function _r(e,t){Zr[en++]=Ni,Zr[en++]=Si,Si=e,Ni=t}function hf(e,t,r){it[ot++]=At,it[ot++]=Ot,it[ot++]=Lr,Lr=e;var n=At;e=Ot;var s=32-vt(n)-1;n&=~(1<<s),r+=1;var i=32-vt(t)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,At=1<<32-vt(t)+s|r<<s|n,Ot=i+e}else At=1<<i|r<<s|n,Ot=e}function ba(e){e.return!==null&&(_r(e,1),hf(e,1,0))}function Sa(e){for(;e===Si;)Si=Zr[--en],Zr[en]=null,Ni=Zr[--en],Zr[en]=null;for(;e===Lr;)Lr=it[--ot],it[ot]=null,Ot=it[--ot],it[ot]=null,At=it[--ot],it[ot]=null}var et=null,Ze=null,me=!1,gt=null;function mf(e,t){var r=lt(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Ju(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,et=e,Ze=sr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,et=e,Ze=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Lr!==null?{id:At,overflow:Ot}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=lt(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,et=e,Ze=null,!0):!1;default:return!1}}function jl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function bl(e){if(me){var t=Ze;if(t){var r=t;if(!Ju(e,t)){if(jl(e))throw Error(E(418));t=sr(r.nextSibling);var n=et;t&&Ju(e,t)?mf(n,r):(e.flags=e.flags&-4097|2,me=!1,et=e)}}else{if(jl(e))throw Error(E(418));e.flags=e.flags&-4097|2,me=!1,et=e}}}function Gu(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;et=e}function Qs(e){if(e!==et)return!1;if(!me)return Gu(e),me=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!xl(e.type,e.memoizedProps)),t&&(t=Ze)){if(jl(e))throw pf(),Error(E(418));for(;t;)mf(e,t),t=sr(t.nextSibling)}if(Gu(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(E(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Ze=sr(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Ze=null}}else Ze=et?sr(e.stateNode.nextSibling):null;return!0}function pf(){for(var e=Ze;e;)e=sr(e.nextSibling)}function mn(){Ze=et=null,me=!1}function Na(e){gt===null?gt=[e]:gt.push(e)}var c0=Ut.ReactCurrentBatchConfig;function In(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(E(309));var n=r.stateNode}if(!n)throw Error(E(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(E(284));if(!r._owner)throw Error(E(290,e))}return e}function Hs(e,t){throw e=Object.prototype.toString.call(t),Error(E(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Xu(e){var t=e._init;return t(e._payload)}function gf(e){function t(g,p){if(e){var y=g.deletions;y===null?(g.deletions=[p],g.flags|=16):y.push(p)}}function r(g,p){if(!e)return null;for(;p!==null;)t(g,p),p=p.sibling;return null}function n(g,p){for(g=new Map;p!==null;)p.key!==null?g.set(p.key,p):g.set(p.index,p),p=p.sibling;return g}function s(g,p){return g=ar(g,p),g.index=0,g.sibling=null,g}function i(g,p,y){return g.index=y,e?(y=g.alternate,y!==null?(y=y.index,y<p?(g.flags|=2,p):y):(g.flags|=2,p)):(g.flags|=1048576,p)}function o(g){return e&&g.alternate===null&&(g.flags|=2),g}function l(g,p,y,b){return p===null||p.tag!==6?(p=Mo(y,g.mode,b),p.return=g,p):(p=s(p,y),p.return=g,p)}function u(g,p,y,b){var S=y.type;return S===Wr?d(g,p,y.props.children,b,y.key):p!==null&&(p.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Ht&&Xu(S)===p.type)?(b=s(p,y.props),b.ref=In(g,p,y),b.return=g,b):(b=fi(y.type,y.key,y.props,null,g.mode,b),b.ref=In(g,p,y),b.return=g,b)}function c(g,p,y,b){return p===null||p.tag!==4||p.stateNode.containerInfo!==y.containerInfo||p.stateNode.implementation!==y.implementation?(p=Uo(y,g.mode,b),p.return=g,p):(p=s(p,y.children||[]),p.return=g,p)}function d(g,p,y,b,S){return p===null||p.tag!==7?(p=Tr(y,g.mode,b,S),p.return=g,p):(p=s(p,y),p.return=g,p)}function f(g,p,y){if(typeof p=="string"&&p!==""||typeof p=="number")return p=Mo(""+p,g.mode,y),p.return=g,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Rs:return y=fi(p.type,p.key,p.props,null,g.mode,y),y.ref=In(g,null,p),y.return=g,y;case Vr:return p=Uo(p,g.mode,y),p.return=g,p;case Ht:var b=p._init;return f(g,b(p._payload),y)}if(Bn(p)||On(p))return p=Tr(p,g.mode,y,null),p.return=g,p;Hs(g,p)}return null}function h(g,p,y,b){var S=p!==null?p.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return S!==null?null:l(g,p,""+y,b);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Rs:return y.key===S?u(g,p,y,b):null;case Vr:return y.key===S?c(g,p,y,b):null;case Ht:return S=y._init,h(g,p,S(y._payload),b)}if(Bn(y)||On(y))return S!==null?null:d(g,p,y,b,null);Hs(g,y)}return null}function m(g,p,y,b,S){if(typeof b=="string"&&b!==""||typeof b=="number")return g=g.get(y)||null,l(p,g,""+b,S);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Rs:return g=g.get(b.key===null?y:b.key)||null,u(p,g,b,S);case Vr:return g=g.get(b.key===null?y:b.key)||null,c(p,g,b,S);case Ht:var O=b._init;return m(g,p,y,O(b._payload),S)}if(Bn(b)||On(b))return g=g.get(y)||null,d(p,g,b,S,null);Hs(p,b)}return null}function _(g,p,y,b){for(var S=null,O=null,$=p,C=p=0,Y=null;$!==null&&C<y.length;C++){$.index>C?(Y=$,$=null):Y=$.sibling;var M=h(g,$,y[C],b);if(M===null){$===null&&($=Y);break}e&&$&&M.alternate===null&&t(g,$),p=i(M,p,C),O===null?S=M:O.sibling=M,O=M,$=Y}if(C===y.length)return r(g,$),me&&_r(g,C),S;if($===null){for(;C<y.length;C++)$=f(g,y[C],b),$!==null&&(p=i($,p,C),O===null?S=$:O.sibling=$,O=$);return me&&_r(g,C),S}for($=n(g,$);C<y.length;C++)Y=m($,g,C,y[C],b),Y!==null&&(e&&Y.alternate!==null&&$.delete(Y.key===null?C:Y.key),p=i(Y,p,C),O===null?S=Y:O.sibling=Y,O=Y);return e&&$.forEach(function(le){return t(g,le)}),me&&_r(g,C),S}function k(g,p,y,b){var S=On(y);if(typeof S!="function")throw Error(E(150));if(y=S.call(y),y==null)throw Error(E(151));for(var O=S=null,$=p,C=p=0,Y=null,M=y.next();$!==null&&!M.done;C++,M=y.next()){$.index>C?(Y=$,$=null):Y=$.sibling;var le=h(g,$,M.value,b);if(le===null){$===null&&($=Y);break}e&&$&&le.alternate===null&&t(g,$),p=i(le,p,C),O===null?S=le:O.sibling=le,O=le,$=Y}if(M.done)return r(g,$),me&&_r(g,C),S;if($===null){for(;!M.done;C++,M=y.next())M=f(g,M.value,b),M!==null&&(p=i(M,p,C),O===null?S=M:O.sibling=M,O=M);return me&&_r(g,C),S}for($=n(g,$);!M.done;C++,M=y.next())M=m($,g,C,M.value,b),M!==null&&(e&&M.alternate!==null&&$.delete(M.key===null?C:M.key),p=i(M,p,C),O===null?S=M:O.sibling=M,O=M);return e&&$.forEach(function(G){return t(g,G)}),me&&_r(g,C),S}function j(g,p,y,b){if(typeof y=="object"&&y!==null&&y.type===Wr&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Rs:e:{for(var S=y.key,O=p;O!==null;){if(O.key===S){if(S=y.type,S===Wr){if(O.tag===7){r(g,O.sibling),p=s(O,y.props.children),p.return=g,g=p;break e}}else if(O.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Ht&&Xu(S)===O.type){r(g,O.sibling),p=s(O,y.props),p.ref=In(g,O,y),p.return=g,g=p;break e}r(g,O);break}else t(g,O);O=O.sibling}y.type===Wr?(p=Tr(y.props.children,g.mode,b,y.key),p.return=g,g=p):(b=fi(y.type,y.key,y.props,null,g.mode,b),b.ref=In(g,p,y),b.return=g,g=b)}return o(g);case Vr:e:{for(O=y.key;p!==null;){if(p.key===O)if(p.tag===4&&p.stateNode.containerInfo===y.containerInfo&&p.stateNode.implementation===y.implementation){r(g,p.sibling),p=s(p,y.children||[]),p.return=g,g=p;break e}else{r(g,p);break}else t(g,p);p=p.sibling}p=Uo(y,g.mode,b),p.return=g,g=p}return o(g);case Ht:return O=y._init,j(g,p,O(y._payload),b)}if(Bn(y))return _(g,p,y,b);if(On(y))return k(g,p,y,b);Hs(g,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,p!==null&&p.tag===6?(r(g,p.sibling),p=s(p,y),p.return=g,g=p):(r(g,p),p=Mo(y,g.mode,b),p.return=g,g=p),o(g)):r(g,p)}return j}var pn=gf(!0),vf=gf(!1),Ei=hr(null),Ci=null,tn=null,Ea=null;function Ca(){Ea=tn=Ci=null}function Pa(e){var t=Ei.current;he(Ei),e._currentValue=t}function Sl(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function un(e,t){Ci=e,Ea=tn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(We=!0),e.firstContext=null)}function ct(e){var t=e._currentValue;if(Ea!==e)if(e={context:e,memoizedValue:t,next:null},tn===null){if(Ci===null)throw Error(E(308));tn=e,Ci.dependencies={lanes:0,firstContext:e}}else tn=tn.next=e;return t}var Nr=null;function Ta(e){Nr===null?Nr=[e]:Nr.push(e)}function yf(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,Ta(t)):(r.next=s.next,s.next=r),t.interleaved=r,zt(e,n)}function zt(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Vt=!1;function Aa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function xf(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Lt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ir(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,re&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,zt(e,r)}return s=n.interleaved,s===null?(t.next=t,Ta(n)):(t.next=s.next,s.next=t),n.interleaved=t,zt(e,r)}function oi(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,ga(e,r)}}function Yu(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Pi(e,t,r,n){var s=e.updateQueue;Vt=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var u=l,c=u.next;u.next=null,o===null?i=c:o.next=c,o=u;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=c:l.next=c,d.lastBaseUpdate=u))}if(i!==null){var f=s.baseState;o=0,d=c=u=null,l=i;do{var h=l.lane,m=l.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var _=e,k=l;switch(h=t,m=r,k.tag){case 1:if(_=k.payload,typeof _=="function"){f=_.call(m,f,h);break e}f=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=k.payload,h=typeof _=="function"?_.call(m,f,h):_,h==null)break e;f=ye({},f,h);break e;case 2:Vt=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[l]:h.push(l))}else m={eventTime:m,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(c=d=m,u=f):d=d.next=m,o|=h;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;h=l,l=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(d===null&&(u=f),s.baseState=u,s.firstBaseUpdate=c,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);$r|=o,e.lanes=o,e.memoizedState=f}}function Zu(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(E(191,s));s.call(n)}}}var Ps={},Nt=hr(Ps),gs=hr(Ps),vs=hr(Ps);function Er(e){if(e===Ps)throw Error(E(174));return e}function Oa(e,t){switch(ue(vs,t),ue(gs,e),ue(Nt,Ps),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:il(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=il(t,e)}he(Nt),ue(Nt,t)}function gn(){he(Nt),he(gs),he(vs)}function wf(e){Er(vs.current);var t=Er(Nt.current),r=il(t,e.type);t!==r&&(ue(gs,e),ue(Nt,r))}function La(e){gs.current===e&&(he(Nt),he(gs))}var ge=hr(0);function Ti(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Oo=[];function Ra(){for(var e=0;e<Oo.length;e++)Oo[e]._workInProgressVersionPrimary=null;Oo.length=0}var li=Ut.ReactCurrentDispatcher,Lo=Ut.ReactCurrentBatchConfig,Rr=0,ve=null,Ne=null,Te=null,Ai=!1,Xn=!1,ys=0,d0=0;function $e(){throw Error(E(321))}function $a(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!xt(e[r],t[r]))return!1;return!0}function za(e,t,r,n,s,i){if(Rr=i,ve=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,li.current=e===null||e.memoizedState===null?p0:g0,e=r(n,s),Xn){i=0;do{if(Xn=!1,ys=0,25<=i)throw Error(E(301));i+=1,Te=Ne=null,t.updateQueue=null,li.current=v0,e=r(n,s)}while(Xn)}if(li.current=Oi,t=Ne!==null&&Ne.next!==null,Rr=0,Te=Ne=ve=null,Ai=!1,t)throw Error(E(300));return e}function Ia(){var e=ys!==0;return ys=0,e}function jt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Te===null?ve.memoizedState=Te=e:Te=Te.next=e,Te}function dt(){if(Ne===null){var e=ve.alternate;e=e!==null?e.memoizedState:null}else e=Ne.next;var t=Te===null?ve.memoizedState:Te.next;if(t!==null)Te=t,Ne=e;else{if(e===null)throw Error(E(310));Ne=e,e={memoizedState:Ne.memoizedState,baseState:Ne.baseState,baseQueue:Ne.baseQueue,queue:Ne.queue,next:null},Te===null?ve.memoizedState=Te=e:Te=Te.next=e}return Te}function xs(e,t){return typeof t=="function"?t(e):t}function Ro(e){var t=dt(),r=t.queue;if(r===null)throw Error(E(311));r.lastRenderedReducer=e;var n=Ne,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var l=o=null,u=null,c=i;do{var d=c.lane;if((Rr&d)===d)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:e(n,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(l=u=f,o=n):u=u.next=f,ve.lanes|=d,$r|=d}c=c.next}while(c!==null&&c!==i);u===null?o=n:u.next=l,xt(n,t.memoizedState)||(We=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=u,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,ve.lanes|=i,$r|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function $o(e){var t=dt(),r=t.queue;if(r===null)throw Error(E(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);xt(i,t.memoizedState)||(We=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function _f(){}function kf(e,t){var r=ve,n=dt(),s=t(),i=!xt(n.memoizedState,s);if(i&&(n.memoizedState=s,We=!0),n=n.queue,Ma(Sf.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||Te!==null&&Te.memoizedState.tag&1){if(r.flags|=2048,ws(9,bf.bind(null,r,n,s,t),void 0,null),Ae===null)throw Error(E(349));Rr&30||jf(r,t,s)}return s}function jf(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=ve.updateQueue,t===null?(t={lastEffect:null,stores:null},ve.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function bf(e,t,r,n){t.value=r,t.getSnapshot=n,Nf(t)&&Ef(e)}function Sf(e,t,r){return r(function(){Nf(t)&&Ef(e)})}function Nf(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!xt(e,r)}catch{return!0}}function Ef(e){var t=zt(e,1);t!==null&&yt(t,e,1,-1)}function ec(e){var t=jt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xs,lastRenderedState:e},t.queue=e,e=e.dispatch=m0.bind(null,ve,e),[t.memoizedState,e]}function ws(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=ve.updateQueue,t===null?(t={lastEffect:null,stores:null},ve.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Cf(){return dt().memoizedState}function ai(e,t,r,n){var s=jt();ve.flags|=e,s.memoizedState=ws(1|t,r,void 0,n===void 0?null:n)}function Ki(e,t,r,n){var s=dt();n=n===void 0?null:n;var i=void 0;if(Ne!==null){var o=Ne.memoizedState;if(i=o.destroy,n!==null&&$a(n,o.deps)){s.memoizedState=ws(t,r,i,n);return}}ve.flags|=e,s.memoizedState=ws(1|t,r,i,n)}function tc(e,t){return ai(8390656,8,e,t)}function Ma(e,t){return Ki(2048,8,e,t)}function Pf(e,t){return Ki(4,2,e,t)}function Tf(e,t){return Ki(4,4,e,t)}function Af(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Of(e,t,r){return r=r!=null?r.concat([e]):null,Ki(4,4,Af.bind(null,t,e),r)}function Ua(){}function Lf(e,t){var r=dt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&$a(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Rf(e,t){var r=dt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&$a(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function $f(e,t,r){return Rr&21?(xt(r,t)||(r=Ud(),ve.lanes|=r,$r|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,We=!0),e.memoizedState=r)}function f0(e,t){var r=ie;ie=r!==0&&4>r?r:4,e(!0);var n=Lo.transition;Lo.transition={};try{e(!1),t()}finally{ie=r,Lo.transition=n}}function zf(){return dt().memoizedState}function h0(e,t,r){var n=lr(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},If(e))Mf(t,r);else if(r=yf(e,t,r,n),r!==null){var s=Fe();yt(r,e,n,s),Uf(r,t,n)}}function m0(e,t,r){var n=lr(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(If(e))Mf(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,r);if(s.hasEagerState=!0,s.eagerState=l,xt(l,o)){var u=t.interleaved;u===null?(s.next=s,Ta(t)):(s.next=u.next,u.next=s),t.interleaved=s;return}}catch{}finally{}r=yf(e,t,s,n),r!==null&&(s=Fe(),yt(r,e,n,s),Uf(r,t,n))}}function If(e){var t=e.alternate;return e===ve||t!==null&&t===ve}function Mf(e,t){Xn=Ai=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Uf(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,ga(e,r)}}var Oi={readContext:ct,useCallback:$e,useContext:$e,useEffect:$e,useImperativeHandle:$e,useInsertionEffect:$e,useLayoutEffect:$e,useMemo:$e,useReducer:$e,useRef:$e,useState:$e,useDebugValue:$e,useDeferredValue:$e,useTransition:$e,useMutableSource:$e,useSyncExternalStore:$e,useId:$e,unstable_isNewReconciler:!1},p0={readContext:ct,useCallback:function(e,t){return jt().memoizedState=[e,t===void 0?null:t],e},useContext:ct,useEffect:tc,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,ai(4194308,4,Af.bind(null,t,e),r)},useLayoutEffect:function(e,t){return ai(4194308,4,e,t)},useInsertionEffect:function(e,t){return ai(4,2,e,t)},useMemo:function(e,t){var r=jt();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=jt();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=h0.bind(null,ve,e),[n.memoizedState,e]},useRef:function(e){var t=jt();return e={current:e},t.memoizedState=e},useState:ec,useDebugValue:Ua,useDeferredValue:function(e){return jt().memoizedState=e},useTransition:function(){var e=ec(!1),t=e[0];return e=f0.bind(null,e[1]),jt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=ve,s=jt();if(me){if(r===void 0)throw Error(E(407));r=r()}else{if(r=t(),Ae===null)throw Error(E(349));Rr&30||jf(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,tc(Sf.bind(null,n,i,e),[e]),n.flags|=2048,ws(9,bf.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=jt(),t=Ae.identifierPrefix;if(me){var r=Ot,n=At;r=(n&~(1<<32-vt(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=ys++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=d0++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},g0={readContext:ct,useCallback:Lf,useContext:ct,useEffect:Ma,useImperativeHandle:Of,useInsertionEffect:Pf,useLayoutEffect:Tf,useMemo:Rf,useReducer:Ro,useRef:Cf,useState:function(){return Ro(xs)},useDebugValue:Ua,useDeferredValue:function(e){var t=dt();return $f(t,Ne.memoizedState,e)},useTransition:function(){var e=Ro(xs)[0],t=dt().memoizedState;return[e,t]},useMutableSource:_f,useSyncExternalStore:kf,useId:zf,unstable_isNewReconciler:!1},v0={readContext:ct,useCallback:Lf,useContext:ct,useEffect:Ma,useImperativeHandle:Of,useInsertionEffect:Pf,useLayoutEffect:Tf,useMemo:Rf,useReducer:$o,useRef:Cf,useState:function(){return $o(xs)},useDebugValue:Ua,useDeferredValue:function(e){var t=dt();return Ne===null?t.memoizedState=e:$f(t,Ne.memoizedState,e)},useTransition:function(){var e=$o(xs)[0],t=dt().memoizedState;return[e,t]},useMutableSource:_f,useSyncExternalStore:kf,useId:zf,unstable_isNewReconciler:!1};function ht(e,t){if(e&&e.defaultProps){t=ye({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Nl(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:ye({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Ji={isMounted:function(e){return(e=e._reactInternals)?Mr(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Fe(),s=lr(e),i=Lt(n,s);i.payload=t,r!=null&&(i.callback=r),t=ir(e,i,s),t!==null&&(yt(t,e,s,n),oi(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Fe(),s=lr(e),i=Lt(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=ir(e,i,s),t!==null&&(yt(t,e,s,n),oi(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Fe(),n=lr(e),s=Lt(r,n);s.tag=2,t!=null&&(s.callback=t),t=ir(e,s,n),t!==null&&(yt(t,e,n,r),oi(t,e,n))}};function rc(e,t,r,n,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!fs(r,n)||!fs(s,i):!0}function Ff(e,t,r){var n=!1,s=dr,i=t.contextType;return typeof i=="object"&&i!==null?i=ct(i):(s=Je(t)?Or:Me.current,n=t.contextTypes,i=(n=n!=null)?hn(e,s):dr),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ji,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function nc(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Ji.enqueueReplaceState(t,t.state,null)}function El(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},Aa(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=ct(i):(i=Je(t)?Or:Me.current,s.context=hn(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Nl(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Ji.enqueueReplaceState(s,s.state,null),Pi(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function vn(e,t){try{var r="",n=t;do r+=Hm(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function zo(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Cl(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var y0=typeof WeakMap=="function"?WeakMap:Map;function Df(e,t,r){r=Lt(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Ri||(Ri=!0,Ml=n),Cl(e,t)},r}function Bf(e,t,r){r=Lt(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){Cl(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Cl(e,t),typeof n!="function"&&(or===null?or=new Set([this]):or.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function sc(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new y0;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=O0.bind(null,e,t,r),t.then(e,e))}function ic(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function oc(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Lt(-1,1),t.tag=2,ir(r,t,1))),r.lanes|=1),e)}var x0=Ut.ReactCurrentOwner,We=!1;function Ue(e,t,r,n){t.child=e===null?vf(t,null,r,n):pn(t,e.child,r,n)}function lc(e,t,r,n,s){r=r.render;var i=t.ref;return un(t,s),n=za(e,t,r,n,i,s),r=Ia(),e!==null&&!We?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,It(e,t,s)):(me&&r&&ba(t),t.flags|=1,Ue(e,t,n,s),t.child)}function ac(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!Wa(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,qf(e,t,i,n,s)):(e=fi(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:fs,r(o,n)&&e.ref===t.ref)return It(e,t,s)}return t.flags|=1,e=ar(i,n),e.ref=t.ref,e.return=t,t.child=e}function qf(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(fs(i,n)&&e.ref===t.ref)if(We=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(We=!0);else return t.lanes=e.lanes,It(e,t,s)}return Pl(e,t,r,n,s)}function Qf(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ue(nn,Ye),Ye|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ue(nn,Ye),Ye|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,ue(nn,Ye),Ye|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,ue(nn,Ye),Ye|=n;return Ue(e,t,s,r),t.child}function Hf(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Pl(e,t,r,n,s){var i=Je(r)?Or:Me.current;return i=hn(t,i),un(t,s),r=za(e,t,r,n,i,s),n=Ia(),e!==null&&!We?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,It(e,t,s)):(me&&n&&ba(t),t.flags|=1,Ue(e,t,r,s),t.child)}function uc(e,t,r,n,s){if(Je(r)){var i=!0;bi(t)}else i=!1;if(un(t,s),t.stateNode===null)ui(e,t),Ff(t,r,n),El(t,r,n,s),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var u=o.context,c=r.contextType;typeof c=="object"&&c!==null?c=ct(c):(c=Je(r)?Or:Me.current,c=hn(t,c));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||u!==c)&&nc(t,o,n,c),Vt=!1;var h=t.memoizedState;o.state=h,Pi(t,n,o,s),u=t.memoizedState,l!==n||h!==u||Ke.current||Vt?(typeof d=="function"&&(Nl(t,r,d,n),u=t.memoizedState),(l=Vt||rc(t,r,l,n,h,u,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=u),o.props=n,o.state=u,o.context=c,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,xf(e,t),l=t.memoizedProps,c=t.type===t.elementType?l:ht(t.type,l),o.props=c,f=t.pendingProps,h=o.context,u=r.contextType,typeof u=="object"&&u!==null?u=ct(u):(u=Je(r)?Or:Me.current,u=hn(t,u));var m=r.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||h!==u)&&nc(t,o,n,u),Vt=!1,h=t.memoizedState,o.state=h,Pi(t,n,o,s);var _=t.memoizedState;l!==f||h!==_||Ke.current||Vt?(typeof m=="function"&&(Nl(t,r,m,n),_=t.memoizedState),(c=Vt||rc(t,r,c,n,h,_,u)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,_,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,_,u)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=_),o.props=n,o.state=_,o.context=u,n=c):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return Tl(e,t,r,n,i,s)}function Tl(e,t,r,n,s,i){Hf(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return s&&Ku(t,r,!1),It(e,t,i);n=t.stateNode,x0.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=pn(t,e.child,null,i),t.child=pn(t,null,l,i)):Ue(e,t,l,i),t.memoizedState=n.state,s&&Ku(t,r,!0),t.child}function Vf(e){var t=e.stateNode;t.pendingContext?Wu(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Wu(e,t.context,!1),Oa(e,t.containerInfo)}function cc(e,t,r,n,s){return mn(),Na(s),t.flags|=256,Ue(e,t,r,n),t.child}var Al={dehydrated:null,treeContext:null,retryLane:0};function Ol(e){return{baseLanes:e,cachePool:null,transitions:null}}function Wf(e,t,r){var n=t.pendingProps,s=ge.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),ue(ge,s&1),e===null)return bl(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Yi(o,n,0,null),e=Tr(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Ol(r),t.memoizedState=Al,e):Fa(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return w0(e,t,o,n,l,s,r);if(i){i=n.fallback,o=t.mode,s=e.child,l=s.sibling;var u={mode:"hidden",children:n.children};return!(o&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=u,t.deletions=null):(n=ar(s,u),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=ar(l,i):(i=Tr(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?Ol(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=Al,n}return i=e.child,e=i.sibling,n=ar(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Fa(e,t){return t=Yi({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Vs(e,t,r,n){return n!==null&&Na(n),pn(t,e.child,null,r),e=Fa(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function w0(e,t,r,n,s,i,o){if(r)return t.flags&256?(t.flags&=-257,n=zo(Error(E(422))),Vs(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=Yi({mode:"visible",children:n.children},s,0,null),i=Tr(i,s,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&pn(t,e.child,null,o),t.child.memoizedState=Ol(o),t.memoizedState=Al,i);if(!(t.mode&1))return Vs(e,t,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(E(419)),n=zo(i,n,void 0),Vs(e,t,o,n)}if(l=(o&e.childLanes)!==0,We||l){if(n=Ae,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,zt(e,s),yt(n,e,s,-1))}return Va(),n=zo(Error(E(421))),Vs(e,t,o,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=L0.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Ze=sr(s.nextSibling),et=t,me=!0,gt=null,e!==null&&(it[ot++]=At,it[ot++]=Ot,it[ot++]=Lr,At=e.id,Ot=e.overflow,Lr=t),t=Fa(t,n.children),t.flags|=4096,t)}function dc(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Sl(e.return,t,r)}function Io(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function Kf(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(Ue(e,t,n.children,r),n=ge.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&dc(e,r,t);else if(e.tag===19)dc(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(ue(ge,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&Ti(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),Io(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Ti(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}Io(t,!0,r,null,i);break;case"together":Io(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ui(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function It(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),$r|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(E(153));if(t.child!==null){for(e=t.child,r=ar(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=ar(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function _0(e,t,r){switch(t.tag){case 3:Vf(t),mn();break;case 5:wf(t);break;case 1:Je(t.type)&&bi(t);break;case 4:Oa(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;ue(Ei,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(ue(ge,ge.current&1),t.flags|=128,null):r&t.child.childLanes?Wf(e,t,r):(ue(ge,ge.current&1),e=It(e,t,r),e!==null?e.sibling:null);ue(ge,ge.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return Kf(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ue(ge,ge.current),n)break;return null;case 22:case 23:return t.lanes=0,Qf(e,t,r)}return It(e,t,r)}var Jf,Ll,Gf,Xf;Jf=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Ll=function(){};Gf=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,Er(Nt.current);var i=null;switch(r){case"input":s=tl(e,s),n=tl(e,n),i=[];break;case"select":s=ye({},s,{value:void 0}),n=ye({},n,{value:void 0}),i=[];break;case"textarea":s=sl(e,s),n=sl(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=ki)}ol(r,n);var o;r=null;for(c in s)if(!n.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var l=s[c];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(is.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in n){var u=n[c];if(l=s!=null?s[c]:void 0,n.hasOwnProperty(c)&&u!==l&&(u!=null||l!=null))if(c==="style")if(l){for(o in l)!l.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in u)u.hasOwnProperty(o)&&l[o]!==u[o]&&(r||(r={}),r[o]=u[o])}else r||(i||(i=[]),i.push(c,r)),r=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(i=i||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(i=i||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(is.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&fe("scroll",e),i||l===u||(i=[])):(i=i||[]).push(c,u))}r&&(i=i||[]).push("style",r);var c=i;(t.updateQueue=c)&&(t.flags|=4)}};Xf=function(e,t,r,n){r!==n&&(t.flags|=4)};function Mn(e,t){if(!me)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function ze(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function k0(e,t,r){var n=t.pendingProps;switch(Sa(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ze(t),null;case 1:return Je(t.type)&&ji(),ze(t),null;case 3:return n=t.stateNode,gn(),he(Ke),he(Me),Ra(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Qs(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,gt!==null&&(Dl(gt),gt=null))),Ll(e,t),ze(t),null;case 5:La(t);var s=Er(vs.current);if(r=t.type,e!==null&&t.stateNode!=null)Gf(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(E(166));return ze(t),null}if(e=Er(Nt.current),Qs(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[bt]=t,n[ps]=i,e=(t.mode&1)!==0,r){case"dialog":fe("cancel",n),fe("close",n);break;case"iframe":case"object":case"embed":fe("load",n);break;case"video":case"audio":for(s=0;s<Qn.length;s++)fe(Qn[s],n);break;case"source":fe("error",n);break;case"img":case"image":case"link":fe("error",n),fe("load",n);break;case"details":fe("toggle",n);break;case"input":wu(n,i),fe("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},fe("invalid",n);break;case"textarea":ku(n,i),fe("invalid",n)}ol(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&qs(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&qs(n.textContent,l,e),s=["children",""+l]):is.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&fe("scroll",n)}switch(r){case"input":$s(n),_u(n,i,!0);break;case"textarea":$s(n),ju(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=ki)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=bd(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[bt]=t,e[ps]=n,Jf(e,t,!1,!1),t.stateNode=e;e:{switch(o=ll(r,n),r){case"dialog":fe("cancel",e),fe("close",e),s=n;break;case"iframe":case"object":case"embed":fe("load",e),s=n;break;case"video":case"audio":for(s=0;s<Qn.length;s++)fe(Qn[s],e);s=n;break;case"source":fe("error",e),s=n;break;case"img":case"image":case"link":fe("error",e),fe("load",e),s=n;break;case"details":fe("toggle",e),s=n;break;case"input":wu(e,n),s=tl(e,n),fe("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=ye({},n,{value:void 0}),fe("invalid",e);break;case"textarea":ku(e,n),s=sl(e,n),fe("invalid",e);break;default:s=n}ol(r,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var u=l[i];i==="style"?Ed(e,u):i==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&Sd(e,u)):i==="children"?typeof u=="string"?(r!=="textarea"||u!=="")&&os(e,u):typeof u=="number"&&os(e,""+u):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(is.hasOwnProperty(i)?u!=null&&i==="onScroll"&&fe("scroll",e):u!=null&&ca(e,i,u,o))}switch(r){case"input":$s(e),_u(e,n,!1);break;case"textarea":$s(e),ju(e);break;case"option":n.value!=null&&e.setAttribute("value",""+cr(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?sn(e,!!n.multiple,i,!1):n.defaultValue!=null&&sn(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=ki)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ze(t),null;case 6:if(e&&t.stateNode!=null)Xf(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(E(166));if(r=Er(vs.current),Er(Nt.current),Qs(t)){if(n=t.stateNode,r=t.memoizedProps,n[bt]=t,(i=n.nodeValue!==r)&&(e=et,e!==null))switch(e.tag){case 3:qs(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&qs(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[bt]=t,t.stateNode=n}return ze(t),null;case 13:if(he(ge),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(me&&Ze!==null&&t.mode&1&&!(t.flags&128))pf(),mn(),t.flags|=98560,i=!1;else if(i=Qs(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(E(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(E(317));i[bt]=t}else mn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ze(t),i=!1}else gt!==null&&(Dl(gt),gt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||ge.current&1?Ee===0&&(Ee=3):Va())),t.updateQueue!==null&&(t.flags|=4),ze(t),null);case 4:return gn(),Ll(e,t),e===null&&hs(t.stateNode.containerInfo),ze(t),null;case 10:return Pa(t.type._context),ze(t),null;case 17:return Je(t.type)&&ji(),ze(t),null;case 19:if(he(ge),i=t.memoizedState,i===null)return ze(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)Mn(i,!1);else{if(Ee!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Ti(e),o!==null){for(t.flags|=128,Mn(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return ue(ge,ge.current&1|2),t.child}e=e.sibling}i.tail!==null&&je()>yn&&(t.flags|=128,n=!0,Mn(i,!1),t.lanes=4194304)}else{if(!n)if(e=Ti(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Mn(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!me)return ze(t),null}else 2*je()-i.renderingStartTime>yn&&r!==1073741824&&(t.flags|=128,n=!0,Mn(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=je(),t.sibling=null,r=ge.current,ue(ge,n?r&1|2:r&1),t):(ze(t),null);case 22:case 23:return Ha(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Ye&1073741824&&(ze(t),t.subtreeFlags&6&&(t.flags|=8192)):ze(t),null;case 24:return null;case 25:return null}throw Error(E(156,t.tag))}function j0(e,t){switch(Sa(t),t.tag){case 1:return Je(t.type)&&ji(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return gn(),he(Ke),he(Me),Ra(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return La(t),null;case 13:if(he(ge),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(E(340));mn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return he(ge),null;case 4:return gn(),null;case 10:return Pa(t.type._context),null;case 22:case 23:return Ha(),null;case 24:return null;default:return null}}var Ws=!1,Ie=!1,b0=typeof WeakSet=="function"?WeakSet:Set,U=null;function rn(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){xe(e,t,n)}else r.current=null}function Rl(e,t,r){try{r()}catch(n){xe(e,t,n)}}var fc=!1;function S0(e,t){if(vl=xi,e=tf(),ja(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,u=-1,c=0,d=0,f=e,h=null;t:for(;;){for(var m;f!==r||s!==0&&f.nodeType!==3||(l=o+s),f!==i||n!==0&&f.nodeType!==3||(u=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===e)break t;if(h===r&&++c===s&&(l=o),h===i&&++d===n&&(u=o),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}r=l===-1||u===-1?null:{start:l,end:u}}else r=null}r=r||{start:0,end:0}}else r=null;for(yl={focusedElem:e,selectionRange:r},xi=!1,U=t;U!==null;)if(t=U,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,U=e;else for(;U!==null;){t=U;try{var _=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var k=_.memoizedProps,j=_.memoizedState,g=t.stateNode,p=g.getSnapshotBeforeUpdate(t.elementType===t.type?k:ht(t.type,k),j);g.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(E(163))}}catch(b){xe(t,t.return,b)}if(e=t.sibling,e!==null){e.return=t.return,U=e;break}U=t.return}return _=fc,fc=!1,_}function Yn(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&Rl(t,r,i)}s=s.next}while(s!==n)}}function Gi(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function $l(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Yf(e){var t=e.alternate;t!==null&&(e.alternate=null,Yf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[bt],delete t[ps],delete t[_l],delete t[l0],delete t[a0])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Zf(e){return e.tag===5||e.tag===3||e.tag===4}function hc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Zf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function zl(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=ki));else if(n!==4&&(e=e.child,e!==null))for(zl(e,t,r),e=e.sibling;e!==null;)zl(e,t,r),e=e.sibling}function Il(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Il(e,t,r),e=e.sibling;e!==null;)Il(e,t,r),e=e.sibling}var Oe=null,mt=!1;function Bt(e,t,r){for(r=r.child;r!==null;)eh(e,t,r),r=r.sibling}function eh(e,t,r){if(St&&typeof St.onCommitFiberUnmount=="function")try{St.onCommitFiberUnmount(Bi,r)}catch{}switch(r.tag){case 5:Ie||rn(r,t);case 6:var n=Oe,s=mt;Oe=null,Bt(e,t,r),Oe=n,mt=s,Oe!==null&&(mt?(e=Oe,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Oe.removeChild(r.stateNode));break;case 18:Oe!==null&&(mt?(e=Oe,r=r.stateNode,e.nodeType===8?To(e.parentNode,r):e.nodeType===1&&To(e,r),cs(e)):To(Oe,r.stateNode));break;case 4:n=Oe,s=mt,Oe=r.stateNode.containerInfo,mt=!0,Bt(e,t,r),Oe=n,mt=s;break;case 0:case 11:case 14:case 15:if(!Ie&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Rl(r,t,o),s=s.next}while(s!==n)}Bt(e,t,r);break;case 1:if(!Ie&&(rn(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){xe(r,t,l)}Bt(e,t,r);break;case 21:Bt(e,t,r);break;case 22:r.mode&1?(Ie=(n=Ie)||r.memoizedState!==null,Bt(e,t,r),Ie=n):Bt(e,t,r);break;default:Bt(e,t,r)}}function mc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new b0),t.forEach(function(n){var s=R0.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function ft(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Oe=l.stateNode,mt=!1;break e;case 3:Oe=l.stateNode.containerInfo,mt=!0;break e;case 4:Oe=l.stateNode.containerInfo,mt=!0;break e}l=l.return}if(Oe===null)throw Error(E(160));eh(i,o,s),Oe=null,mt=!1;var u=s.alternate;u!==null&&(u.return=null),s.return=null}catch(c){xe(s,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)th(t,e),t=t.sibling}function th(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ft(t,e),wt(e),n&4){try{Yn(3,e,e.return),Gi(3,e)}catch(k){xe(e,e.return,k)}try{Yn(5,e,e.return)}catch(k){xe(e,e.return,k)}}break;case 1:ft(t,e),wt(e),n&512&&r!==null&&rn(r,r.return);break;case 5:if(ft(t,e),wt(e),n&512&&r!==null&&rn(r,r.return),e.flags&32){var s=e.stateNode;try{os(s,"")}catch(k){xe(e,e.return,k)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,l=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&kd(s,i),ll(l,o);var c=ll(l,i);for(o=0;o<u.length;o+=2){var d=u[o],f=u[o+1];d==="style"?Ed(s,f):d==="dangerouslySetInnerHTML"?Sd(s,f):d==="children"?os(s,f):ca(s,d,f,c)}switch(l){case"input":rl(s,i);break;case"textarea":jd(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?sn(s,!!i.multiple,m,!1):h!==!!i.multiple&&(i.defaultValue!=null?sn(s,!!i.multiple,i.defaultValue,!0):sn(s,!!i.multiple,i.multiple?[]:"",!1))}s[ps]=i}catch(k){xe(e,e.return,k)}}break;case 6:if(ft(t,e),wt(e),n&4){if(e.stateNode===null)throw Error(E(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(k){xe(e,e.return,k)}}break;case 3:if(ft(t,e),wt(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{cs(t.containerInfo)}catch(k){xe(e,e.return,k)}break;case 4:ft(t,e),wt(e);break;case 13:ft(t,e),wt(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(qa=je())),n&4&&mc(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Ie=(c=Ie)||d,ft(t,e),Ie=c):ft(t,e),wt(e),n&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!d&&e.mode&1)for(U=e,d=e.child;d!==null;){for(f=U=d;U!==null;){switch(h=U,m=h.child,h.tag){case 0:case 11:case 14:case 15:Yn(4,h,h.return);break;case 1:rn(h,h.return);var _=h.stateNode;if(typeof _.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,_.props=t.memoizedProps,_.state=t.memoizedState,_.componentWillUnmount()}catch(k){xe(n,r,k)}}break;case 5:rn(h,h.return);break;case 22:if(h.memoizedState!==null){gc(f);continue}}m!==null?(m.return=h,U=m):gc(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,u=f.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=Nd("display",o))}catch(k){xe(e,e.return,k)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(k){xe(e,e.return,k)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:ft(t,e),wt(e),n&4&&mc(e);break;case 21:break;default:ft(t,e),wt(e)}}function wt(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Zf(r)){var n=r;break e}r=r.return}throw Error(E(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(os(s,""),n.flags&=-33);var i=hc(e);Il(e,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,l=hc(e);zl(e,l,o);break;default:throw Error(E(161))}}catch(u){xe(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function N0(e,t,r){U=e,rh(e)}function rh(e,t,r){for(var n=(e.mode&1)!==0;U!==null;){var s=U,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||Ws;if(!o){var l=s.alternate,u=l!==null&&l.memoizedState!==null||Ie;l=Ws;var c=Ie;if(Ws=o,(Ie=u)&&!c)for(U=s;U!==null;)o=U,u=o.child,o.tag===22&&o.memoizedState!==null?vc(s):u!==null?(u.return=o,U=u):vc(s);for(;i!==null;)U=i,rh(i),i=i.sibling;U=s,Ws=l,Ie=c}pc(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,U=i):pc(e)}}function pc(e){for(;U!==null;){var t=U;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ie||Gi(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Ie)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:ht(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Zu(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Zu(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&r.focus();break;case"img":u.src&&(r.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&cs(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(E(163))}Ie||t.flags&512&&$l(t)}catch(h){xe(t,t.return,h)}}if(t===e){U=null;break}if(r=t.sibling,r!==null){r.return=t.return,U=r;break}U=t.return}}function gc(e){for(;U!==null;){var t=U;if(t===e){U=null;break}var r=t.sibling;if(r!==null){r.return=t.return,U=r;break}U=t.return}}function vc(e){for(;U!==null;){var t=U;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Gi(4,t)}catch(u){xe(t,r,u)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(u){xe(t,s,u)}}var i=t.return;try{$l(t)}catch(u){xe(t,i,u)}break;case 5:var o=t.return;try{$l(t)}catch(u){xe(t,o,u)}}}catch(u){xe(t,t.return,u)}if(t===e){U=null;break}var l=t.sibling;if(l!==null){l.return=t.return,U=l;break}U=t.return}}var E0=Math.ceil,Li=Ut.ReactCurrentDispatcher,Da=Ut.ReactCurrentOwner,at=Ut.ReactCurrentBatchConfig,re=0,Ae=null,Se=null,Le=0,Ye=0,nn=hr(0),Ee=0,_s=null,$r=0,Xi=0,Ba=0,Zn=null,Qe=null,qa=0,yn=1/0,Ct=null,Ri=!1,Ml=null,or=null,Ks=!1,Zt=null,$i=0,es=0,Ul=null,ci=-1,di=0;function Fe(){return re&6?je():ci!==-1?ci:ci=je()}function lr(e){return e.mode&1?re&2&&Le!==0?Le&-Le:c0.transition!==null?(di===0&&(di=Ud()),di):(e=ie,e!==0||(e=window.event,e=e===void 0?16:Vd(e.type)),e):1}function yt(e,t,r,n){if(50<es)throw es=0,Ul=null,Error(E(185));Ns(e,r,n),(!(re&2)||e!==Ae)&&(e===Ae&&(!(re&2)&&(Xi|=r),Ee===4&&Jt(e,Le)),Ge(e,n),r===1&&re===0&&!(t.mode&1)&&(yn=je()+500,Wi&&mr()))}function Ge(e,t){var r=e.callbackNode;cp(e,t);var n=yi(e,e===Ae?Le:0);if(n===0)r!==null&&Nu(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Nu(r),t===1)e.tag===0?u0(yc.bind(null,e)):ff(yc.bind(null,e)),i0(function(){!(re&6)&&mr()}),r=null;else{switch(Fd(n)){case 1:r=pa;break;case 4:r=Id;break;case 16:r=vi;break;case 536870912:r=Md;break;default:r=vi}r=ch(r,nh.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function nh(e,t){if(ci=-1,di=0,re&6)throw Error(E(327));var r=e.callbackNode;if(cn()&&e.callbackNode!==r)return null;var n=yi(e,e===Ae?Le:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=zi(e,n);else{t=n;var s=re;re|=2;var i=ih();(Ae!==e||Le!==t)&&(Ct=null,yn=je()+500,Pr(e,t));do try{T0();break}catch(l){sh(e,l)}while(!0);Ca(),Li.current=i,re=s,Se!==null?t=0:(Ae=null,Le=0,t=Ee)}if(t!==0){if(t===2&&(s=fl(e),s!==0&&(n=s,t=Fl(e,s))),t===1)throw r=_s,Pr(e,0),Jt(e,n),Ge(e,je()),r;if(t===6)Jt(e,n);else{if(s=e.current.alternate,!(n&30)&&!C0(s)&&(t=zi(e,n),t===2&&(i=fl(e),i!==0&&(n=i,t=Fl(e,i))),t===1))throw r=_s,Pr(e,0),Jt(e,n),Ge(e,je()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(E(345));case 2:kr(e,Qe,Ct);break;case 3:if(Jt(e,n),(n&130023424)===n&&(t=qa+500-je(),10<t)){if(yi(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){Fe(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=wl(kr.bind(null,e,Qe,Ct),t);break}kr(e,Qe,Ct);break;case 4:if(Jt(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var o=31-vt(n);i=1<<o,o=t[o],o>s&&(s=o),n&=~i}if(n=s,n=je()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*E0(n/1960))-n,10<n){e.timeoutHandle=wl(kr.bind(null,e,Qe,Ct),n);break}kr(e,Qe,Ct);break;case 5:kr(e,Qe,Ct);break;default:throw Error(E(329))}}}return Ge(e,je()),e.callbackNode===r?nh.bind(null,e):null}function Fl(e,t){var r=Zn;return e.current.memoizedState.isDehydrated&&(Pr(e,t).flags|=256),e=zi(e,t),e!==2&&(t=Qe,Qe=r,t!==null&&Dl(t)),e}function Dl(e){Qe===null?Qe=e:Qe.push.apply(Qe,e)}function C0(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!xt(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Jt(e,t){for(t&=~Ba,t&=~Xi,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-vt(t),n=1<<r;e[r]=-1,t&=~n}}function yc(e){if(re&6)throw Error(E(327));cn();var t=yi(e,0);if(!(t&1))return Ge(e,je()),null;var r=zi(e,t);if(e.tag!==0&&r===2){var n=fl(e);n!==0&&(t=n,r=Fl(e,n))}if(r===1)throw r=_s,Pr(e,0),Jt(e,t),Ge(e,je()),r;if(r===6)throw Error(E(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,kr(e,Qe,Ct),Ge(e,je()),null}function Qa(e,t){var r=re;re|=1;try{return e(t)}finally{re=r,re===0&&(yn=je()+500,Wi&&mr())}}function zr(e){Zt!==null&&Zt.tag===0&&!(re&6)&&cn();var t=re;re|=1;var r=at.transition,n=ie;try{if(at.transition=null,ie=1,e)return e()}finally{ie=n,at.transition=r,re=t,!(re&6)&&mr()}}function Ha(){Ye=nn.current,he(nn)}function Pr(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,s0(r)),Se!==null)for(r=Se.return;r!==null;){var n=r;switch(Sa(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&ji();break;case 3:gn(),he(Ke),he(Me),Ra();break;case 5:La(n);break;case 4:gn();break;case 13:he(ge);break;case 19:he(ge);break;case 10:Pa(n.type._context);break;case 22:case 23:Ha()}r=r.return}if(Ae=e,Se=e=ar(e.current,null),Le=Ye=t,Ee=0,_s=null,Ba=Xi=$r=0,Qe=Zn=null,Nr!==null){for(t=0;t<Nr.length;t++)if(r=Nr[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}Nr=null}return e}function sh(e,t){do{var r=Se;try{if(Ca(),li.current=Oi,Ai){for(var n=ve.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Ai=!1}if(Rr=0,Te=Ne=ve=null,Xn=!1,ys=0,Da.current=null,r===null||r.return===null){Ee=1,_s=t,Se=null;break}e:{var i=e,o=r.return,l=r,u=t;if(t=Le,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=ic(o);if(m!==null){m.flags&=-257,oc(m,o,l,i,t),m.mode&1&&sc(i,c,t),t=m,u=c;var _=t.updateQueue;if(_===null){var k=new Set;k.add(u),t.updateQueue=k}else _.add(u);break e}else{if(!(t&1)){sc(i,c,t),Va();break e}u=Error(E(426))}}else if(me&&l.mode&1){var j=ic(o);if(j!==null){!(j.flags&65536)&&(j.flags|=256),oc(j,o,l,i,t),Na(vn(u,l));break e}}i=u=vn(u,l),Ee!==4&&(Ee=2),Zn===null?Zn=[i]:Zn.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var g=Df(i,u,t);Yu(i,g);break e;case 1:l=u;var p=i.type,y=i.stateNode;if(!(i.flags&128)&&(typeof p.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(or===null||!or.has(y)))){i.flags|=65536,t&=-t,i.lanes|=t;var b=Bf(i,l,t);Yu(i,b);break e}}i=i.return}while(i!==null)}lh(r)}catch(S){t=S,Se===r&&r!==null&&(Se=r=r.return);continue}break}while(!0)}function ih(){var e=Li.current;return Li.current=Oi,e===null?Oi:e}function Va(){(Ee===0||Ee===3||Ee===2)&&(Ee=4),Ae===null||!($r&268435455)&&!(Xi&268435455)||Jt(Ae,Le)}function zi(e,t){var r=re;re|=2;var n=ih();(Ae!==e||Le!==t)&&(Ct=null,Pr(e,t));do try{P0();break}catch(s){sh(e,s)}while(!0);if(Ca(),re=r,Li.current=n,Se!==null)throw Error(E(261));return Ae=null,Le=0,Ee}function P0(){for(;Se!==null;)oh(Se)}function T0(){for(;Se!==null&&!tp();)oh(Se)}function oh(e){var t=uh(e.alternate,e,Ye);e.memoizedProps=e.pendingProps,t===null?lh(e):Se=t,Da.current=null}function lh(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=j0(r,t),r!==null){r.flags&=32767,Se=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ee=6,Se=null;return}}else if(r=k0(r,t,Ye),r!==null){Se=r;return}if(t=t.sibling,t!==null){Se=t;return}Se=t=e}while(t!==null);Ee===0&&(Ee=5)}function kr(e,t,r){var n=ie,s=at.transition;try{at.transition=null,ie=1,A0(e,t,r,n)}finally{at.transition=s,ie=n}return null}function A0(e,t,r,n){do cn();while(Zt!==null);if(re&6)throw Error(E(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(E(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(dp(e,i),e===Ae&&(Se=Ae=null,Le=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Ks||(Ks=!0,ch(vi,function(){return cn(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=at.transition,at.transition=null;var o=ie;ie=1;var l=re;re|=4,Da.current=null,S0(e,r),th(r,e),Xp(yl),xi=!!vl,yl=vl=null,e.current=r,N0(r),rp(),re=l,ie=o,at.transition=i}else e.current=r;if(Ks&&(Ks=!1,Zt=e,$i=s),i=e.pendingLanes,i===0&&(or=null),ip(r.stateNode),Ge(e,je()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Ri)throw Ri=!1,e=Ml,Ml=null,e;return $i&1&&e.tag!==0&&cn(),i=e.pendingLanes,i&1?e===Ul?es++:(es=0,Ul=e):es=0,mr(),null}function cn(){if(Zt!==null){var e=Fd($i),t=at.transition,r=ie;try{if(at.transition=null,ie=16>e?16:e,Zt===null)var n=!1;else{if(e=Zt,Zt=null,$i=0,re&6)throw Error(E(331));var s=re;for(re|=4,U=e.current;U!==null;){var i=U,o=i.child;if(U.flags&16){var l=i.deletions;if(l!==null){for(var u=0;u<l.length;u++){var c=l[u];for(U=c;U!==null;){var d=U;switch(d.tag){case 0:case 11:case 15:Yn(8,d,i)}var f=d.child;if(f!==null)f.return=d,U=f;else for(;U!==null;){d=U;var h=d.sibling,m=d.return;if(Yf(d),d===c){U=null;break}if(h!==null){h.return=m,U=h;break}U=m}}}var _=i.alternate;if(_!==null){var k=_.child;if(k!==null){_.child=null;do{var j=k.sibling;k.sibling=null,k=j}while(k!==null)}}U=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,U=o;else e:for(;U!==null;){if(i=U,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Yn(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,U=g;break e}U=i.return}}var p=e.current;for(U=p;U!==null;){o=U;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,U=y;else e:for(o=p;U!==null;){if(l=U,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Gi(9,l)}}catch(S){xe(l,l.return,S)}if(l===o){U=null;break e}var b=l.sibling;if(b!==null){b.return=l.return,U=b;break e}U=l.return}}if(re=s,mr(),St&&typeof St.onPostCommitFiberRoot=="function")try{St.onPostCommitFiberRoot(Bi,e)}catch{}n=!0}return n}finally{ie=r,at.transition=t}}return!1}function xc(e,t,r){t=vn(r,t),t=Df(e,t,1),e=ir(e,t,1),t=Fe(),e!==null&&(Ns(e,1,t),Ge(e,t))}function xe(e,t,r){if(e.tag===3)xc(e,e,r);else for(;t!==null;){if(t.tag===3){xc(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(or===null||!or.has(n))){e=vn(r,e),e=Bf(t,e,1),t=ir(t,e,1),e=Fe(),t!==null&&(Ns(t,1,e),Ge(t,e));break}}t=t.return}}function O0(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Fe(),e.pingedLanes|=e.suspendedLanes&r,Ae===e&&(Le&r)===r&&(Ee===4||Ee===3&&(Le&130023424)===Le&&500>je()-qa?Pr(e,0):Ba|=r),Ge(e,t)}function ah(e,t){t===0&&(e.mode&1?(t=Ms,Ms<<=1,!(Ms&130023424)&&(Ms=4194304)):t=1);var r=Fe();e=zt(e,t),e!==null&&(Ns(e,t,r),Ge(e,r))}function L0(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),ah(e,r)}function R0(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(E(314))}n!==null&&n.delete(t),ah(e,r)}var uh;uh=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ke.current)We=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return We=!1,_0(e,t,r);We=!!(e.flags&131072)}else We=!1,me&&t.flags&1048576&&hf(t,Ni,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;ui(e,t),e=t.pendingProps;var s=hn(t,Me.current);un(t,r),s=za(null,t,n,e,s,r);var i=Ia();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Je(n)?(i=!0,bi(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Aa(t),s.updater=Ji,t.stateNode=s,s._reactInternals=t,El(t,n,e,r),t=Tl(null,t,n,!0,i,r)):(t.tag=0,me&&i&&ba(t),Ue(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(ui(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=z0(n),e=ht(n,e),s){case 0:t=Pl(null,t,n,e,r);break e;case 1:t=uc(null,t,n,e,r);break e;case 11:t=lc(null,t,n,e,r);break e;case 14:t=ac(null,t,n,ht(n.type,e),r);break e}throw Error(E(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:ht(n,s),Pl(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:ht(n,s),uc(e,t,n,s,r);case 3:e:{if(Vf(t),e===null)throw Error(E(387));n=t.pendingProps,i=t.memoizedState,s=i.element,xf(e,t),Pi(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=vn(Error(E(423)),t),t=cc(e,t,n,r,s);break e}else if(n!==s){s=vn(Error(E(424)),t),t=cc(e,t,n,r,s);break e}else for(Ze=sr(t.stateNode.containerInfo.firstChild),et=t,me=!0,gt=null,r=vf(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(mn(),n===s){t=It(e,t,r);break e}Ue(e,t,n,r)}t=t.child}return t;case 5:return wf(t),e===null&&bl(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,xl(n,s)?o=null:i!==null&&xl(n,i)&&(t.flags|=32),Hf(e,t),Ue(e,t,o,r),t.child;case 6:return e===null&&bl(t),null;case 13:return Wf(e,t,r);case 4:return Oa(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=pn(t,null,n,r):Ue(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:ht(n,s),lc(e,t,n,s,r);case 7:return Ue(e,t,t.pendingProps,r),t.child;case 8:return Ue(e,t,t.pendingProps.children,r),t.child;case 12:return Ue(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,ue(Ei,n._currentValue),n._currentValue=o,i!==null)if(xt(i.value,o)){if(i.children===s.children&&!Ke.current){t=It(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var u=l.firstContext;u!==null;){if(u.context===n){if(i.tag===1){u=Lt(-1,r&-r),u.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}i.lanes|=r,u=i.alternate,u!==null&&(u.lanes|=r),Sl(i.return,r,t),l.lanes|=r;break}u=u.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(E(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),Sl(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Ue(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,un(t,r),s=ct(s),n=n(s),t.flags|=1,Ue(e,t,n,r),t.child;case 14:return n=t.type,s=ht(n,t.pendingProps),s=ht(n.type,s),ac(e,t,n,s,r);case 15:return qf(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:ht(n,s),ui(e,t),t.tag=1,Je(n)?(e=!0,bi(t)):e=!1,un(t,r),Ff(t,n,s),El(t,n,s,r),Tl(null,t,n,!0,e,r);case 19:return Kf(e,t,r);case 22:return Qf(e,t,r)}throw Error(E(156,t.tag))};function ch(e,t){return zd(e,t)}function $0(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function lt(e,t,r,n){return new $0(e,t,r,n)}function Wa(e){return e=e.prototype,!(!e||!e.isReactComponent)}function z0(e){if(typeof e=="function")return Wa(e)?1:0;if(e!=null){if(e=e.$$typeof,e===fa)return 11;if(e===ha)return 14}return 2}function ar(e,t){var r=e.alternate;return r===null?(r=lt(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function fi(e,t,r,n,s,i){var o=2;if(n=e,typeof e=="function")Wa(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Wr:return Tr(r.children,s,i,t);case da:o=8,s|=8;break;case Xo:return e=lt(12,r,t,s|2),e.elementType=Xo,e.lanes=i,e;case Yo:return e=lt(13,r,t,s),e.elementType=Yo,e.lanes=i,e;case Zo:return e=lt(19,r,t,s),e.elementType=Zo,e.lanes=i,e;case xd:return Yi(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case vd:o=10;break e;case yd:o=9;break e;case fa:o=11;break e;case ha:o=14;break e;case Ht:o=16,n=null;break e}throw Error(E(130,e==null?e:typeof e,""))}return t=lt(o,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function Tr(e,t,r,n){return e=lt(7,e,n,t),e.lanes=r,e}function Yi(e,t,r,n){return e=lt(22,e,n,t),e.elementType=xd,e.lanes=r,e.stateNode={isHidden:!1},e}function Mo(e,t,r){return e=lt(6,e,null,t),e.lanes=r,e}function Uo(e,t,r){return t=lt(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function I0(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=xo(0),this.expirationTimes=xo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xo(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Ka(e,t,r,n,s,i,o,l,u){return e=new I0(e,t,r,l,u),t===1?(t=1,i===!0&&(t|=8)):t=0,i=lt(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Aa(i),e}function M0(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Vr,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function dh(e){if(!e)return dr;e=e._reactInternals;e:{if(Mr(e)!==e||e.tag!==1)throw Error(E(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Je(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(E(171))}if(e.tag===1){var r=e.type;if(Je(r))return df(e,r,t)}return t}function fh(e,t,r,n,s,i,o,l,u){return e=Ka(r,n,!0,e,s,i,o,l,u),e.context=dh(null),r=e.current,n=Fe(),s=lr(r),i=Lt(n,s),i.callback=t??null,ir(r,i,s),e.current.lanes=s,Ns(e,s,n),Ge(e,n),e}function Zi(e,t,r,n){var s=t.current,i=Fe(),o=lr(s);return r=dh(r),t.context===null?t.context=r:t.pendingContext=r,t=Lt(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=ir(s,t,o),e!==null&&(yt(e,s,o,i),oi(e,s,o)),o}function Ii(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function wc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Ja(e,t){wc(e,t),(e=e.alternate)&&wc(e,t)}function U0(){return null}var hh=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ga(e){this._internalRoot=e}eo.prototype.render=Ga.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(E(409));Zi(e,t,null,null)};eo.prototype.unmount=Ga.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;zr(function(){Zi(null,e,null,null)}),t[$t]=null}};function eo(e){this._internalRoot=e}eo.prototype.unstable_scheduleHydration=function(e){if(e){var t=qd();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Kt.length&&t!==0&&t<Kt[r].priority;r++);Kt.splice(r,0,e),r===0&&Hd(e)}};function Xa(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function to(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function _c(){}function F0(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var c=Ii(o);i.call(c)}}var o=fh(t,n,e,0,null,!1,!1,"",_c);return e._reactRootContainer=o,e[$t]=o.current,hs(e.nodeType===8?e.parentNode:e),zr(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var c=Ii(u);l.call(c)}}var u=Ka(e,0,!1,null,null,!1,!1,"",_c);return e._reactRootContainer=u,e[$t]=u.current,hs(e.nodeType===8?e.parentNode:e),zr(function(){Zi(t,u,r,n)}),u}function ro(e,t,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var u=Ii(o);l.call(u)}}Zi(t,o,e,s)}else o=F0(r,t,e,s,n);return Ii(o)}Dd=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=qn(t.pendingLanes);r!==0&&(ga(t,r|1),Ge(t,je()),!(re&6)&&(yn=je()+500,mr()))}break;case 13:zr(function(){var n=zt(e,1);if(n!==null){var s=Fe();yt(n,e,1,s)}}),Ja(e,1)}};va=function(e){if(e.tag===13){var t=zt(e,134217728);if(t!==null){var r=Fe();yt(t,e,134217728,r)}Ja(e,134217728)}};Bd=function(e){if(e.tag===13){var t=lr(e),r=zt(e,t);if(r!==null){var n=Fe();yt(r,e,t,n)}Ja(e,t)}};qd=function(){return ie};Qd=function(e,t){var r=ie;try{return ie=e,t()}finally{ie=r}};ul=function(e,t,r){switch(t){case"input":if(rl(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=Vi(n);if(!s)throw Error(E(90));_d(n),rl(n,s)}}}break;case"textarea":jd(e,r);break;case"select":t=r.value,t!=null&&sn(e,!!r.multiple,t,!1)}};Td=Qa;Ad=zr;var D0={usingClientEntryPoint:!1,Events:[Cs,Xr,Vi,Cd,Pd,Qa]},Un={findFiberByHostInstance:Sr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},B0={bundleType:Un.bundleType,version:Un.version,rendererPackageName:Un.rendererPackageName,rendererConfig:Un.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ut.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Rd(e),e===null?null:e.stateNode},findFiberByHostInstance:Un.findFiberByHostInstance||U0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Js=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Js.isDisabled&&Js.supportsFiber)try{Bi=Js.inject(B0),St=Js}catch{}}rt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D0;rt.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Xa(t))throw Error(E(200));return M0(e,t,null,r)};rt.createRoot=function(e,t){if(!Xa(e))throw Error(E(299));var r=!1,n="",s=hh;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Ka(e,1,!1,null,null,r,!1,n,s),e[$t]=t.current,hs(e.nodeType===8?e.parentNode:e),new Ga(t)};rt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(E(188)):(e=Object.keys(e).join(","),Error(E(268,e)));return e=Rd(t),e=e===null?null:e.stateNode,e};rt.flushSync=function(e){return zr(e)};rt.hydrate=function(e,t,r){if(!to(t))throw Error(E(200));return ro(null,e,t,!0,r)};rt.hydrateRoot=function(e,t,r){if(!Xa(e))throw Error(E(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=hh;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=fh(t,null,e,1,r??null,s,!1,i,o),e[$t]=t.current,hs(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new eo(t)};rt.render=function(e,t,r){if(!to(t))throw Error(E(200));return ro(null,e,t,!1,r)};rt.unmountComponentAtNode=function(e){if(!to(e))throw Error(E(40));return e._reactRootContainer?(zr(function(){ro(null,null,e,!1,function(){e._reactRootContainer=null,e[$t]=null})}),!0):!1};rt.unstable_batchedUpdates=Qa;rt.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!to(r))throw Error(E(200));if(e==null||e._reactInternals===void 0)throw Error(E(38));return ro(e,t,r,!1,n)};rt.version="18.3.1-next-f1338f8080-20240426";function mh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(mh)}catch(e){console.error(e)}}mh(),hd.exports=rt;var q0=hd.exports,ph,kc=q0;ph=kc.createRoot,kc.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ks(){return ks=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ks.apply(this,arguments)}var er;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(er||(er={}));const jc="popstate";function Q0(e){e===void 0&&(e={});function t(n,s){let{pathname:i,search:o,hash:l}=n.location;return Bl("",{pathname:i,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:Mi(s)}return V0(t,r,null,e)}function be(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function gh(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function H0(){return Math.random().toString(36).substr(2,8)}function bc(e,t){return{usr:e.state,key:e.key,idx:t}}function Bl(e,t,r,n){return r===void 0&&(r=null),ks({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Sn(t):t,{state:r,key:t&&t.key||n||H0()})}function Mi(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Sn(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function V0(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,o=s.history,l=er.Pop,u=null,c=d();c==null&&(c=0,o.replaceState(ks({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function f(){l=er.Pop;let j=d(),g=j==null?null:j-c;c=j,u&&u({action:l,location:k.location,delta:g})}function h(j,g){l=er.Push;let p=Bl(k.location,j,g);c=d()+1;let y=bc(p,c),b=k.createHref(p);try{o.pushState(y,"",b)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;s.location.assign(b)}i&&u&&u({action:l,location:k.location,delta:1})}function m(j,g){l=er.Replace;let p=Bl(k.location,j,g);c=d();let y=bc(p,c),b=k.createHref(p);o.replaceState(y,"",b),i&&u&&u({action:l,location:k.location,delta:0})}function _(j){let g=s.location.origin!=="null"?s.location.origin:s.location.href,p=typeof j=="string"?j:Mi(j);return p=p.replace(/ $/,"%20"),be(g,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,g)}let k={get action(){return l},get location(){return e(s,o)},listen(j){if(u)throw new Error("A history only accepts one active listener");return s.addEventListener(jc,f),u=j,()=>{s.removeEventListener(jc,f),u=null}},createHref(j){return t(s,j)},createURL:_,encodeLocation(j){let g=_(j);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:h,replace:m,go(j){return o.go(j)}};return k}var Sc;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Sc||(Sc={}));function W0(e,t,r){return r===void 0&&(r="/"),K0(e,t,r)}function K0(e,t,r,n){let s=typeof t=="string"?Sn(t):t,i=Ya(s.pathname||"/",r);if(i==null)return null;let o=vh(e);J0(o);let l=null;for(let u=0;l==null&&u<o.length;++u){let c=lg(i);l=sg(o[u],c)}return l}function vh(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,o,l)=>{let u={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};u.relativePath.startsWith("/")&&(be(u.relativePath.startsWith(n),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(n.length));let c=ur([n,u.relativePath]),d=r.concat(u);i.children&&i.children.length>0&&(be(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),vh(i.children,t,d,c)),!(i.path==null&&!i.index)&&t.push({path:c,score:rg(c,i.index),routesMeta:d})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,o);else for(let u of yh(i.path))s(i,o,u)}),t}function yh(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let o=yh(n.join("/")),l=[];return l.push(...o.map(u=>u===""?i:[i,u].join("/"))),s&&l.push(...o),l.map(u=>e.startsWith("/")&&u===""?"/":u)}function J0(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:ng(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const G0=/^:[\w-]+$/,X0=3,Y0=2,Z0=1,eg=10,tg=-2,Nc=e=>e==="*";function rg(e,t){let r=e.split("/"),n=r.length;return r.some(Nc)&&(n+=tg),t&&(n+=Y0),r.filter(s=>!Nc(s)).reduce((s,i)=>s+(G0.test(i)?X0:i===""?Z0:eg),n)}function ng(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function sg(e,t,r){let{routesMeta:n}=e,s={},i="/",o=[];for(let l=0;l<n.length;++l){let u=n[l],c=l===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",f=ig({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},d),h=u.route;if(!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:ur([i,f.pathname]),pathnameBase:dg(ur([i,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(i=ur([i,f.pathnameBase]))}return o}function ig(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=og(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((c,d,f)=>{let{paramName:h,isOptional:m}=d;if(h==="*"){let k=l[f]||"";o=i.slice(0,i.length-k.length).replace(/(.)\/+$/,"$1")}const _=l[f];return m&&!_?c[h]=void 0:c[h]=(_||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:e}}function og(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),gh(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,u)=>(n.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function lg(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return gh(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Ya(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function ag(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?Sn(e):e;return{pathname:r?r.startsWith("/")?r:ug(r,t):t,search:fg(n),hash:hg(s)}}function ug(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Fo(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function cg(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Za(e,t){let r=cg(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function eu(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=Sn(e):(s=ks({},e),be(!s.pathname||!s.pathname.includes("?"),Fo("?","pathname","search",s)),be(!s.pathname||!s.pathname.includes("#"),Fo("#","pathname","hash",s)),be(!s.search||!s.search.includes("#"),Fo("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,l;if(o==null)l=r;else{let f=t.length-1;if(!n&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;s.pathname=h.join("/")}l=f>=0?t[f]:"/"}let u=ag(s,l),c=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&r.endsWith("/");return!u.pathname.endsWith("/")&&(c||d)&&(u.pathname+="/"),u}const ur=e=>e.join("/").replace(/\/\/+/g,"/"),dg=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),fg=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,hg=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function mg(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const xh=["post","put","patch","delete"];new Set(xh);const pg=["get",...xh];new Set(pg);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function js(){return js=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},js.apply(this,arguments)}const tu=x.createContext(null),gg=x.createContext(null),pr=x.createContext(null),no=x.createContext(null),Ft=x.createContext({outlet:null,matches:[],isDataRoute:!1}),wh=x.createContext(null);function vg(e,t){let{relative:r}=t===void 0?{}:t;Nn()||be(!1);let{basename:n,navigator:s}=x.useContext(pr),{hash:i,pathname:o,search:l}=kh(e,{relative:r}),u=o;return n!=="/"&&(u=o==="/"?n:ur([n,o])),s.createHref({pathname:u,search:l,hash:i})}function Nn(){return x.useContext(no)!=null}function En(){return Nn()||be(!1),x.useContext(no).location}function _h(e){x.useContext(pr).static||x.useLayoutEffect(e)}function Dt(){let{isDataRoute:e}=x.useContext(Ft);return e?Og():yg()}function yg(){Nn()||be(!1);let e=x.useContext(tu),{basename:t,future:r,navigator:n}=x.useContext(pr),{matches:s}=x.useContext(Ft),{pathname:i}=En(),o=JSON.stringify(Za(s,r.v7_relativeSplatPath)),l=x.useRef(!1);return _h(()=>{l.current=!0}),x.useCallback(function(c,d){if(d===void 0&&(d={}),!l.current)return;if(typeof c=="number"){n.go(c);return}let f=eu(c,JSON.parse(o),i,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:ur([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,o,i,e])}const xg=x.createContext(null);function wg(e){let t=x.useContext(Ft).outlet;return t&&x.createElement(xg.Provider,{value:e},t)}function kh(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=x.useContext(pr),{matches:s}=x.useContext(Ft),{pathname:i}=En(),o=JSON.stringify(Za(s,n.v7_relativeSplatPath));return x.useMemo(()=>eu(e,JSON.parse(o),i,r==="path"),[e,o,i,r])}function _g(e,t){return kg(e,t)}function kg(e,t,r,n){Nn()||be(!1);let{navigator:s}=x.useContext(pr),{matches:i}=x.useContext(Ft),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let u=o?o.pathnameBase:"/";o&&o.route;let c=En(),d;if(t){var f;let j=typeof t=="string"?Sn(t):t;u==="/"||(f=j.pathname)!=null&&f.startsWith(u)||be(!1),d=j}else d=c;let h=d.pathname||"/",m=h;if(u!=="/"){let j=u.replace(/^\//,"").split("/");m="/"+h.replace(/^\//,"").split("/").slice(j.length).join("/")}let _=W0(e,{pathname:m}),k=Eg(_&&_.map(j=>Object.assign({},j,{params:Object.assign({},l,j.params),pathname:ur([u,s.encodeLocation?s.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?u:ur([u,s.encodeLocation?s.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),i,r,n);return t&&k?x.createElement(no.Provider,{value:{location:js({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:er.Pop}},k):k}function jg(){let e=Ag(),t=mg(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},t),r?x.createElement("pre",{style:s},r):null,null)}const bg=x.createElement(jg,null);class Sg extends x.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?x.createElement(Ft.Provider,{value:this.props.routeContext},x.createElement(wh.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Ng(e){let{routeContext:t,match:r,children:n}=e,s=x.useContext(tu);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),x.createElement(Ft.Provider,{value:t},n)}function Eg(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(s=r)==null?void 0:s.errors;if(l!=null){let d=o.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||be(!1),o=o.slice(0,Math.min(o.length,d+1))}let u=!1,c=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=d),f.route.id){let{loaderData:h,errors:m}=r,_=f.route.loader&&h[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||_){u=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((d,f,h)=>{let m,_=!1,k=null,j=null;r&&(m=l&&f.route.id?l[f.route.id]:void 0,k=f.route.errorElement||bg,u&&(c<0&&h===0?(Lg("route-fallback"),_=!0,j=null):c===h&&(_=!0,j=f.route.hydrateFallbackElement||null)));let g=t.concat(o.slice(0,h+1)),p=()=>{let y;return m?y=k:_?y=j:f.route.Component?y=x.createElement(f.route.Component,null):f.route.element?y=f.route.element:y=d,x.createElement(Ng,{match:f,routeContext:{outlet:d,matches:g,isDataRoute:r!=null},children:y})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?x.createElement(Sg,{location:r.location,revalidation:r.revalidation,component:k,error:m,children:p(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):p()},null)}var jh=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(jh||{}),bh=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(bh||{});function Cg(e){let t=x.useContext(tu);return t||be(!1),t}function Pg(e){let t=x.useContext(gg);return t||be(!1),t}function Tg(e){let t=x.useContext(Ft);return t||be(!1),t}function Sh(e){let t=Tg(),r=t.matches[t.matches.length-1];return r.route.id||be(!1),r.route.id}function Ag(){var e;let t=x.useContext(wh),r=Pg(),n=Sh();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function Og(){let{router:e}=Cg(jh.UseNavigateStable),t=Sh(bh.UseNavigateStable),r=x.useRef(!1);return _h(()=>{r.current=!0}),x.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,js({fromRouteId:t},i)))},[e,t])}const Ec={};function Lg(e,t,r){Ec[e]||(Ec[e]=!0)}function Rg(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Nh(e){let{to:t,replace:r,state:n,relative:s}=e;Nn()||be(!1);let{future:i,static:o}=x.useContext(pr),{matches:l}=x.useContext(Ft),{pathname:u}=En(),c=Dt(),d=eu(t,Za(l,i.v7_relativeSplatPath),u,s==="path"),f=JSON.stringify(d);return x.useEffect(()=>c(JSON.parse(f),{replace:r,state:n,relative:s}),[c,f,s,r,n]),null}function Eh(e){return wg(e.context)}function _t(e){be(!1)}function $g(e){let{basename:t="/",children:r=null,location:n,navigationType:s=er.Pop,navigator:i,static:o=!1,future:l}=e;Nn()&&be(!1);let u=t.replace(/^\/*/,"/"),c=x.useMemo(()=>({basename:u,navigator:i,static:o,future:js({v7_relativeSplatPath:!1},l)}),[u,l,i,o]);typeof n=="string"&&(n=Sn(n));let{pathname:d="/",search:f="",hash:h="",state:m=null,key:_="default"}=n,k=x.useMemo(()=>{let j=Ya(d,u);return j==null?null:{location:{pathname:j,search:f,hash:h,state:m,key:_},navigationType:s}},[u,d,f,h,m,_,s]);return k==null?null:x.createElement(pr.Provider,{value:c},x.createElement(no.Provider,{children:r,value:k}))}function zg(e){let{children:t,location:r}=e;return _g(ql(t),r)}new Promise(()=>{});function ql(e,t){t===void 0&&(t=[]);let r=[];return x.Children.forEach(e,(n,s)=>{if(!x.isValidElement(n))return;let i=[...t,s];if(n.type===x.Fragment){r.push.apply(r,ql(n.props.children,i));return}n.type!==_t&&be(!1),!n.props.index||!n.props.children||be(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=ql(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ql(){return Ql=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ql.apply(this,arguments)}function Ig(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function Mg(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Ug(e,t){return e.button===0&&(!t||t==="_self")&&!Mg(e)}const Fg=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Dg="6";try{window.__reactRouterVersion=Dg}catch{}const Bg="startTransition",Cc=Om[Bg];function qg(e){let{basename:t,children:r,future:n,window:s}=e,i=x.useRef();i.current==null&&(i.current=Q0({window:s,v5Compat:!0}));let o=i.current,[l,u]=x.useState({action:o.action,location:o.location}),{v7_startTransition:c}=n||{},d=x.useCallback(f=>{c&&Cc?Cc(()=>u(f)):u(f)},[u,c]);return x.useLayoutEffect(()=>o.listen(d),[o,d]),x.useEffect(()=>Rg(n),[n]),x.createElement($g,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const Qg=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Hg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Do=x.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:i,replace:o,state:l,target:u,to:c,preventScrollReset:d,viewTransition:f}=t,h=Ig(t,Fg),{basename:m}=x.useContext(pr),_,k=!1;if(typeof c=="string"&&Hg.test(c)&&(_=c,Qg))try{let y=new URL(window.location.href),b=c.startsWith("//")?new URL(y.protocol+c):new URL(c),S=Ya(b.pathname,m);b.origin===y.origin&&S!=null?c=S+b.search+b.hash:k=!0}catch{}let j=vg(c,{relative:s}),g=Vg(c,{replace:o,state:l,target:u,preventScrollReset:d,relative:s,viewTransition:f});function p(y){n&&n(y),y.defaultPrevented||g(y)}return x.createElement("a",Ql({},h,{href:_||j,onClick:k||i?n:p,ref:r,target:u}))});var Pc;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Pc||(Pc={}));var Tc;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Tc||(Tc={}));function Vg(e,t){let{target:r,replace:n,state:s,preventScrollReset:i,relative:o,viewTransition:l}=t===void 0?{}:t,u=Dt(),c=En(),d=kh(e,{relative:o});return x.useCallback(f=>{if(Ug(f,r)){f.preventDefault();let h=n!==void 0?n:Mi(c)===Mi(d);u(e,{replace:h,state:s,preventScrollReset:i,relative:o,viewTransition:l})}},[c,u,d,n,s,r,e,i,o,l])}let Wg={data:""},Kg=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||Wg,Jg=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Gg=/\/\*[^]*?\*\/|  +/g,Ac=/\n+/g,Gt=(e,t)=>{let r="",n="",s="";for(let i in e){let o=e[i];i[0]=="@"?i[1]=="i"?r=i+" "+o+";":n+=i[1]=="f"?Gt(o,i):i+"{"+Gt(o,i[1]=="k"?"":t)+"}":typeof o=="object"?n+=Gt(o,t?t.replace(/([^,])+/g,l=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,u=>/&/.test(u)?u.replace(/&/g,l):l?l+" "+u:u)):i):o!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=Gt.p?Gt.p(i,o):i+":"+o+";")}return r+(t&&s?t+"{"+s+"}":s)+n},Et={},Ch=e=>{if(typeof e=="object"){let t="";for(let r in e)t+=r+Ch(e[r]);return t}return e},Xg=(e,t,r,n,s)=>{let i=Ch(e),o=Et[i]||(Et[i]=(u=>{let c=0,d=11;for(;c<u.length;)d=101*d+u.charCodeAt(c++)>>>0;return"go"+d})(i));if(!Et[o]){let u=i!==e?e:(c=>{let d,f,h=[{}];for(;d=Jg.exec(c.replace(Gg,""));)d[4]?h.shift():d[3]?(f=d[3].replace(Ac," ").trim(),h.unshift(h[0][f]=h[0][f]||{})):h[0][d[1]]=d[2].replace(Ac," ").trim();return h[0]})(e);Et[o]=Gt(s?{["@keyframes "+o]:u}:u,r?"":"."+o)}let l=r&&Et.g?Et.g:null;return r&&(Et.g=Et[o]),((u,c,d,f)=>{f?c.data=c.data.replace(f,u):c.data.indexOf(u)===-1&&(c.data=d?u+c.data:c.data+u)})(Et[o],t,n,l),o},Yg=(e,t,r)=>e.reduce((n,s,i)=>{let o=t[i];if(o&&o.call){let l=o(r),u=l&&l.props&&l.props.className||/^go/.test(l)&&l;o=u?"."+u:l&&typeof l=="object"?l.props?"":Gt(l,""):l===!1?"":l}return n+s+(o??"")},"");function so(e){let t=this||{},r=e.call?e(t.p):e;return Xg(r.unshift?r.raw?Yg(r,[].slice.call(arguments,1),t.p):r.reduce((n,s)=>Object.assign(n,s&&s.call?s(t.p):s),{}):r,Kg(t.target),t.g,t.o,t.k)}let Ph,Hl,Vl;so.bind({g:1});let Mt=so.bind({k:1});function Zg(e,t,r,n){Gt.p=t,Ph=e,Hl=r,Vl=n}function gr(e,t){let r=this||{};return function(){let n=arguments;function s(i,o){let l=Object.assign({},i),u=l.className||s.className;r.p=Object.assign({theme:Hl&&Hl()},l),r.o=/ *go\d+/.test(u),l.className=so.apply(r,n)+(u?" "+u:"");let c=e;return e[0]&&(c=l.as||e,delete l.as),Vl&&c[0]&&Vl(l),Ph(c,l)}return s}}var ev=e=>typeof e=="function",Ui=(e,t)=>ev(e)?e(t):e,tv=(()=>{let e=0;return()=>(++e).toString()})(),Th=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),rv=20,Ah=(e,t)=>{switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,rv)};case 1:return{...e,toasts:e.toasts.map(i=>i.id===t.toast.id?{...i,...t.toast}:i)};case 2:let{toast:r}=t;return Ah(e,{type:e.toasts.find(i=>i.id===r.id)?1:0,toast:r});case 3:let{toastId:n}=t;return{...e,toasts:e.toasts.map(i=>i.id===n||n===void 0?{...i,dismissed:!0,visible:!1}:i)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(i=>i.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let s=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(i=>({...i,pauseDuration:i.pauseDuration+s}))}}},hi=[],Cr={toasts:[],pausedAt:void 0},Ur=e=>{Cr=Ah(Cr,e),hi.forEach(t=>{t(Cr)})},nv={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},sv=(e={})=>{let[t,r]=x.useState(Cr),n=x.useRef(Cr);x.useEffect(()=>(n.current!==Cr&&r(Cr),hi.push(r),()=>{let i=hi.indexOf(r);i>-1&&hi.splice(i,1)}),[]);let s=t.toasts.map(i=>{var o,l,u;return{...e,...e[i.type],...i,removeDelay:i.removeDelay||((o=e[i.type])==null?void 0:o.removeDelay)||(e==null?void 0:e.removeDelay),duration:i.duration||((l=e[i.type])==null?void 0:l.duration)||(e==null?void 0:e.duration)||nv[i.type],style:{...e.style,...(u=e[i.type])==null?void 0:u.style,...i.style}}});return{...t,toasts:s}},iv=(e,t="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...r,id:(r==null?void 0:r.id)||tv()}),Ts=e=>(t,r)=>{let n=iv(t,e,r);return Ur({type:2,toast:n}),n.id},He=(e,t)=>Ts("blank")(e,t);He.error=Ts("error");He.success=Ts("success");He.loading=Ts("loading");He.custom=Ts("custom");He.dismiss=e=>{Ur({type:3,toastId:e})};He.remove=e=>Ur({type:4,toastId:e});He.promise=(e,t,r)=>{let n=He.loading(t.loading,{...r,...r==null?void 0:r.loading});return typeof e=="function"&&(e=e()),e.then(s=>{let i=t.success?Ui(t.success,s):void 0;return i?He.success(i,{id:n,...r,...r==null?void 0:r.success}):He.dismiss(n),s}).catch(s=>{let i=t.error?Ui(t.error,s):void 0;i?He.error(i,{id:n,...r,...r==null?void 0:r.error}):He.dismiss(n)}),e};var ov=(e,t)=>{Ur({type:1,toast:{id:e,height:t}})},lv=()=>{Ur({type:5,time:Date.now()})},ts=new Map,av=1e3,uv=(e,t=av)=>{if(ts.has(e))return;let r=setTimeout(()=>{ts.delete(e),Ur({type:4,toastId:e})},t);ts.set(e,r)},cv=e=>{let{toasts:t,pausedAt:r}=sv(e);x.useEffect(()=>{if(r)return;let i=Date.now(),o=t.map(l=>{if(l.duration===1/0)return;let u=(l.duration||0)+l.pauseDuration-(i-l.createdAt);if(u<0){l.visible&&He.dismiss(l.id);return}return setTimeout(()=>He.dismiss(l.id),u)});return()=>{o.forEach(l=>l&&clearTimeout(l))}},[t,r]);let n=x.useCallback(()=>{r&&Ur({type:6,time:Date.now()})},[r]),s=x.useCallback((i,o)=>{let{reverseOrder:l=!1,gutter:u=8,defaultPosition:c}=o||{},d=t.filter(m=>(m.position||c)===(i.position||c)&&m.height),f=d.findIndex(m=>m.id===i.id),h=d.filter((m,_)=>_<f&&m.visible).length;return d.filter(m=>m.visible).slice(...l?[h+1]:[0,h]).reduce((m,_)=>m+(_.height||0)+u,0)},[t]);return x.useEffect(()=>{t.forEach(i=>{if(i.dismissed)uv(i.id,i.removeDelay);else{let o=ts.get(i.id);o&&(clearTimeout(o),ts.delete(i.id))}})},[t]),{toasts:t,handlers:{updateHeight:ov,startPause:lv,endPause:n,calculateOffset:s}}},dv=Mt`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,fv=Mt`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,hv=Mt`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,mv=gr("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${dv} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${fv} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${hv} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,pv=Mt`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,gv=gr("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${pv} 1s linear infinite;
`,vv=Mt`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,yv=Mt`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,xv=gr("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${vv} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${yv} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,wv=gr("div")`
  position: absolute;
`,_v=gr("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,kv=Mt`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,jv=gr("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${kv} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,bv=({toast:e})=>{let{icon:t,type:r,iconTheme:n}=e;return t!==void 0?typeof t=="string"?x.createElement(jv,null,t):t:r==="blank"?null:x.createElement(_v,null,x.createElement(gv,{...n}),r!=="loading"&&x.createElement(wv,null,r==="error"?x.createElement(mv,{...n}):x.createElement(xv,{...n})))},Sv=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,Nv=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,Ev="0%{opacity:0;} 100%{opacity:1;}",Cv="0%{opacity:1;} 100%{opacity:0;}",Pv=gr("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,Tv=gr("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,Av=(e,t)=>{let r=e.includes("top")?1:-1,[n,s]=Th()?[Ev,Cv]:[Sv(r),Nv(r)];return{animation:t?`${Mt(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Mt(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},Ov=x.memo(({toast:e,position:t,style:r,children:n})=>{let s=e.height?Av(e.position||t||"top-center",e.visible):{opacity:0},i=x.createElement(bv,{toast:e}),o=x.createElement(Tv,{...e.ariaProps},Ui(e.message,e));return x.createElement(Pv,{className:e.className,style:{...s,...r,...e.style}},typeof n=="function"?n({icon:i,message:o}):x.createElement(x.Fragment,null,i,o))});Zg(x.createElement);var Lv=({id:e,className:t,style:r,onHeightUpdate:n,children:s})=>{let i=x.useCallback(o=>{if(o){let l=()=>{let u=o.getBoundingClientRect().height;n(e,u)};l(),new MutationObserver(l).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[e,n]);return x.createElement("div",{ref:i,className:t,style:r},s)},Rv=(e,t)=>{let r=e.includes("top"),n=r?{top:0}:{bottom:0},s=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Th()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(r?1:-1)}px)`,...n,...s}},$v=so`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Gs=16,zv=({reverseOrder:e,position:t="top-center",toastOptions:r,gutter:n,children:s,containerStyle:i,containerClassName:o})=>{let{toasts:l,handlers:u}=cv(r);return x.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:Gs,left:Gs,right:Gs,bottom:Gs,pointerEvents:"none",...i},className:o,onMouseEnter:u.startPause,onMouseLeave:u.endPause},l.map(c=>{let d=c.position||t,f=u.calculateOffset(c,{reverseOrder:e,gutter:n,defaultPosition:t}),h=Rv(d,f);return x.createElement(Lv,{id:c.id,key:c.id,onHeightUpdate:u.updateHeight,className:c.visible?$v:"",style:h},c.type==="custom"?Ui(c.message,c):s?s(c):x.createElement(Ov,{toast:c,position:d}))}))};const ru=e=>{if(e<=1)return 0;let t=0;for(let r=1;r<e;r++)t+=r*50;return t},Oh=e=>e<1?50:e*50,Lh=(e,t)=>{if(t<1)return e;const r=ru(t);return e-r},Rh=e=>{let t=1;for(;;){const r=ru(t+1);if(e>=r)if(t+1>t)t++;else break;else break}return t},Ce={id:"1",name:"Guest User",nickname:"Guest",fullname:"Guest User",email:void 0,school:void 0,phonenumber:void 0,coins:0,xp:0,level:1,highscore:0,ratingScore:0,questionsAnswered:0,totalAnswered:0,correctAnswers:0,quizzesTaken:0,lastActive:new Date,skillLevel:{arithmetic:1,algebra:1,geometry:1}},$h=x.createContext({user:null,isLoading:!0,addXP:()=>{},updateSkillLevel:()=>{},incrementQuizzesTaken:()=>{},updateCorrectAnswers:()=>{},setCurrentUser:()=>{},updateUserStatsAfterQuiz:()=>{}}),vr=()=>x.useContext($h),Iv=({children:e})=>{const[t,r]=x.useState(null),[n,s]=x.useState(!0),i=f=>{r(f),f?localStorage.setItem("mathQuizUser",JSON.stringify(f)):localStorage.removeItem("mathQuizUser")};x.useEffect(()=>{const f=localStorage.getItem("mathQuizUser");if(f){let h=JSON.parse(f);const m={id:h.id||Ce.id,name:h.name||Ce.name,nickname:h.nickname||Ce.nickname,fullname:h.fullname||Ce.fullname,email:h.email||Ce.email,school:h.school||Ce.school,phonenumber:h.phonenumber||Ce.phonenumber,coins:h.coins!==void 0?h.coins:Ce.coins,xp:h.xp!==void 0?h.xp:Ce.xp,level:h.level!==void 0?h.level:Ce.level,highscore:h.highscore!==void 0?h.highscore:Ce.highscore,ratingScore:h.ratingScore!==void 0?h.ratingScore:Ce.ratingScore,questionsAnswered:h.questionsAnswered!==void 0?h.questionsAnswered:Ce.questionsAnswered,totalAnswered:h.totalAnswered!==void 0?h.totalAnswered:Ce.totalAnswered,correctAnswers:h.correctAnswers!==void 0?h.correctAnswers:Ce.correctAnswers,quizzesTaken:h.quizzesTaken!==void 0?h.quizzesTaken:Ce.quizzesTaken,lastActive:h.lastActive?new Date(h.lastActive):Ce.lastActive,skillLevel:h.skillLevel||Ce.skillLevel};i(m)}else i(null);s(!1)},[]),x.useEffect(()=>{if(t){const f=localStorage.getItem("mathQuizUser");JSON.stringify(t)!==f&&localStorage.setItem("mathQuizUser",JSON.stringify(t))}},[t]);const o=f=>{if(!t)return;const h=t.xp+f,m=Rh(h);i({...t,xp:h,level:m,lastActive:new Date})},l=(f,h)=>{t&&i({...t,skillLevel:{...t.skillLevel,[f]:h},lastActive:new Date})},u=()=>{t&&i({...t,quizzesTaken:t.quizzesTaken+1,lastActive:new Date})},c=(f,h)=>{t&&i({...t,correctAnswers:t.correctAnswers+f,questionsAnswered:t.questionsAnswered+h,lastActive:new Date})},d=f=>{if(!t)return;const h={...t,...f,lastActive:new Date};f.xp!==void 0&&(h.xp=f.xp),f.level!==void 0&&(h.level=f.level),f.ratingScore!==void 0&&(h.ratingScore=f.ratingScore),f.quizzesTaken!==void 0&&(h.quizzesTaken=f.quizzesTaken),f.correctAnswers!==void 0&&(h.correctAnswers=f.correctAnswers),f.totalAnswered!==void 0&&(h.totalAnswered=f.totalAnswered),f.nickname!==void 0&&(h.nickname=f.nickname),f.coins!==void 0&&(h.coins=f.coins),h.name=t.name,h.fullname=t.fullname,h.email=t.email,h.school=t.school,h.phonenumber=t.phonenumber,h.questionsAnswered=f.totalAnswered!==void 0?f.totalAnswered:t.questionsAnswered,h.skillLevel=t.skillLevel,i(h)};return a.jsx($h.Provider,{value:{user:t,isLoading:n,addXP:o,updateSkillLevel:l,incrementQuizzesTaken:u,updateCorrectAnswers:c,setCurrentUser:i,updateUserStatsAfterQuiz:d},children:e})};/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Mv={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uv=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oe=(e,t)=>{const r=x.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:l="",children:u,...c},d)=>x.createElement("svg",{ref:d,...Mv,width:s,height:s,stroke:n,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${Uv(e)}`,l].join(" "),...c},[...t.map(([f,h])=>x.createElement(f,h)),...Array.isArray(u)?u:[u]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oc=oe("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lc=oe("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xn=oe("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wl=oe("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zh=oe("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ar=oe("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fv=oe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dv=oe("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kl=oe("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bv=oe("CircleDollarSign",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 18V6",key:"zqpxq5"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qv=oe("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rc=oe("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $c=oe("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jl=oe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qv=oe("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hv=oe("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vv=oe("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wv=oe("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kv=oe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zc=oe("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bo=oe("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ic=oe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jv=oe("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ih=oe("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gv=oe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xv=oe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nu=oe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mh=oe("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),Mc=({level:e,xp:t,className:r=""})=>{const{user:n}=vr(),s=Lh(t,e),i=Oh(e),o=i>0?s/i*100:0,l=n!=null&&n.nickname?n.nickname.charAt(0).toUpperCase():n!=null&&n.name?n.name.charAt(0).toUpperCase():"U";return a.jsxs("div",{className:`flex items-center ${r}`,children:[a.jsxs("div",{className:"relative flex items-center justify-center",children:[a.jsx("div",{className:"h-10 w-10 rounded-full bg-indigo-500 text-white flex items-center justify-center",children:a.jsx("span",{className:"font-semibold text-lg",children:l})}),a.jsx("div",{className:"absolute -bottom-1 -right-1 bg-yellow-400 text-xs text-white font-bold rounded-full h-5 w-5 flex items-center justify-center border-2 border-white",children:e})]}),a.jsxs("div",{className:"ml-3",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsxs("span",{className:"text-xs font-medium text-gray-500",children:["Level ",e]}),a.jsxs("span",{className:"ml-2 text-xs text-gray-400",children:[Math.round(s),"/",Math.round(i)," XP"]})]}),a.jsx("div",{className:"w-24 h-2 mt-1 bg-gray-200 rounded-full overflow-hidden shadow-inner",children:a.jsx("div",{className:"h-full bg-indigo-500 rounded-full transition-all duration-500 ease-out",style:{width:`${Math.max(0,Math.min(o,100))}%`}})})]})]})},Yv=()=>{const[e,t]=x.useState(!1),{user:r}=vr(),n=En(),s=()=>t(!e),i=()=>t(!1),o=[{name:"Home",path:"/",icon:a.jsx(Ar,{size:20})},{name:"Quiz",path:"/quiz",icon:a.jsx(xn,{size:20})},{name:"Profile",path:"/profile",icon:a.jsx(Gv,{size:20})}];return a.jsxs("nav",{className:"bg-white shadow-sm",children:[a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"flex justify-between h-16",children:[a.jsx("div",{className:"flex items-center",children:a.jsxs(Do,{to:"/",className:"flex items-center gap-2",children:[a.jsx(Ar,{className:"h-8 w-8 text-indigo-600"}),a.jsx("span",{className:"text-xl font-bold text-gray-900",children:"MathMind"})]})}),a.jsxs("div",{className:"hidden md:flex items-center space-x-4",children:[r&&a.jsx(Mc,{level:r.level,xp:r.xp,className:"mr-4"}),a.jsx("div",{className:"hidden md:flex items-center space-x-1",children:o.map(l=>a.jsxs(Do,{to:l.path,className:`px-3 py-2 rounded-md text-sm font-medium flex items-center gap-1.5 transition-colors
                    ${n.pathname===l.path?"text-indigo-600 bg-indigo-50":"text-gray-700 hover:text-indigo-600 hover:bg-gray-50"}`,children:[l.icon,l.name]},l.path))})]}),a.jsx("div",{className:"flex items-center md:hidden",children:a.jsxs("button",{onClick:s,className:"inline-flex items-center justify-center p-2 rounded-md text-gray-700 hover:text-indigo-600 hover:bg-gray-50 focus:outline-none","aria-expanded":"false",children:[a.jsx("span",{className:"sr-only",children:"Open main menu"}),e?a.jsx(nu,{className:"block h-6 w-6"}):a.jsx(Wv,{className:"block h-6 w-6"})]})})]})}),a.jsx("div",{className:`md:hidden ${e?"block":"hidden"}`,children:a.jsxs("div",{className:"px-2 pt-2 pb-3 space-y-1 sm:px-3",children:[r&&a.jsx("div",{className:"px-3 py-2",children:a.jsx(Mc,{level:r.level,xp:r.xp})}),o.map(l=>a.jsxs(Do,{to:l.path,className:`block px-3 py-2 rounded-md text-base font-medium flex items-center gap-2
                ${n.pathname===l.path?"text-indigo-600 bg-indigo-50":"text-gray-700 hover:text-indigo-600 hover:bg-gray-50"}`,onClick:i,children:[l.icon,l.name]},l.path))]})})]})},Zv=()=>a.jsx("footer",{className:"bg-white border-t border-gray-200 py-6",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[a.jsx("div",{className:"mb-4 md:mb-0",children:a.jsxs("p",{className:"text-gray-600 text-sm",children:["© ",new Date().getFullYear()," MathMind. All rights reserved."]})}),a.jsxs("div",{className:"flex space-x-6",children:[a.jsx("a",{href:"#",className:"text-gray-500 hover:text-indigo-600 transition-colors",children:"Terms of Service"}),a.jsx("a",{href:"#",className:"text-gray-500 hover:text-indigo-600 transition-colors",children:"Privacy Policy"}),a.jsx("a",{href:"#",className:"text-gray-500 hover:text-indigo-600 transition-colors",children:"Help"})]})]}),a.jsx("div",{className:"mt-4 text-center text-gray-500 text-sm",children:a.jsxs("p",{className:"flex items-center justify-center gap-1",children:["Made with ",a.jsx(Qv,{className:"h-4 w-4 text-red-500"})," for math enthusiasts"]})})]})}),ey=()=>a.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gray-50",children:[a.jsx("div",{className:"animate-bounce mb-4",children:a.jsx(Ar,{size:48,className:"text-indigo-600"})}),a.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"MathMind"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"Loading your math journey..."}),a.jsx("div",{className:"w-48 h-2 bg-gray-200 rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-indigo-600 rounded-full animate-pulse",style:{width:"75%"}})})]}),ty=()=>{const{isLoading:e}=vr();return e?a.jsx(ey,{}):a.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-50",children:[a.jsx(Yv,{}),a.jsx("main",{className:"flex-grow py-6",children:a.jsx(Eh,{})}),a.jsx(Zv,{})]})},te=({children:e,variant:t="primary",size:r="md",isLoading:n=!1,fullWidth:s=!1,icon:i,iconPosition:o="left",className:l="",disabled:u,...c})=>{const d="inline-flex items-center justify-center rounded-md font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2",f={primary:"bg-indigo-600 text-white hover:bg-indigo-700 focus:ring-indigo-500",secondary:"bg-blue-500 text-white hover:bg-blue-600 focus:ring-blue-400",outline:"border border-gray-300 bg-transparent text-gray-700 hover:bg-gray-50 focus:ring-indigo-500",ghost:"bg-transparent text-gray-700 hover:bg-gray-100 hover:text-gray-900 focus:ring-gray-400",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500"},h={sm:"text-xs px-3 py-2",md:"text-sm px-4 py-2",lg:"text-base px-6 py-3"},m=[d,f[t],h[r],s?"w-full":"",u||n?"opacity-70 cursor-not-allowed":"",l].join(" ");return a.jsx("button",{className:m,disabled:u||n,...c,children:n?a.jsxs(a.Fragment,{children:[a.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-current\\",xmlns:"http://www.w3.org/2000/svg\\",fill:"none\\",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25\\",cx:"12\\",cy:"12\\",r:"10\\",stroke:"currentColor\\",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Loading..."]}):a.jsxs(a.Fragment,{children:[i&&o==="left"&&a.jsx("span",{className:"mr-2",children:i}),e,i&&o==="right"&&a.jsx("span",{className:"ml-2",children:i})]})})},ry=()=>{const e=Dt(),{user:t}=vr();return a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("section",{className:"text-center py-12 md:py-16",children:[a.jsxs("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:["Boost Your Math Skills with ",a.jsx("span",{className:"text-indigo-600",children:"MathMind"})]}),a.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto mb-8",children:"Adaptive quizzes that grow with you, designed to strengthen your math abilities no matter your current level."}),a.jsx("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:a.jsx(te,{size:"lg",onClick:()=>e("/quiz"),icon:a.jsx(Oc,{size:20}),iconPosition:"right",children:"Start a Quiz"})})]}),a.jsxs("section",{className:"py-12 md:py-16",children:[a.jsx("h2",{className:"text-3xl font-bold text-center text-gray-900 mb-12",children:"How MathMind Works"}),a.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-8",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md text-center transform transition-transform hover:scale-105",children:[a.jsx("div",{className:"inline-flex items-center justify-center h-16 w-16 rounded-full bg-indigo-100 text-indigo-600 mb-4",children:a.jsx(Ar,{size:32})}),a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Adaptive Learning"}),a.jsx("p",{className:"text-gray-600",children:"Questions adapt to your skill level, providing the perfect challenge every time."})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md text-center transform transition-transform hover:scale-105",children:[a.jsx("div",{className:"inline-flex items-center justify-center h-16 w-16 rounded-full bg-blue-100 text-blue-600 mb-4",children:a.jsx(xn,{size:32})}),a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Level Up System"}),a.jsx("p",{className:"text-gray-600",children:"Earn XP and watch your level grow as you master more advanced concepts."})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md text-center transform transition-transform hover:scale-105",children:[a.jsx("div",{className:"inline-flex items-center justify-center h-16 w-16 rounded-full bg-purple-100 text-purple-600 mb-4",children:a.jsx(Wl,{size:32})}),a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Track Progress"}),a.jsx("p",{className:"text-gray-600",children:"Monitor your improvement over time with detailed performance analytics."})]})]})]}),t&&a.jsx("section",{className:"py-12 bg-gray-50 rounded-xl my-12",children:a.jsxs("div",{className:"max-w-5xl mx-auto px-4",children:[a.jsx("h2",{className:"text-2xl font-bold text-center text-gray-900 mb-8",children:"Your Math Journey"}),a.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-2 flex items-center",children:[a.jsx(xn,{className:"h-5 w-5 text-indigo-600 mr-2"}),"Current Level"]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"h-12 w-12 rounded-full bg-indigo-100 flex items-center justify-center mr-3",children:a.jsx("span",{className:"text-indigo-700 font-bold",children:t.level})}),a.jsxs("div",{children:[a.jsxs("p",{className:"text-sm text-gray-600",children:["Keep going to reach level ",t.level+1,"!"]}),a.jsx("div",{className:"w-32 h-2 bg-gray-200 rounded-full mt-1",children:a.jsx("div",{className:"h-2 bg-indigo-600 rounded-full",style:{width:`${t.xp%100/100*100}%`}})})]})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-2 flex items-center",children:[a.jsx(zh,{className:"h-5 w-5 text-green-600 mr-2"}),"Quiz Stats"]}),a.jsxs("p",{className:"text-gray-600 mb-1",children:["Questions answered: ",t.questionsAnswered]}),a.jsxs("p",{className:"text-gray-600",children:["Accuracy: ",t.questionsAnswered>0?Math.round(t.correctAnswers/t.questionsAnswered*100):0,"%"]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-2 flex items-center",children:[a.jsx(Wl,{className:"h-5 w-5 text-blue-600 mr-2"}),"Skill Focus"]}),a.jsx("div",{className:"space-y-2",children:Object.entries(t.skillLevel).map(([r,n])=>a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-700 capitalize",children:r}),a.jsxs("span",{className:"text-gray-600",children:["Level ",n]})]}),a.jsx("div",{className:"w-full h-2 bg-gray-200 rounded-full",children:a.jsx("div",{className:`h-2 rounded-full ${r==="arithmetic"?"bg-green-500":r==="algebra"?"bg-blue-500":"bg-purple-500"}`,style:{width:`${n/10*100}%`}})})]},r))})]})]}),a.jsx("div",{className:"mt-8 text-center",children:a.jsx(te,{onClick:()=>e("/profile"),variant:"outline",icon:a.jsx(Oc,{size:16}),iconPosition:"right",children:"View Full Profile"})})]})}),a.jsxs("section",{className:"py-12 md:py-16",children:[a.jsx("h2",{className:"text-3xl font-bold text-center text-gray-900 mb-12",children:"What Our Users Say"}),a.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[a.jsx("div",{className:"flex space-x-1 mb-4",children:[...Array(5)].map((r,n)=>a.jsx("svg",{className:"w-5 h-5 text-yellow-400",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},n))}),a.jsx("p",{className:"text-gray-600 mb-4",children:'"MathMind helped me prepare for my college entrance exams. The adaptive questions really challenged me at the right level."'}),a.jsx("p",{className:"font-medium text-gray-900",children:"- Alex Johnson, Student"})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[a.jsx("div",{className:"flex space-x-1 mb-4",children:[...Array(5)].map((r,n)=>a.jsx("svg",{className:"w-5 h-5 text-yellow-400",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},n))}),a.jsx("p",{className:"text-gray-600 mb-4",children:`"As a teacher, I recommend MathMind to all my students. It's like having a personalized tutor that adapts to each student's needs."`}),a.jsx("p",{className:"font-medium text-gray-900",children:"- Maria Garcia, Math Teacher"})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[a.jsx("div",{className:"flex space-x-1 mb-4",children:[...Array(5)].map((r,n)=>a.jsx("svg",{className:"w-5 h-5 text-yellow-400",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},n))}),a.jsx("p",{className:"text-gray-600 mb-4",children:`"I've always struggled with math, but MathMind makes it fun and less intimidating. The leveling system keeps me motivated!"`}),a.jsx("p",{className:"font-medium text-gray-900",children:"- Sam Peters, Professional"})]})]})]}),a.jsx("section",{className:"py-12 md:py-16 text-center",children:a.jsxs("div",{className:"bg-indigo-600 rounded-xl py-12 px-6 shadow-xl",children:[a.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"Ready to Level Up Your Math Skills?"}),a.jsx("p",{className:"text-indigo-100 text-xl max-w-3xl mx-auto mb-8",children:"Join thousands of users who are improving their math abilities every day with MathMind."}),a.jsx(te,{size:"lg",onClick:()=>e("/quiz"),className:"bg-white text-indigo-600 hover:bg-indigo-50",children:"Start Your First Quiz"})]})})]})},ny=({question:e,onAnswer:t})=>{const[r,n]=x.useState(null);x.useEffect(()=>{n(null)},[e]);const s=o=>{n(o),t(o)},i=o=>r===o?"border-indigo-600 bg-indigo-100 ring-2 ring-indigo-500 shadow-lg":"border-gray-300 bg-white hover:bg-gray-100 hover:border-indigo-400";return a.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 sm:p-8 w-full max-w-2xl mx-auto transition-all duration-300 ease-in-out",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4 pb-2 border-b border-gray-200",children:[a.jsx("span",{className:"text-xs sm:text-sm font-medium text-indigo-600 bg-indigo-50 px-2 py-1 rounded",children:e.category.charAt(0).toUpperCase()+e.category.slice(1)}),a.jsxs("span",{className:"text-xs sm:text-sm font-medium text-gray-500",children:["Difficulty: ",e.difficulty,"/10"]})]}),a.jsxs("div",{className:"mb-6 min-h-[60px]",children:[" ",a.jsx("h3",{className:"text-lg md:text-xl font-semibold text-gray-800 leading-relaxed",children:e.text}),e.image&&a.jsx("img",{src:e.image,alt:"Question Hint",className:"mt-4 mx-auto max-h-52 rounded-lg shadow-sm object-contain"})]}),a.jsx("div",{className:"space-y-3",children:e.answers.map((o,l)=>a.jsx("button",{onClick:()=>s(o),className:`w-full p-3 sm:p-4 text-left border rounded-lg transition-all duration-150 ease-in-out focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 
              text-gray-700 hover:text-gray-900
              ${i(o)}`,children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:`flex-shrink-0 h-7 w-7 sm:h-8 sm:w-8 flex items-center justify-center border-2 rounded-full mr-3 sm:mr-4 font-medium transition-all duration-150 ease-in-out
                  ${r===o?"bg-indigo-600 border-indigo-700 text-white":"bg-gray-100 border-gray-300 text-gray-600"}`,children:String.fromCharCode(65+l)}),a.jsx("span",{className:"text-sm sm:text-base flex-grow",children:o}),r===o&&a.jsx("svg",{className:"w-5 h-5 sm:w-6 sm:h-6 text-indigo-600 ml-2 flex-shrink-0 animate-pulse",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})]})},l))})]})};var su={};(function e(t,r,n,s){var i=!!(t.Worker&&t.Blob&&t.Promise&&t.OffscreenCanvas&&t.OffscreenCanvasRenderingContext2D&&t.HTMLCanvasElement&&t.HTMLCanvasElement.prototype.transferControlToOffscreen&&t.URL&&t.URL.createObjectURL),o=typeof Path2D=="function"&&typeof DOMMatrix=="function",l=function(){if(!t.OffscreenCanvas)return!1;var w=new OffscreenCanvas(1,1),v=w.getContext("2d");v.fillRect(0,0,1,1);var T=w.transferToImageBitmap();try{v.createPattern(T,"no-repeat")}catch{return!1}return!0}();function u(){}function c(w){var v=r.exports.Promise,T=v!==void 0?v:t.Promise;return typeof T=="function"?new T(w):(w(u,u),null)}var d=function(w,v){return{transform:function(T){if(w)return T;if(v.has(T))return v.get(T);var D=new OffscreenCanvas(T.width,T.height),B=D.getContext("2d");return B.drawImage(T,0,0),v.set(T,D),D},clear:function(){v.clear()}}}(l,new Map),f=function(){var w=Math.floor(16.666666666666668),v,T,D={},B=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(v=function(H){var A=Math.random();return D[A]=requestAnimationFrame(function R(L){B===L||B+w-1<L?(B=L,delete D[A],H()):D[A]=requestAnimationFrame(R)}),A},T=function(H){D[H]&&cancelAnimationFrame(D[H])}):(v=function(H){return setTimeout(H,w)},T=function(H){return clearTimeout(H)}),{frame:v,cancel:T}}(),h=function(){var w,v,T={};function D(B){function H(A,R){B.postMessage({options:A||{},callback:R})}B.init=function(R){var L=R.transferControlToOffscreen();B.postMessage({canvas:L},[L])},B.fire=function(R,L,N){if(v)return H(R,null),v;var P=Math.random().toString(36).slice(2);return v=c(function(q){function Q(de){de.data.callback===P&&(delete T[P],B.removeEventListener("message",Q),v=null,d.clear(),N(),q())}B.addEventListener("message",Q),H(R,P),T[P]=Q.bind(null,{data:{callback:P}})}),v},B.reset=function(){B.postMessage({reset:!0});for(var R in T)T[R](),delete T[R]}}return function(){if(w)return w;if(!n&&i){var B=["var CONFETTI, SIZE = {}, module = {};","("+e.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{w=new Worker(URL.createObjectURL(new Blob([B])))}catch(H){return typeof console!==void 0&&typeof console.warn=="function"&&console.warn("🎊 Could not load worker",H),null}D(w)}return w}}(),m={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function _(w,v){return v?v(w):w}function k(w){return w!=null}function j(w,v,T){return _(w&&k(w[v])?w[v]:m[v],T)}function g(w){return w<0?0:Math.floor(w)}function p(w,v){return Math.floor(Math.random()*(v-w))+w}function y(w){return parseInt(w,16)}function b(w){return w.map(S)}function S(w){var v=String(w).replace(/[^0-9a-f]/gi,"");return v.length<6&&(v=v[0]+v[0]+v[1]+v[1]+v[2]+v[2]),{r:y(v.substring(0,2)),g:y(v.substring(2,4)),b:y(v.substring(4,6))}}function O(w){var v=j(w,"origin",Object);return v.x=j(v,"x",Number),v.y=j(v,"y",Number),v}function $(w){w.width=document.documentElement.clientWidth,w.height=document.documentElement.clientHeight}function C(w){var v=w.getBoundingClientRect();w.width=v.width,w.height=v.height}function Y(w){var v=document.createElement("canvas");return v.style.position="fixed",v.style.top="0px",v.style.left="0px",v.style.pointerEvents="none",v.style.zIndex=w,v}function M(w,v,T,D,B,H,A,R,L){w.save(),w.translate(v,T),w.rotate(H),w.scale(D,B),w.arc(0,0,1,A,R,L),w.restore()}function le(w){var v=w.angle*(Math.PI/180),T=w.spread*(Math.PI/180);return{x:w.x,y:w.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:w.startVelocity*.5+Math.random()*w.startVelocity,angle2D:-v+(.5*T-Math.random()*T),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:w.color,shape:w.shape,tick:0,totalTicks:w.ticks,decay:w.decay,drift:w.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:w.gravity*3,ovalScalar:.6,scalar:w.scalar,flat:w.flat}}function G(w,v){v.x+=Math.cos(v.angle2D)*v.velocity+v.drift,v.y+=Math.sin(v.angle2D)*v.velocity+v.gravity,v.velocity*=v.decay,v.flat?(v.wobble=0,v.wobbleX=v.x+10*v.scalar,v.wobbleY=v.y+10*v.scalar,v.tiltSin=0,v.tiltCos=0,v.random=1):(v.wobble+=v.wobbleSpeed,v.wobbleX=v.x+10*v.scalar*Math.cos(v.wobble),v.wobbleY=v.y+10*v.scalar*Math.sin(v.wobble),v.tiltAngle+=.1,v.tiltSin=Math.sin(v.tiltAngle),v.tiltCos=Math.cos(v.tiltAngle),v.random=Math.random()+2);var T=v.tick++/v.totalTicks,D=v.x+v.random*v.tiltCos,B=v.y+v.random*v.tiltSin,H=v.wobbleX+v.random*v.tiltCos,A=v.wobbleY+v.random*v.tiltSin;if(w.fillStyle="rgba("+v.color.r+", "+v.color.g+", "+v.color.b+", "+(1-T)+")",w.beginPath(),o&&v.shape.type==="path"&&typeof v.shape.path=="string"&&Array.isArray(v.shape.matrix))w.fill(st(v.shape.path,v.shape.matrix,v.x,v.y,Math.abs(H-D)*.1,Math.abs(A-B)*.1,Math.PI/10*v.wobble));else if(v.shape.type==="bitmap"){var R=Math.PI/10*v.wobble,L=Math.abs(H-D)*.1,N=Math.abs(A-B)*.1,P=v.shape.bitmap.width*v.scalar,q=v.shape.bitmap.height*v.scalar,Q=new DOMMatrix([Math.cos(R)*L,Math.sin(R)*L,-Math.sin(R)*N,Math.cos(R)*N,v.x,v.y]);Q.multiplySelf(new DOMMatrix(v.shape.matrix));var de=w.createPattern(d.transform(v.shape.bitmap),"no-repeat");de.setTransform(Q),w.globalAlpha=1-T,w.fillStyle=de,w.fillRect(v.x-P/2,v.y-q/2,P,q),w.globalAlpha=1}else if(v.shape==="circle")w.ellipse?w.ellipse(v.x,v.y,Math.abs(H-D)*v.ovalScalar,Math.abs(A-B)*v.ovalScalar,Math.PI/10*v.wobble,0,2*Math.PI):M(w,v.x,v.y,Math.abs(H-D)*v.ovalScalar,Math.abs(A-B)*v.ovalScalar,Math.PI/10*v.wobble,0,2*Math.PI);else if(v.shape==="star")for(var W=Math.PI/2*3,we=4*v.scalar,_e=8*v.scalar,X=v.x,V=v.y,pe=5,ke=Math.PI/pe;pe--;)X=v.x+Math.cos(W)*_e,V=v.y+Math.sin(W)*_e,w.lineTo(X,V),W+=ke,X=v.x+Math.cos(W)*we,V=v.y+Math.sin(W)*we,w.lineTo(X,V),W+=ke;else w.moveTo(Math.floor(v.x),Math.floor(v.y)),w.lineTo(Math.floor(v.wobbleX),Math.floor(B)),w.lineTo(Math.floor(H),Math.floor(A)),w.lineTo(Math.floor(D),Math.floor(v.wobbleY));return w.closePath(),w.fill(),v.tick<v.totalTicks}function F(w,v,T,D,B){var H=v.slice(),A=w.getContext("2d"),R,L,N=c(function(P){function q(){R=L=null,A.clearRect(0,0,D.width,D.height),d.clear(),B(),P()}function Q(){n&&!(D.width===s.width&&D.height===s.height)&&(D.width=w.width=s.width,D.height=w.height=s.height),!D.width&&!D.height&&(T(w),D.width=w.width,D.height=w.height),A.clearRect(0,0,D.width,D.height),H=H.filter(function(de){return G(A,de)}),H.length?R=f.frame(Q):q()}R=f.frame(Q),L=q});return{addFettis:function(P){return H=H.concat(P),N},canvas:w,promise:N,reset:function(){R&&f.cancel(R),L&&L()}}}function K(w,v){var T=!w,D=!!j(v||{},"resize"),B=!1,H=j(v,"disableForReducedMotion",Boolean),A=i&&!!j(v||{},"useWorker"),R=A?h():null,L=T?$:C,N=w&&R?!!w.__confetti_initialized:!1,P=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,q;function Q(W,we,_e){for(var X=j(W,"particleCount",g),V=j(W,"angle",Number),pe=j(W,"spread",Number),ke=j(W,"startVelocity",Number),Tn=j(W,"decay",Number),An=j(W,"gravity",Number),xr=j(W,"drift",Number),cu=j(W,"colors",b),um=j(W,"ticks",Number),du=j(W,"shapes"),cm=j(W,"scalar"),dm=!!j(W,"flat"),fu=O(W),hu=X,ho=[],fm=w.width*fu.x,hm=w.height*fu.y;hu--;)ho.push(le({x:fm,y:hm,angle:V,spread:pe,startVelocity:ke,color:cu[hu%cu.length],shape:du[p(0,du.length)],ticks:um,decay:Tn,gravity:An,drift:xr,scalar:cm,flat:dm}));return q?q.addFettis(ho):(q=F(w,ho,L,we,_e),q.promise)}function de(W){var we=H||j(W,"disableForReducedMotion",Boolean),_e=j(W,"zIndex",Number);if(we&&P)return c(function(ke){ke()});T&&q?w=q.canvas:T&&!w&&(w=Y(_e),document.body.appendChild(w)),D&&!N&&L(w);var X={width:w.width,height:w.height};R&&!N&&R.init(w),N=!0,R&&(w.__confetti_initialized=!0);function V(){if(R){var ke={getBoundingClientRect:function(){if(!T)return w.getBoundingClientRect()}};L(ke),R.postMessage({resize:{width:ke.width,height:ke.height}});return}X.width=X.height=null}function pe(){q=null,D&&(B=!1,t.removeEventListener("resize",V)),T&&w&&(document.body.contains(w)&&document.body.removeChild(w),w=null,N=!1)}return D&&!B&&(B=!0,t.addEventListener("resize",V,!1)),R?R.fire(W,X,pe):Q(W,X,pe)}return de.reset=function(){R&&R.reset(),q&&q.reset()},de}var ne;function ce(){return ne||(ne=K(null,{useWorker:!0,resize:!0})),ne}function st(w,v,T,D,B,H,A){var R=new Path2D(w),L=new Path2D;L.addPath(R,new DOMMatrix(v));var N=new Path2D;return N.addPath(L,new DOMMatrix([Math.cos(A)*B,Math.sin(A)*B,-Math.sin(A)*H,Math.cos(A)*H,T,D])),N}function I(w){if(!o)throw new Error("path confetti are not supported in this browser");var v,T;typeof w=="string"?v=w:(v=w.path,T=w.matrix);var D=new Path2D(v),B=document.createElement("canvas"),H=B.getContext("2d");if(!T){for(var A=1e3,R=A,L=A,N=0,P=0,q,Q,de=0;de<A;de+=2)for(var W=0;W<A;W+=2)H.isPointInPath(D,de,W,"nonzero")&&(R=Math.min(R,de),L=Math.min(L,W),N=Math.max(N,de),P=Math.max(P,W));q=N-R,Q=P-L;var we=10,_e=Math.min(we/q,we/Q);T=[_e,0,0,_e,-Math.round(q/2+R)*_e,-Math.round(Q/2+L)*_e]}return{type:"path",path:v,matrix:T}}function z(w){var v,T=1,D="#000000",B='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof w=="string"?v=w:(v=w.text,T="scalar"in w?w.scalar:T,B="fontFamily"in w?w.fontFamily:B,D="color"in w?w.color:D);var H=10*T,A=""+H+"px "+B,R=new OffscreenCanvas(H,H),L=R.getContext("2d");L.font=A;var N=L.measureText(v),P=Math.ceil(N.actualBoundingBoxRight+N.actualBoundingBoxLeft),q=Math.ceil(N.actualBoundingBoxAscent+N.actualBoundingBoxDescent),Q=2,de=N.actualBoundingBoxLeft+Q,W=N.actualBoundingBoxAscent+Q;P+=Q+Q,q+=Q+Q,R=new OffscreenCanvas(P,q),L=R.getContext("2d"),L.font=A,L.fillStyle=D,L.fillText(v,de,W);var we=1/T;return{type:"bitmap",bitmap:R.transferToImageBitmap(),matrix:[we,0,0,we,-P*we/2,-q*we/2]}}r.exports=function(){return ce().apply(this,arguments)},r.exports.reset=function(){ce().reset()},r.exports.create=K,r.exports.shapeFromPath=I,r.exports.shapeFromText=z})(function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}}(),su,!1);const qo=su.exports;su.exports.create;const sy="modulepreload",iy=function(e){return"/"+e},Uc={},wn=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(r.map(u=>{if(u=iy(u),u in Uc)return;Uc[u]=!0;const c=u.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${d}`))return;const f=document.createElement("link");if(f.rel=c?"stylesheet":sy,c||(f.as="script"),f.crossOrigin="",f.href=u,l&&f.setAttribute("nonce",l),document.head.appendChild(f),c)return new Promise((h,m)=>{f.addEventListener("load",h),f.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${u}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})},oy=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>wn(async()=>{const{default:n}=await Promise.resolve().then(()=>Cn);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class iu extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class ly extends iu{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class ay extends iu{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class uy extends iu{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Gl;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Gl||(Gl={}));var cy=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{c(n.next(d))}catch(f){o(f)}}function u(d){try{c(n.throw(d))}catch(f){o(f)}}function c(d){d.done?i(d.value):s(d.value).then(l,u)}c((n=n.apply(e,t||[])).next())})};class dy{constructor(t,{headers:r={},customFetch:n,region:s=Gl.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=oy(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return cy(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=r;let l={},{region:u}=r;u||(u=this.region),u&&u!=="any"&&(l["x-region"]=u);let c;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",c=o):typeof o=="string"?(l["Content-Type"]="text/plain",c=o):typeof FormData<"u"&&o instanceof FormData?c=o:(l["Content-Type"]="application/json",c=JSON.stringify(o)));const d=yield this.fetch(`${this.url}/${t}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:c}).catch(_=>{throw new ly(_)}),f=d.headers.get("x-relay-error");if(f&&f==="true")throw new ay(d);if(!d.ok)throw new uy(d);let h=((n=d.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),m;return h==="application/json"?m=yield d.json():h==="application/octet-stream"?m=yield d.blob():h==="text/event-stream"?m=d:h==="multipart/form-data"?m=yield d.formData():m=yield d.text(),{data:m,error:null}}catch(s){return{data:null,error:s}}})}}var Ve={},ou={},io={},As={},oo={},lo={},fy=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},_n=fy();const hy=_n.fetch,Uh=_n.fetch.bind(_n),Fh=_n.Headers,my=_n.Request,py=_n.Response,Cn=Object.freeze(Object.defineProperty({__proto__:null,Headers:Fh,Request:my,Response:py,default:Uh,fetch:hy},Symbol.toStringTag,{value:"Module"})),gy=gm(Cn);var ao={};Object.defineProperty(ao,"__esModule",{value:!0});let vy=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};ao.default=vy;var Dh=ut&&ut.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(lo,"__esModule",{value:!0});const yy=Dh(gy),xy=Dh(ao);let wy=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=yy.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,l,u;let c=null,d=null,f=null,h=i.status,m=i.statusText;if(i.ok){if(this.method!=="HEAD"){const g=await i.text();g===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=g:d=JSON.parse(g))}const k=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),j=(l=i.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");k&&j&&j.length>1&&(f=parseInt(j[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(c={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,h=406,m="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const k=await i.text();try{c=JSON.parse(k),Array.isArray(c)&&i.status===404&&(d=[],c=null,h=200,m="OK")}catch{i.status===404&&k===""?(h=204,m="No Content"):c={message:k}}if(c&&this.isMaybeSingle&&(!((u=c==null?void 0:c.details)===null||u===void 0)&&u.includes("0 rows"))&&(c=null,h=200,m="OK"),c&&this.shouldThrowOnError)throw new xy.default(c)}return{error:c,data:d,count:f,status:h,statusText:m}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,l,u;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(u=i==null?void 0:i.code)!==null&&u!==void 0?u:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,r)}returns(){return this}overrideTypes(){return this}};lo.default=wy;var _y=ut&&ut.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(oo,"__esModule",{value:!0});const ky=_y(lo);let jy=class extends ky.default{select(t){let r=!1;const n=(t??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var l;const u=[t?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${c}"; options=${u};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};oo.default=jy;var by=ut&&ut.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(As,"__esModule",{value:!0});const Sy=by(oo);let Ny=class extends Sy.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${o}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};As.default=Ny;var Ey=ut&&ut.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(io,"__esModule",{value:!0});const Fn=Ey(As);let Cy=class{constructor(t,{headers:r={},schema:n,fetch:s}){this.url=t,this.headers=r,this.schema=n,this.fetch=s}select(t,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),n&&(this.headers.Prefer=`count=${n}`),new Fn.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),n||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const o=t.reduce((l,u)=>l.concat(Object.keys(u)),[]);if(o.length>0){const l=[...new Set(o)].map(u=>`"${u}"`);this.url.searchParams.set("columns",l.join(","))}}return new Fn.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:i=!0}={}){const o="POST",l=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&l.push(this.headers.Prefer),s&&l.push(`count=${s}`),i||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const u=t.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(u.length>0){const c=[...new Set(u)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new Fn.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),this.headers.Prefer=s.join(","),new Fn.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new Fn.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};io.default=Cy;var uo={},co={};Object.defineProperty(co,"__esModule",{value:!0});co.version=void 0;co.version="0.0.0-automated";Object.defineProperty(uo,"__esModule",{value:!0});uo.DEFAULT_HEADERS=void 0;const Py=co;uo.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${Py.version}`};var Bh=ut&&ut.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ou,"__esModule",{value:!0});const Ty=Bh(io),Ay=Bh(As),Oy=uo;let Ly=class qh{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},Oy.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=s}from(t){const r=new URL(`${this.url}/${t}`);return new Ty.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new qh(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:i}={}){let o;const l=new URL(`${this.url}/rpc/${t}`);let u;n||s?(o=n?"HEAD":"GET",Object.entries(r).filter(([d,f])=>f!==void 0).map(([d,f])=>[d,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([d,f])=>{l.searchParams.append(d,f)})):(o="POST",u=r);const c=Object.assign({},this.headers);return i&&(c.Prefer=`count=${i}`),new Ay.default({method:o,url:l,headers:c,schema:this.schemaName,body:u,fetch:this.fetch,allowEmpty:!1})}};ou.default=Ly;var Pn=ut&&ut.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ve,"__esModule",{value:!0});Ve.PostgrestError=Ve.PostgrestBuilder=Ve.PostgrestTransformBuilder=Ve.PostgrestFilterBuilder=Ve.PostgrestQueryBuilder=Ve.PostgrestClient=void 0;const Qh=Pn(ou);Ve.PostgrestClient=Qh.default;const Hh=Pn(io);Ve.PostgrestQueryBuilder=Hh.default;const Vh=Pn(As);Ve.PostgrestFilterBuilder=Vh.default;const Wh=Pn(oo);Ve.PostgrestTransformBuilder=Wh.default;const Kh=Pn(lo);Ve.PostgrestBuilder=Kh.default;const Jh=Pn(ao);Ve.PostgrestError=Jh.default;var Ry=Ve.default={PostgrestClient:Qh.default,PostgrestQueryBuilder:Hh.default,PostgrestFilterBuilder:Vh.default,PostgrestTransformBuilder:Wh.default,PostgrestBuilder:Kh.default,PostgrestError:Jh.default};const{PostgrestClient:$y,PostgrestQueryBuilder:Qw,PostgrestFilterBuilder:Hw,PostgrestTransformBuilder:Vw,PostgrestBuilder:Ww,PostgrestError:Kw}=Ry,zy="2.11.2",Iy={"X-Client-Info":`realtime-js/${zy}`},My="1.0.0",Gh=1e4,Uy=1e3;var dn;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(dn||(dn={}));var Xe;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Xe||(Xe={}));var pt;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(pt||(pt={}));var Xl;(function(e){e.websocket="websocket"})(Xl||(Xl={}));var br;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(br||(br={}));class Fy{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const s=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const l=n.decode(t.slice(o,o+s));o=o+s;const u=n.decode(t.slice(o,o+i));o=o+i;const c=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{ref:null,topic:l,event:u,payload:c}}}class Xh{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ae;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(ae||(ae={}));const Fc=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((i,o)=>(i[o]=Dy(o,e,t,s),i),{})},Dy=(e,t,r,n)=>{const s=t.find(l=>l.name===e),i=s==null?void 0:s.type,o=r[e];return i&&!n.includes(i)?Yh(i,o):Yl(o)},Yh=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return Hy(t,r)}switch(e){case ae.bool:return By(t);case ae.float4:case ae.float8:case ae.int2:case ae.int4:case ae.int8:case ae.numeric:case ae.oid:return qy(t);case ae.json:case ae.jsonb:return Qy(t);case ae.timestamp:return Vy(t);case ae.abstime:case ae.date:case ae.daterange:case ae.int4range:case ae.int8range:case ae.money:case ae.reltime:case ae.text:case ae.time:case ae.timestamptz:case ae.timetz:case ae.tsrange:case ae.tstzrange:return Yl(t);default:return Yl(t)}},Yl=e=>e,By=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},qy=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Qy=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},Hy=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>Yh(t,l))}return e},Vy=e=>typeof e=="string"?e.replace(" ","T"):e,Zh=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Qo{constructor(t,r,n={},s=Gh){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Dc;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Dc||(Dc={}));class rs{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=rs.syncState(this.state,s,i,o),this.pendingDiffs.forEach(u=>{this.state=rs.syncDiff(this.state,u,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=rs.syncDiff(this.state,s,i,o),l())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const i=this.cloneDeep(t),o=this.transformState(r),l={},u={};return this.map(i,(c,d)=>{o[c]||(u[c]=d)}),this.map(o,(c,d)=>{const f=i[c];if(f){const h=d.map(j=>j.presence_ref),m=f.map(j=>j.presence_ref),_=d.filter(j=>m.indexOf(j.presence_ref)<0),k=f.filter(j=>h.indexOf(j.presence_ref)<0);_.length>0&&(l[c]=_),k.length>0&&(u[c]=k)}else l[c]=d}),this.syncDiff(i,{joins:l,leaves:u},n,s)}static syncDiff(t,r,n,s){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(l,u)=>{var c;const d=(c=t[l])!==null&&c!==void 0?c:[];if(t[l]=this.cloneDeep(u),d.length>0){const f=t[l].map(m=>m.presence_ref),h=d.filter(m=>f.indexOf(m.presence_ref)<0);t[l].unshift(...h)}n(l,d,u)}),this.map(o,(l,u)=>{let c=t[l];if(!c)return;const d=u.map(f=>f.presence_ref);c=c.filter(f=>d.indexOf(f.presence_ref)<0),t[l]=c,s(l,c,u),c.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Bc;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Bc||(Bc={}));var qc;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(qc||(qc={}));var Pt;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Pt||(Pt={}));class lu{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Xe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Qo(this,pt.join,this.params,this.timeout),this.rejoinTimer=new Xh(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Xe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Xe.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Xe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Xe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(pt.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new rs(this),this.broadcastEndpointURL=Zh(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:l}}=this.params;this._onError(d=>t==null?void 0:t(Pt.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(Pt.CLOSED));const u={},c={broadcast:i,presence:o,postgres_changes:(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&s!==void 0?s:[],private:l};this.socket.accessTokenValue&&(u.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},u)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:d})=>{var f;if(this.socket.setAuth(),d===void 0){t==null||t(Pt.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,m=(f=h==null?void 0:h.length)!==null&&f!==void 0?f:0,_=[];for(let k=0;k<m;k++){const j=h[k],{filter:{event:g,schema:p,table:y,filter:b}}=j,S=d&&d[k];if(S&&S.event===g&&S.schema===p&&S.table===y&&S.filter===b)_.push(Object.assign(Object.assign({},j),{id:S.id}));else{this.unsubscribe(),t==null||t(Pt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=_,t&&t(Pt.SUBSCRIBED);return}}).receive("error",d=>{t==null||t(Pt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Pt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,u={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,u;const c=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((u=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||u===void 0)&&u.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Xe.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(pt.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(n=>{const s=new Qo(this,pt.leave,{},t);s.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}async _fetchWithTimeout(t,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Qo(this,t,r,n);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,i;const o=t.toLocaleLowerCase(),{close:l,error:u,leave:c,join:d}=pt;if(n&&[l,u,c,d].indexOf(o)>=0&&n!==this._joinRef())return;let h=this._onMessage(o,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(m=>{var _,k,j;return((_=m.filter)===null||_===void 0?void 0:_.event)==="*"||((j=(k=m.filter)===null||k===void 0?void 0:k.event)===null||j===void 0?void 0:j.toLocaleLowerCase())===o}).map(m=>m.callback(h,n)):(i=this.bindings[o])===null||i===void 0||i.filter(m=>{var _,k,j,g,p,y;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in m){const b=m.id,S=(_=m.filter)===null||_===void 0?void 0:_.event;return b&&((k=r.ids)===null||k===void 0?void 0:k.includes(b))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((j=r.data)===null||j===void 0?void 0:j.type.toLocaleLowerCase()))}else{const b=(p=(g=m==null?void 0:m.filter)===null||g===void 0?void 0:g.event)===null||p===void 0?void 0:p.toLocaleLowerCase();return b==="*"||b===((y=r==null?void 0:r.event)===null||y===void 0?void 0:y.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===o}).map(m=>{if(typeof h=="object"&&"ids"in h){const _=h.data,{schema:k,table:j,commit_timestamp:g,type:p,errors:y}=_;h=Object.assign(Object.assign({},{schema:k,table:j,commit_timestamp:g,eventType:p,new:{},old:{},errors:y}),this._getPayloadRecords(_))}m.callback(h,n)})}_isClosed(){return this.state===Xe.closed}_isJoined(){return this.state===Xe.joined}_isJoining(){return this.state===Xe.joining}_isLeaving(){return this.state===Xe.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&lu.isEqual(s.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(pt.close,{},t)}_onError(t){this._on(pt.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Xe.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=Fc(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=Fc(t.columns,t.old_record)),r}}const Wy=()=>{},Ky=typeof WebSocket<"u",Jy=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Gy{constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=Iy,this.params={},this.timeout=Gh,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=Wy,this.conn=null,this.sendBuffer=[],this.serializer=new Fy,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...l)=>wn(async()=>{const{default:u}=await Promise.resolve().then(()=>Cn);return{default:u}},void 0).then(({default:u})=>u(...l)):o=fetch,(...l)=>o(...l)},this.endPoint=`${t}/${Xl.websocket}`,this.httpEndpoint=Zh(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const s=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(i,o)=>o(JSON.stringify(i)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Xh(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(Ky){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new Xy(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),wn(async()=>{const{default:t}=await import("./browser-BJ6wUgzy.js").then(r=>r.b);return{default:t}},[]).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:My}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case dn.connecting:return br.Connecting;case dn.open:return br.Open;case dn.closing:return br.Closing;default:return br.Closed}}isConnected(){return this.connectionState()===br.Open}channel(t,r={config:{}}){const n=new lu(`realtime:${t}`,r,this);return this.channels.push(n),n}push(t){const{topic:r,event:n,payload:s,ref:i}=t,o=()=>{this.encode(t,l=>{var u;(u=this.conn)===null||u===void 0||u.send(l)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(r){let n=null;try{n=JSON.parse(atob(r.split(".")[1]))}catch{}if(n&&n.exp&&!(Math.floor(Date.now()/1e3)-n.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`);this.accessTokenValue=r,this.channels.forEach(s=>{r&&s.updateJoinPayload({access_token:r}),s.joinedOnce&&s._isJoined()&&s._push(pt.access_token,{access_token:r})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(Uy,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:s,payload:i,ref:o}=r;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${n} ${s} ${o&&"("+o+")"||""}`,i),this.channels.filter(l=>l._isMember(n)).forEach(l=>l._trigger(s,i,o)),this.stateChangeCallbacks.message.forEach(l=>l(r))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(pt.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([Jy],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class Xy{constructor(t,r,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=dn.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=n.close}}class au extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Pe(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class Yy extends au{constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Zl extends au{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var Zy=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{c(n.next(d))}catch(f){o(f)}}function u(d){try{c(n.throw(d))}catch(f){o(f)}}function c(d){d.done?i(d.value):s(d.value).then(l,u)}c((n=n.apply(e,t||[])).next())})};const em=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>wn(async()=>{const{default:n}=await Promise.resolve().then(()=>Cn);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},ex=()=>Zy(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield wn(()=>Promise.resolve().then(()=>Cn),void 0)).Response:Response}),ea=e=>{if(Array.isArray(e))return e.map(r=>ea(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=ea(n)}),t};var Fr=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{c(n.next(d))}catch(f){o(f)}}function u(d){try{c(n.throw(d))}catch(f){o(f)}}function c(d){d.done?i(d.value):s(d.value).then(l,u)}c((n=n.apply(e,t||[])).next())})};const Ho=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),tx=(e,t,r)=>Fr(void 0,void 0,void 0,function*(){const n=yield ex();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{t(new Yy(Ho(s),e.status||500))}).catch(s=>{t(new Zl(Ho(s),s))}):t(new Zl(Ho(e),e))}),rx=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n&&(s.body=JSON.stringify(n)),Object.assign(Object.assign({},s),r))};function Os(e,t,r,n,s,i){return Fr(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(r,rx(t,n,s,i)).then(u=>{if(!u.ok)throw u;return n!=null&&n.noResolveJson?u:u.json()}).then(u=>o(u)).catch(u=>tx(u,l,n))})})}function Fi(e,t,r,n){return Fr(this,void 0,void 0,function*(){return Os(e,"GET",t,r,n)})}function Wt(e,t,r,n,s){return Fr(this,void 0,void 0,function*(){return Os(e,"POST",t,n,s,r)})}function nx(e,t,r,n,s){return Fr(this,void 0,void 0,function*(){return Os(e,"PUT",t,n,s,r)})}function sx(e,t,r,n){return Fr(this,void 0,void 0,function*(){return Os(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function tm(e,t,r,n,s){return Fr(this,void 0,void 0,function*(){return Os(e,"DELETE",t,n,s,r)})}var qe=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{c(n.next(d))}catch(f){o(f)}}function u(d){try{c(n.throw(d))}catch(f){o(f)}}function c(d){d.done?i(d.value):s(d.value).then(l,u)}c((n=n.apply(e,t||[])).next())})};const ix={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Qc={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class ox{constructor(t,r={},n,s){this.url=t,this.headers=r,this.bucketId=n,this.fetch=em(s)}uploadOrUpdate(t,r,n,s){return qe(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},Qc),s);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const u=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),u&&i.append("metadata",this.encodeMetadata(u)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),u&&i.append("metadata",this.encodeMetadata(u))):(i=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,u&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(u)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const c=this._removeEmptyFolders(r),d=this._getFinalPath(c),f=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:i,headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{})),h=yield f.json();return f.ok?{data:{path:c,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(i){if(Pe(i))return{data:null,error:i};throw i}})}upload(t,r,n){return qe(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return qe(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",r);try{let u;const c=Object.assign({upsert:Qc.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&n instanceof Blob?(u=new FormData,u.append("cacheControl",c.cacheControl),u.append("",n)):typeof FormData<"u"&&n instanceof FormData?(u=n,u.append("cacheControl",c.cacheControl)):(u=n,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType);const f=yield this.fetch(l.toString(),{method:"PUT",body:u,headers:d}),h=yield f.json();return f.ok?{data:{path:i,fullPath:h.Key},error:null}:{data:null,error:h}}catch(u){if(Pe(u))return{data:null,error:u};throw u}})}createSignedUploadUrl(t,r){return qe(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield Wt(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new au("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(n){if(Pe(n))return{data:null,error:n};throw n}})}update(t,r,n){return qe(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return qe(this,void 0,void 0,function*(){try{return{data:yield Wt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(Pe(s))return{data:null,error:s};throw s}})}copy(t,r,n){return qe(this,void 0,void 0,function*(){try{return{data:{path:(yield Wt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(Pe(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return qe(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield Wt(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(Pe(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return qe(this,void 0,void 0,function*(){try{const s=yield Wt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(Pe(s))return{data:null,error:s};throw s}})}download(t,r){return qe(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield Fi(this.fetch,`${this.url}/${s}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(Pe(l))return{data:null,error:l};throw l}})}info(t){return qe(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Fi(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:ea(n),error:null}}catch(n){if(Pe(n))return{data:null,error:n};throw n}})}exists(t){return qe(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield sx(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(Pe(n)&&n instanceof Zl){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",u=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});u!==""&&s.push(u);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${c}`)}}}remove(t){return qe(this,void 0,void 0,function*(){try{return{data:yield tm(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(Pe(r))return{data:null,error:r};throw r}})}list(t,r,n){return qe(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},ix),r),{prefix:t||""});return{data:yield Wt(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(Pe(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const lx="2.7.1",ax={"X-Client-Info":`storage-js/${lx}`};var Br=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{c(n.next(d))}catch(f){o(f)}}function u(d){try{c(n.throw(d))}catch(f){o(f)}}function c(d){d.done?i(d.value):s(d.value).then(l,u)}c((n=n.apply(e,t||[])).next())})};class ux{constructor(t,r={},n){this.url=t,this.headers=Object.assign(Object.assign({},ax),r),this.fetch=em(n)}listBuckets(){return Br(this,void 0,void 0,function*(){try{return{data:yield Fi(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Pe(t))return{data:null,error:t};throw t}})}getBucket(t){return Br(this,void 0,void 0,function*(){try{return{data:yield Fi(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(Pe(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return Br(this,void 0,void 0,function*(){try{return{data:yield Wt(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Pe(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return Br(this,void 0,void 0,function*(){try{return{data:yield nx(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Pe(n))return{data:null,error:n};throw n}})}emptyBucket(t){return Br(this,void 0,void 0,function*(){try{return{data:yield Wt(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(Pe(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Br(this,void 0,void 0,function*(){try{return{data:yield tm(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(Pe(r))return{data:null,error:r};throw r}})}}class cx extends ux{constructor(t,r={},n){super(t,r,n)}from(t){return new ox(this.url,this.headers,t,this.fetch)}}const dx="2.49.8";let Hn="";typeof Deno<"u"?Hn="deno":typeof document<"u"?Hn="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Hn="react-native":Hn="node";const fx={"X-Client-Info":`supabase-js-${Hn}/${dx}`},hx={headers:fx},mx={schema:"public"},px={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},gx={};var vx=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{c(n.next(d))}catch(f){o(f)}}function u(d){try{c(n.throw(d))}catch(f){o(f)}}function c(d){d.done?i(d.value):s(d.value).then(l,u)}c((n=n.apply(e,t||[])).next())})};const yx=e=>{let t;return e?t=e:typeof fetch>"u"?t=Uh:t=fetch,(...r)=>t(...r)},xx=()=>typeof Headers>"u"?Fh:Headers,wx=(e,t,r)=>{const n=yx(r),s=xx();return(i,o)=>vx(void 0,void 0,void 0,function*(){var l;const u=(l=yield t())!==null&&l!==void 0?l:e;let c=new s(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${u}`),n(i,Object.assign(Object.assign({},o),{headers:c}))})};var _x=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{c(n.next(d))}catch(f){o(f)}}function u(d){try{c(n.throw(d))}catch(f){o(f)}}function c(d){d.done?i(d.value):s(d.value).then(l,u)}c((n=n.apply(e,t||[])).next())})};function kx(e){return e.endsWith("/")?e:e+"/"}function jx(e,t){var r,n;const{db:s,auth:i,realtime:o,global:l}=e,{db:u,auth:c,realtime:d,global:f}=t,h={db:Object.assign(Object.assign({},u),s),auth:Object.assign(Object.assign({},c),i),realtime:Object.assign(Object.assign({},d),o),global:Object.assign(Object.assign(Object.assign({},f),l),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>_x(this,void 0,void 0,function*(){return""})};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}const rm="2.69.1",Hr=30*1e3,ta=3,Vo=ta*Hr,bx="http://localhost:9999",Sx="supabase.auth.token",Nx={"X-Client-Info":`gotrue-js/${rm}`},ra="X-Supabase-Api-Version",nm={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Ex=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Cx=6e5;class uu extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function J(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Px extends uu{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function Tx(e){return J(e)&&e.name==="AuthApiError"}class sm extends uu{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class yr extends uu{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class qt extends yr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Ax(e){return J(e)&&e.name==="AuthSessionMissingError"}class Wo extends yr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Xs extends yr{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Ys extends yr{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Ox(e){return J(e)&&e.name==="AuthImplicitGrantRedirectError"}class Hc extends yr{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class na extends yr{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Ko(e){return J(e)&&e.name==="AuthRetryableFetchError"}class Vc extends yr{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class ns extends yr{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Wc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Kc=` 	
\r=`.split(""),Lx=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Kc.length;t+=1)e[Kc[t].charCodeAt(0)]=-2;for(let t=0;t<Wc.length;t+=1)e[Wc[t].charCodeAt(0)]=t;return e})();function im(e,t,r){const n=Lx[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Jc(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{zx(o,n,r)};for(let o=0;o<e.length;o+=1)im(e.charCodeAt(o),s,i);return t.join("")}function Rx(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function $x(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}Rx(n,t)}}function zx(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function Ix(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)im(e.charCodeAt(s),r,n);return new Uint8Array(t)}function Mx(e){const t=[];return $x(e,r=>t.push(r)),new Uint8Array(t)}function Ux(e){return Math.round(Date.now()/1e3)+e}function Fx(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const kt=()=>typeof window<"u"&&typeof document<"u",wr={tested:!1,writable:!1},ss=()=>{if(!kt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(wr.tested)return wr.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),wr.tested=!0,wr.writable=!0}catch{wr.tested=!0,wr.writable=!1}return wr.writable};function Dx(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const om=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>wn(async()=>{const{default:n}=await Promise.resolve().then(()=>Cn);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},Bx=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",lm=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Zs=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},ei=async(e,t)=>{await e.removeItem(t)};class fo{constructor(){this.promise=new fo.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}fo.promiseConstructor=Promise;function Jo(e){const t=e.split(".");if(t.length!==3)throw new ns("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!Ex.test(t[n]))throw new ns("JWT not in base64url format");return{header:JSON.parse(Jc(t[0])),payload:JSON.parse(Jc(t[1])),signature:Ix(t[2]),raw:{header:t[0],payload:t[1]}}}async function qx(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Qx(e,t){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){s(o);return}}})()})}function Hx(e){return("0"+e.toString(16)).substr(-2)}function Vx(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,Hx).join("")}async function Wx(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function Kx(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await Wx(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function qr(e,t,r=!1){const n=Vx();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await lm(e,`${t}-code-verifier`,s);const i=await Kx(n);return[i,n===i?"plain":"s256"]}const Jx=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Gx(e){const t=e.headers.get(ra);if(!t||!t.match(Jx))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Xx(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function Yx(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var Zx=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};const jr=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),ew=[502,503,504];async function Gc(e){var t;if(!Bx(e))throw new na(jr(e),0);if(ew.includes(e.status))throw new na(jr(e),e.status);let r;try{r=await e.json()}catch(i){throw new sm(jr(i),i)}let n;const s=Gx(e);if(s&&s.getTime()>=nm["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Vc(jr(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new qt}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Vc(jr(r),e.status,r.weak_password.reasons);throw new Px(jr(r),e.status||500,n)}const tw=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function ee(e,t,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[ra]||(i[ra]=nm["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",u=await rw(e,t,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(u):{data:Object.assign({},u),error:null}}async function rw(e,t,r,n,s,i){const o=tw(t,n,s,i);let l;try{l=await e(r,Object.assign({},o))}catch(u){throw console.error(u),new na(jr(u),0)}if(l.ok||await Gc(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(u){await Gc(u)}}function Qt(e){var t;let r=null;ow(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=Ux(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function Xc(e){const t=Qt(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Xt(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function nw(e){return{data:e,error:null}}function sw(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=e,o=Zx(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},u=Object.assign({},o);return{data:{properties:l,user:u},error:null}}function iw(e){return e}function ow(e){return e.access_token&&e.refresh_token&&e.expires_in}var lw=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};class aw{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=om(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r="global"){try{return await ee(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(J(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await ee(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Xt})}catch(n){if(J(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=lw(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await ee(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:sw,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(J(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await ee(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Xt})}catch(r){if(J(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,i,o,l,u;try{const c={nextPage:null,lastPage:0,total:0},d=await ee(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:iw});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(u=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&u!==void 0?u:[];return m.length>0&&(m.forEach(_=>{const k=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(_.split(";")[1].split("=")[1]);c[`${j}Page`]=k}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(J(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){try{return await ee(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Xt})}catch(r){if(J(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){try{return await ee(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Xt})}catch(n){if(J(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){try{return await ee(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Xt})}catch(n){if(J(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){try{const{data:r,error:n}=await ee(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(J(r))return{data:null,error:r};throw r}}async _deleteFactor(t){try{return{data:await ee(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(J(r))return{data:null,error:r};throw r}}}const uw={getItem:e=>ss()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{ss()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{ss()&&globalThis.localStorage.removeItem(e)}};function Yc(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function cw(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Qr={debug:!!(globalThis&&ss()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class am extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class dw extends am{}async function fw(e,t,r){Qr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Qr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Qr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{Qr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Qr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new dw(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Qr.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}cw();const hw={url:bx,storageKey:Sx,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Nx,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Zc(e,t,r){return await r()}class bs{constructor(t){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=bs.nextInstanceID,bs.nextInstanceID+=1,this.instanceID>0&&kt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},hw),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new aw({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=om(s.fetch),this.lock=s.lock||Zc,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:kt()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=fw:this.lock=Zc,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:ss()?this.storage=uw:(this.memoryStorage={},this.storage=Yc(this.memoryStorage)):(this.memoryStorage={},this.storage=Yc(this.memoryStorage)),kt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${rm}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=Dx(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),kt()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Ox(i)){const u=(t=i.details)===null||t===void 0?void 0:t.code;if(u==="identity_already_exists"||u==="identity_not_found"||u==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return J(r)?{error:r}:{error:new sm("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const i=await ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:Qt}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const u=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:c,session:u},error:null}}catch(i){if(J(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var r,n,s;try{let i;if("email"in t){const{email:d,password:f,options:h}=t;let m=null,_=null;this.flowType==="pkce"&&([m,_]=await qr(this.storage,this.storageKey)),i=await ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:m,code_challenge_method:_},xform:Qt})}else if("phone"in t){const{phone:d,password:f,options:h}=t;i=await ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Qt})}else throw new Xs("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const u=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:c,session:u},error:null}}catch(i){if(J(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:l}=t;r=await ee(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Xc})}else if("phone"in t){const{phone:i,password:o,options:l}=t;r=await ee(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Xc})}else throw new Xs("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Wo}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(J(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const r=await Zs(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:o}=await ee(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Qt});if(await ei(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Wo}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(J(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:i,nonce:o}=t,l=await ee(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Qt}),{data:u,error:c}=l;return c?{data:{user:null,session:null},error:c}:!u||!u.session||!u.user?{data:{user:null,session:null},error:new Wo}:(u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),{data:u,error:c})}catch(r){if(J(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,s,i,o;try{if("email"in t){const{email:l,options:u}=t;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await qr(this.storage,this.storageKey));const{error:f}=await ee(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=u==null?void 0:u.data)!==null&&r!==void 0?r:{},create_user:(n=u==null?void 0:u.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:u==null?void 0:u.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:l,options:u}=t,{data:c,error:d}=await ee(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=u==null?void 0:u.data)!==null&&s!==void 0?s:{},create_user:(i=u==null?void 0:u.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},channel:(o=u==null?void 0:u.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d}}throw new Xs("You must provide either an email or phone number.")}catch(l){if(J(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,n;try{let s,i;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await ee(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Qt});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const u=o.session,c=o.user;return u!=null&&u.access_token&&(await this._saveSession(u),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",u)),{data:{user:c,session:u},error:null}}catch(s){if(J(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var r,n,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await qr(this.storage,this.storageKey)),await ee(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:nw})}catch(i){if(J(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new qt;const{error:s}=await ee(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(J(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:i}=t,{error:o}=await ee(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:n,type:s,options:i}=t,{data:o,error:l}=await ee(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new Xs("You must provide either an email or phone number and a type")}catch(r){if(J(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Zs(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Vo:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.storage.isServer){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(u,c,d)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(u,c,d))})}return{data:{session:t},error:null}}const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await ee(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Xt}):await this._useSession(async r=>{var n,s,i;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new qt}:await ee(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Xt})})}catch(r){if(J(r))return Ax(r)&&(await this._removeSession(),await ei(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new qt;const o=s.session;let l=null,u=null;this.flowType==="pkce"&&t.email!=null&&([l,u]=await qr(this.storage,this.storageKey));const{data:c,error:d}=await ee(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:u}),jwt:o.access_token,xform:Xt});if(d)throw d;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(J(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new qt;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:o}=Jo(t.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{session:l,error:u}=await this._callRefreshToken(t.refresh_token);if(u)return{data:{user:null,session:null},error:u};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:u}=await this._getUser(t.access_token);if(u)throw u;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(J(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:l}=r;if(l)throw l;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new qt;const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(J(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!kt())throw new Ys("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Ys(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Hc("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ys("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Hc("No code detected.");const{data:p,error:y}=await this._exchangeCodeForSession(t.code);if(y)throw y;const b=new URL(window.location.href);return b.searchParams.delete("code"),window.history.replaceState(window.history.state,"",b.toString()),{data:{session:p.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:l,expires_at:u,token_type:c}=t;if(!i||!l||!o||!c)throw new Ys("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let h=d+f;u&&(h=parseInt(u));const m=h-d;m*1e3<=Hr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${f}s`);const _=h-f;d-_>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",_,h,d):d-_<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",_,h,d);const{data:k,error:j}=await this._getUser(i);if(j)throw j;const g={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:f,expires_at:h,refresh_token:o,token_type:c,user:k.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:t.type},error:null}}catch(n){if(J(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Zs(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{error:i};const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(Tx(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await ei(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=Fx(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await qr(this.storage,this.storageKey,!0));try{return await ee(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(J(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(J(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var o,l,u,c,d;const{data:f,error:h}=i;if(h)throw h;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(u=t.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:!0});return await ee(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(c=f.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return kt()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(J(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)throw o;return await ee(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(J(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await Qx(async s=>(s>0&&await qx(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await ee(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Qt})),(s,i)=>{const o=200*Math.pow(2,s);return i&&Ko(i)&&Date.now()+o-n<Hr})}catch(n){if(this._debug(r,"error",n),J(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),kt()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await Zs(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const s=((t=n.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<Vo;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${Vo}s`),s){if(this.autoRefreshToken&&n.refresh_token){const{error:i}=await this._callRefreshToken(n.refresh_token);i&&(console.error(i),Ko(i)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new qt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new fo;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new qt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),J(i)){const o={session:null,error:i};return Ko(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(u){i.push(u)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await lm(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await ei(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&kt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Hr);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/Hr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Hr}ms, refresh threshold is ${ta} ticks`),s<=ta&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof am)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!kt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await qr(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await ee(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(J(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:u,error:c}=await ee(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(t.factorType==="totp"&&(!((s=u==null?void 0:u.totp)===null||s===void 0)&&s.qr_code)&&(u.totp.qr_code=`data:image/svg+xml;utf-8,${u.totp.qr_code}`),{data:u,error:null})})}catch(r){if(J(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const{data:o,error:l}=await ee(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(r){if(J(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await ee(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(J(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],s=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:s},error:i}=t;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Jo(s.access_token);let l=null;o.aal&&(l=o.aal);let u=l;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(u="aal2");const d=o.amr||[];return{data:{currentLevel:l,nextLevel:u,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(o=>o.kid===t);if(n||(n=this.jwks.keys.find(o=>o.kid===t),n&&this.jwks_cached_at+Cx>Date.now()))return n;const{data:s,error:i}=await ee(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!s.keys||s.keys.length===0)throw new ns("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),n=s.keys.find(o=>o.kid===t),!n)throw new ns("No matching signing key found in JWKS");return n}async getClaims(t,r={keys:[]}){try{let n=t;if(!n){const{data:m,error:_}=await this.getSession();if(_||!m.session)return{data:null,error:_};n=m.session.access_token}const{header:s,payload:i,signature:o,raw:{header:l,payload:u}}=Jo(n);if(Xx(i.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:m}=await this.getUser(n);if(m)throw m;return{data:{claims:i,header:s,signature:o},error:null}}const c=Yx(s.alg),d=await this.fetchJwk(s.kid,r),f=await crypto.subtle.importKey("jwk",d,c,!0,["verify"]);if(!await crypto.subtle.verify(c,f,o,Mx(`${l}.${u}`)))throw new ns("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(n){if(J(n))return{data:null,error:n};throw n}}}bs.nextInstanceID=0;const mw=bs;class pw extends mw{constructor(t){super(t)}}var gw=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{c(n.next(d))}catch(f){o(f)}}function u(d){try{c(n.throw(d))}catch(f){o(f)}}function c(d){d.done?i(d.value):s(d.value).then(l,u)}c((n=n.apply(e,t||[])).next())})};class vw{constructor(t,r,n){var s,i,o;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const l=kx(t),u=new URL(l);this.realtimeUrl=new URL("realtime/v1",u),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",u),this.storageUrl=new URL("storage/v1",u),this.functionsUrl=new URL("functions/v1",u);const c=`sb-${u.hostname.split(".")[0]}-auth-token`,d={db:mx,realtime:gx,auth:Object.assign(Object.assign({},px),{storageKey:c}),global:hx},f=jx(n??{},d);this.storageKey=(s=f.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=f.global.headers)!==null&&i!==void 0?i:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(h,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=f.auth)!==null&&o!==void 0?o:{},this.headers,f.global.fetch),this.fetch=wx(r,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new $y(new URL("rest/v1",u).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),f.accessToken||this._listenForAuthEvents()}get functions(){return new dy(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new cx(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return gw(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,storageKey:i,flowType:o,lock:l,debug:u},c,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new pw({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),c),storageKey:i,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,flowType:o,lock:l,debug:u,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new Gy(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const yw=(e,t,r)=>new vw(e,t,r),xw="https://atnzuikugtjzhxpkleis.supabase.co",ww="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImF0bnp1aWt1Z3Rqemh4cGtsZWlzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDg4NDkyMTYsImV4cCI6MjA2NDQyNTIxNn0.e90R8cUW5SOc6yVhue-LkaKGH5cJTn0YJKFJmcV3R_g",se=yw(xw,ww),_w=({result:e,onRetry:t,userAnswers:r})=>{const n=Dt(),{user:s,setCurrentUser:i,updateUserStatsAfterQuiz:o}=vr(),[l,u]=x.useState(null),[c,d]=x.useState(!1);x.useEffect(()=>{if(!s||c)return;const m=e.correctAnswers,_=m*10,k=m,j=e.ratingScoreChange??0,g=(s.xp??0)+_,p=Rh(g),y=Math.max((s.ratingScore??0)+j,0);o&&(o({xp:g,coins:(s.coins??0)+k,level:p,ratingScore:y}),(async()=>{const{error:b}=await se.from("profiles").update({xp:g,coins:(s.coins??0)+k,level:p,ratingscore:y}).eq("id",s.id);if(b)console.error("Failed to update user profile in Supabase:",b.message);else{const{data:S,error:O}=await se.from("profiles").select("*").eq("id",s.id).single();!O&&S&&i({...s,...S})}})()),d(!0)},[s,e,o,c,i]);const f=()=>{if(e.timedOut)return"Time ran out! Review your answers and try again.";const m=e.totalQuestions>0?e.correctAnswers/e.totalQuestions:0;return m===1?"Perfect score! You're a math genius!":m>=.8?"Excellent work! Strong math skills.":m>=.6?"Good job! Keep practicing.":m>=.4?"Not bad. More practice will help.":"Keep practicing! Every attempt helps."},h=e.totalQuestions>0?Math.round(e.totalTime/e.totalQuestions):0;return a.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 w-full max-w-2xl mx-auto",children:[a.jsxs("div",{className:"text-center mb-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Quiz Complete!"}),a.jsx("p",{className:`text-gray-600 ${e.timedOut?"text-orange-600 font-semibold":""}`,children:f()})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-8",children:[a.jsxs("div",{className:"bg-indigo-50 p-4 rounded-lg text-center",children:[a.jsx("div",{className:"flex justify-center mb-2",children:a.jsx(xn,{size:24,className:"text-indigo-600"})}),a.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Score"}),a.jsx("p",{className:"text-xl font-bold text-indigo-700",children:e.score})]}),a.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg text-center",children:[a.jsx("div",{className:"flex justify-center mb-2",children:a.jsx(Mh,{size:24,className:"text-blue-600"})}),a.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"XP Gained"}),a.jsx("p",{className:"text-xl font-bold text-blue-700",children:e.correctAnswers*10})]}),a.jsxs("div",{className:"bg-green-50 p-4 rounded-lg text-center",children:[a.jsx("div",{className:"flex justify-center mb-2",children:a.jsx(Wl,{size:24,className:"text-green-600"})}),a.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Accuracy"}),a.jsxs("p",{className:"text-xl font-bold text-green-700",children:[e.totalQuestions>0?Math.round(e.correctAnswers/e.totalQuestions*100):0,"%"]})]}),a.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg text-center",children:[a.jsx("div",{className:"flex justify-center mb-2",children:a.jsx(Jl,{size:24,className:"text-yellow-600"})}),a.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Avg. Time / Q"}),a.jsxs("p",{className:"text-xl font-bold text-yellow-700",children:[h,"s"]})]})]}),a.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Performance by Category"}),Object.keys(e.categoryBreakdown).length>0?Object.entries(e.categoryBreakdown).map(([m,_])=>a.jsxs("div",{className:"mb-4",children:[a.jsxs("div",{className:"flex justify-between mb-1",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700 capitalize",children:m}),a.jsxs("span",{className:"text-sm text-gray-600",children:[_.correct,"/",_.total," (",_.total>0?Math.round(_.correct/_.total*100):0,"%)"]})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:"bg-indigo-600 h-2 rounded-full",style:{width:`${_.total>0?_.correct/_.total*100:0}%`}})})]},m)):a.jsx("p",{className:"text-sm text-gray-500",children:"No category data available."})]}),r&&r.length>0&&a.jsxs("div",{className:"border-t border-gray-200 pt-6 mt-8",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Review Your Answers"}),a.jsx("div",{className:"space-y-2",children:r.map((m,_)=>a.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[a.jsxs("button",{onClick:()=>u(l===_?null:_),className:`w-full flex items-center justify-between p-4 text-left font-medium transition-colors 
                              ${m.isCorrect?"bg-green-50 hover:bg-green-100 text-green-800":"bg-red-50 hover:bg-red-100 text-red-800"}
                              ${m.selectedAnswer===null&&!m.isCorrect&&e.timedOut?"bg-yellow-50 hover:bg-yellow-100 text-yellow-800":""}
                              ${m.selectedAnswer===null&&!m.isCorrect&&!e.timedOut?"bg-gray-100 hover:bg-gray-200 text-gray-700":""}
                          `,children:[a.jsxs("div",{className:"flex items-center",children:[m.isCorrect?a.jsx(Kl,{size:20,className:"mr-3 text-green-600 flex-shrink-0"}):m.selectedAnswer===null?a.jsx(qv,{size:20,className:`mr-3 ${e.timedOut?"text-yellow-600":"text-gray-500"} flex-shrink-0`}):a.jsx($c,{size:20,className:"mr-3 text-red-600 flex-shrink-0"}),a.jsxs("span",{className:"truncate max-w-xs sm:max-w-sm md:max-w-md",children:["Question ",_+1,": ",m.questionText.substring(0,30),"..."]})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("span",{className:`mr-3 text-sm font-semibold 
                        ${m.isCorrect?"text-green-700":m.selectedAnswer===null?e.timedOut?"text-yellow-700":"text-gray-600":"text-red-700"}
                    `,children:m.isCorrect?"Correct":m.selectedAnswer===null?e.timedOut?"Not Answered (Time Out)":"Not Answered":"Incorrect"}),l===_?a.jsx(Dv,{size:20}):a.jsx(Fv,{size:20})]})]}),l===_&&a.jsxs("div",{className:`p-4 border-t 
                      ${m.isCorrect?"bg-green-50 border-green-200":"bg-red-50 border-red-200"} 
                      ${m.selectedAnswer===null&&!m.isCorrect&&e.timedOut?"bg-yellow-50 border-yellow-200":""}
                      ${m.selectedAnswer===null&&!m.isCorrect&&!e.timedOut?"bg-gray-50 border-gray-200":""}
                  `,children:[a.jsx("p",{className:"text-gray-800 font-semibold mb-2 text-base",children:m.questionText}),m.questionImage&&a.jsx("img",{src:m.questionImage,alt:"Question visualization",className:"my-2 rounded-md max-h-40 object-contain"}),a.jsx("div",{className:"space-y-2 mb-3",children:m.questionAnswers.map((k,j)=>a.jsxs("div",{className:`flex items-center p-2 rounded-md text-sm 
                            ${k===m.correctanswer?m.isCorrect?"bg-green-200 text-green-800 ring-1 ring-green-400":"bg-green-100 text-green-700 font-semibold ring-1 ring-green-300":""}
                            ${k===m.selectedAnswer&&!m.isCorrect?"bg-red-200 text-red-800 font-semibold ring-1 ring-red-300":""}
                            ${k!==m.correctanswer&&k!==m.selectedAnswer?"bg-gray-100 text-gray-700":""}
                        `,children:[k===m.correctanswer?a.jsx(Kl,{size:16,className:"mr-2 flex-shrink-0 text-green-700"}):k===m.selectedAnswer&&!m.isCorrect?a.jsx($c,{size:16,className:"mr-2 flex-shrink-0 text-red-700"}):a.jsx("div",{className:"w-4 h-4 mr-2 flex-shrink-0 rounded-full border border-gray-400 bg-white"}),a.jsx("span",{className:"flex-grow",children:k}),k===m.selectedAnswer&&a.jsx("span",{className:`ml-auto px-2 py-0.5 rounded-full text-xs font-medium 
                                ${m.isCorrect?"bg-green-300 text-green-900":"bg-red-300 text-red-900"}
                            `,children:"Your Answer"}),k===m.correctanswer&&k!==m.selectedAnswer&&a.jsx("span",{className:"ml-auto px-2 py-0.5 rounded-full text-xs font-medium bg-green-300 text-green-900",children:"Correct Answer"})]},j))}),m.selectedAnswer===null&&e.timedOut&&a.jsx("p",{className:"text-sm text-yellow-700 bg-yellow-100 p-2 rounded-md mb-2",children:"This question was not answered (time may have run out)."}),m.selectedAnswer===null&&!e.timedOut&&a.jsx("p",{className:"text-sm text-gray-600 bg-gray-100 p-2 rounded-md mb-2",children:"This question was not answered."}),m.explanation&&a.jsxs("div",{className:`mt-2 p-3 rounded-md border 
                        ${m.isCorrect?"bg-green-50 border-green-200":m.selectedAnswer===null?e.timedOut?"bg-yellow-50 border-yellow-200":"bg-gray-50 border-gray-200":"bg-red-50 border-red-200"}
                      `,children:[a.jsx("h4",{className:`text-sm font-semibold mb-1
                          ${m.isCorrect?"text-green-800":m.selectedAnswer===null?e.timedOut?"text-yellow-800":"text-gray-700":"text-red-800"}
                        `,children:"Explanation:"}),a.jsx("p",{className:`text-sm 
                          ${m.isCorrect?"text-green-700":m.selectedAnswer===null?e.timedOut?"text-yellow-700":"text-gray-600":"text-red-700"}
                        `,children:m.explanation})]})]})]},_))})]}),a.jsxs("div",{className:"mt-8 flex flex-col sm:flex-row gap-3 justify-center",children:[a.jsx(te,{onClick:t,variant:"primary",size:"lg",children:"New Quiz"}),a.jsx(te,{onClick:()=>n("/profile"),variant:"secondary",size:"lg",children:"My Profile"})]})]})},kw=({previousLevel:e,newLevel:t,xpEarned:r,userName:n,onClose:s})=>{const[i,o]=x.useState(!1),[l,u]=x.useState(""),c=["You're making great progress!","Your math skills are improving!","You're becoming a math master!","Your dedication is paying off!","You're reaching new heights in mathematics!"];x.useEffect(()=>{o(!0),u(c[Math.floor(Math.random()*c.length)]),qo({particleCount:100,spread:70,origin:{y:.6}});const f=setTimeout(()=>{qo({particleCount:50,angle:60,spread:55,origin:{x:0}})},500),h=setTimeout(()=>{qo({particleCount:50,angle:120,spread:55,origin:{x:1}})},900);return()=>{clearTimeout(f),clearTimeout(h)}},[]);const d=()=>{o(!1),setTimeout(s,300)};return a.jsxs("div",{className:`fixed inset-0 flex items-center justify-center z-50 transition-opacity duration-300 ${i?"opacity-100":"opacity-0 pointer-events-none"}`,children:[a.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50",onClick:d}),a.jsxs("div",{className:`bg-white rounded-lg shadow-xl p-6 max-w-md w-full mx-4 relative z-10 transition-all duration-500 transform ${i?"scale-100":"scale-90"}`,children:[a.jsx("div",{className:"absolute -top-12 left-1/2 transform -translate-x-1/2",children:a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"animate-ping absolute inline-flex h-16 w-16 rounded-full bg-yellow-400 opacity-50"}),a.jsx("div",{className:"relative flex items-center justify-center h-16 w-16 rounded-full bg-yellow-500",children:a.jsx(Lc,{size:32,className:"text-white"})})]})}),a.jsxs("div",{className:"text-center mt-8 mb-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Level Up!"}),a.jsxs("div",{className:"flex justify-center items-center mb-4",children:[a.jsx("div",{className:"flex items-center justify-center h-12 w-12 rounded-full bg-gray-100 text-gray-500 mr-4",children:e}),a.jsx(Lc,{size:24,className:"text-yellow-500 mr-4"}),a.jsx("div",{className:"flex items-center justify-center h-14 w-14 rounded-full bg-yellow-500 text-white font-bold text-xl animate-bounce",children:t})]}),a.jsx("p",{className:"text-gray-600",children:l})]}),a.jsxs("div",{className:"bg-indigo-50 p-4 rounded-lg mb-6",children:[a.jsxs("h3",{className:"font-semibold text-indigo-700 mb-2 flex items-center",children:[a.jsx(xn,{size:20,className:"mr-2"})," Level ",t," Rewards"]}),a.jsxs("ul",{className:"space-y-2",children:[a.jsxs("li",{className:"flex items-start",children:[a.jsx(Bo,{size:16,className:"text-yellow-500 mr-2 mt-0.5"}),a.jsx("span",{className:"text-gray-700",children:"Unlock more challenging questions"})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx(Bo,{size:16,className:"text-yellow-500 mr-2 mt-0.5"}),a.jsxs("span",{className:"text-gray-700",children:["XP bonus multiplier: +",t*5,"%"]})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx(Bo,{size:16,className:"text-yellow-500 mr-2 mt-0.5"}),a.jsx("span",{className:"text-gray-700",children:"New achievement badge unlocked"})]})]})]}),a.jsx("div",{className:"flex justify-center",children:a.jsx(te,{onClick:d,size:"lg",children:"Continue"})})]})]})};function ed(){return Math.random().toString(36).substr(2,16)}const jw=()=>{var D,B,H;const{user:e,addXP:t,updateUserStatsAfterQuiz:r}=vr(),n=Dt(),[s,i]=x.useState(!1),[o,l]=x.useState([]),[u,c]=x.useState(0),[d,f]=x.useState([]),[h,m]=x.useState(null),[_,k]=x.useState(!1),[j,g]=x.useState(!1),[p,y]=x.useState(!1),[b,S]=x.useState(null),[O,$]=x.useState(null),[C,Y]=x.useState(0),[M,le]=x.useState(0),[G,F]=x.useState(0),K=x.useRef(null);dd.useEffect(()=>{e||n("/profile",{replace:!0})},[e,n]),x.useEffect(()=>(s&&G>0&&!h?K.current=setInterval(()=>{F(A=>A<=1?(clearInterval(K.current),I(!0),0):A-1)},1e3):K.current&&clearInterval(K.current),()=>{K.current&&clearInterval(K.current)}),[s,G,h]);const ne=async()=>{g(!0),$(null),m(null),k(!1);try{const A=(e==null?void 0:e.quizzesTaken)??0,R=(e==null?void 0:e.ratingScore)??1e3,L=C||10;let N=0,P=0,q=0;A===0?L>=10?(N=Math.floor(L*.4),P=Math.floor(L*.3),q=L-N-P):L>=5?(N=Math.floor(L*.5),P=Math.ceil(L*.3),q=L-N-P):(N=Math.max(1,Math.floor(L*.6)),P=L-N):R<1100?(N=Math.floor(L*.6),P=Math.floor(L*.3),q=L-N-P):R<1400?(N=Math.floor(L*.3),P=Math.floor(L*.5),q=L-N-P):(N=Math.floor(L*.1),P=Math.floor(L*.4),q=L-N-P),N=Math.max(0,N),P=Math.max(0,P),q=Math.max(0,q);const[Q,de,W]=await Promise.all([se.from("questions").select("*").gte("difficulty",1).lte("difficulty",3).limit(N),se.from("questions").select("*").gte("difficulty",4).lte("difficulty",7).limit(P),se.from("questions").select("*").gte("difficulty",8).lte("difficulty",10).limit(q)]);let we=Q.data||[],_e=de.data||[],X=W.data||[],V=[...we,..._e,...X];if(V.length<L){const{data:ke}=await se.from("questions").select("*"),Tn=new Set(V.map(xr=>xr.id)),An=(ke||[]).filter(xr=>!Tn.has(xr.id));for(;V.length<L&&An.length>0;){const xr=Math.floor(Math.random()*An.length);V.push(An.splice(xr,1)[0])}}if(V=V.sort(()=>.5-Math.random()),V.length>L&&(V=V.slice(0,L)),!V||V.length===0)throw new Error("No questions received. Quiz cannot start.");const pe=V.map(ke=>({...ke,correctAnswer:ke.correctanswer}));l(pe),F(M*60),i(!0),c(0),f([]),S(null),g(!1)}catch(A){$(A.message||"Error starting quiz."),g(!1)}},ce=A=>{S(A)},st=()=>{var L,N;if(!b&&((N=(L=o[u])==null?void 0:L.answers)==null?void 0:N.length)>0){alert("Please select an answer.");return}const A=o[u],R=b===A.correctanswer;f(P=>[...P,{questionId:A.id,questionText:A.text,selectedAnswer:b,correctanswer:A.correctanswer,isCorrect:R,explanation:A.explanation,category:A.category,difficulty:typeof A.difficulty=="string"?parseInt(A.difficulty,10):A.difficulty,questionImage:A.image,questionAnswers:A.answers}]),S(null),u<o.length-1?c(P=>P+1):I(!1)},I=async(A=!1)=>{K.current&&clearInterval(K.current),i(!1);const R=d;if(A&&o.length>0&&R.length<o.length){const X=o[R.length];X&&R.push({questionId:X.id,questionText:X.text,selectedAnswer:null,correctanswer:X.correctanswer,isCorrect:!1,explanation:X.explanation,category:X.category,difficulty:typeof X.difficulty=="string"?parseInt(X.difficulty,10):X.difficulty,questionImage:X.image,questionAnswers:X.answers})}const L=R.filter(X=>X.isCorrect).length,N=R.length,P=o.length>0?o.reduce((X,V)=>X+(typeof V.difficulty=="string"?parseInt(V.difficulty,10):V.difficulty||0),0)/o.length:0,q=L*100,Q=Math.round(P*10),de=q+Q;let W=0;R.forEach(X=>{const V=o.find(Tn=>Tn.id===X.questionId);let pe="Medium",ke=5;V&&(ke=typeof V.difficulty=="string"?parseInt(V.difficulty,10):V.difficulty,ke>=1&&ke<=3?pe="Easy":ke>=8&&ke<=10&&(pe="Hard")),X.isCorrect?pe==="Easy"?W+=10:pe==="Medium"?W+=15:pe==="Hard"&&(W+=20):pe==="Easy"?W-=10:(pe==="Medium"||pe==="Hard")&&(W-=5)});const we=L*10,_e={};if(R.forEach(X=>{const V=X.category;_e[V]||(_e[V]={total:0,correct:0}),_e[V].total+=1,X.isCorrect&&(_e[V].correct+=1)}),e){y(!0);const{error:X}=await se.from("quizsessions").insert([{sessionid:ed(),userid:e.id,quizconfigused:{numQuestions:C,timeLimitMinutes:M},questionsattempted:o.map(V=>V.id),answers:R.map(V=>({questionId:V.questionId,selectedAnswer:V.selectedAnswer})),score:de,numcorrect:L,numincorrect:N-L,xpearned:we,levelbefore:e.level,levelafter:e.level,xpbefore:e.xp,xpafter:e.xp+we,ratingscorebefore:e.ratingScore??0,ratingscorechange:W,ratingscoreafter:(e.ratingScore??0)+W,timestamp:new Date().toISOString(),timedout:A}]);if(X){m({score:de,totalQuestions:o.length,correctAnswers:L,incorrectAnswers:N-L,totalTime:M*60-G,averageDifficulty:P,categoryBreakdown:_e,detailedAnswers:R,timedOut:A,submitError:X.message,xpEarned:we,ratingScoreChange:W,levelBefore:e.level}),y(!1);return}if(m({score:L*10,totalQuestions:o.length,correctAnswers:L,incorrectAnswers:N-L,totalTime:M*60-G,averageDifficulty:P,categoryBreakdown:_e,detailedAnswers:R,timedOut:A,xpEarned:we,ratingScoreChange:W,sessionId:ed(),levelBefore:e.level,submitError:void 0}),L>0){const V=e.level,pe=V+1;console.log(`[Quiz Finish] Level Before (from results): ${V}, Level After (from results): ${pe}`),V!==void 0&&pe!==void 0&&pe>V?k(!0):(console.log(`[Quiz Finish] Level up condition not met. Old: ${V}, New: ${pe}`),k(!1))}}else console.warn("User not found, showing local results only."),m({score:de,totalQuestions:o.length,correctAnswers:L,incorrectAnswers:N-L,totalTime:M*60-G,averageDifficulty:P,categoryBreakdown:_e,detailedAnswers:R,timedOut:A});y(!1)},z=()=>{i(!1),m(null),l([]),c(0),f([]),S(null),F(0),$(null),K.current&&clearInterval(K.current),T()},w=A=>{const R=Math.floor(A/60),L=A%60;return`${R}:${L<10?"0":""}${L}`},v=()=>{if(j&&!s&&!h)return a.jsx("p",{children:"Loading quiz settings..."});if(O&&!s)return a.jsxs("p",{className:"text-red-500",children:["Error: ",O]});const A=C>0?C:"~10-15 (default)",R=M>0?`${M} minutes total`:"Default time";return a.jsxs("ul",{className:"text-gray-600 space-y-2 max-w-md mx-auto text-left",children:[a.jsxs("li",{className:"flex items-center",children:[a.jsx(Ar,{size:18,className:"text-indigo-500 mr-2 flex-shrink-0"}),A," questions"]}),a.jsxs("li",{className:"flex items-center",children:[a.jsx(Jl,{size:18,className:"text-indigo-500 mr-2 flex-shrink-0"}),R," for the entire quiz"]}),a.jsxs("li",{className:"flex items-center",children:[a.jsx("svg",{className:"h-5 w-5 text-indigo-500 mr-2 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})}),"Mix of topics (based on availability)"]}),a.jsxs("li",{className:"flex items-center",children:[a.jsx("svg",{className:"h-5 w-5 text-indigo-500 mr-2 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})}),"Earn XP and level up!"]})]})},T=x.useCallback(async()=>{g(!0),$(null);try{const{data:A,error:R}=await se.from("quizconfig").select("*").single();if(R){Y(10),le(15);return}Y(A.numQuestions||10),le(A.timeLimitMinutes||15)}catch{Y(10),le(15)}finally{g(!1)}},[]);return x.useEffect(()=>{T()},[T]),j&&!s&&!h&&!O?a.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[calc(100vh-200px)]",children:[a.jsx(Ar,{size:48,className:"text-indigo-600 animate-pulse mb-4"}),a.jsx("p",{className:"text-xl text-gray-600",children:"Loading Quiz..."})]}):p?a.jsxs("div",{className:"flex flex-col items-center justify-center h-screen bg-gray-100",children:[a.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-indigo-500"}),a.jsx("p",{className:"mt-4 text-lg font-semibold text-gray-700",children:"Submitting your results..."})]}):a.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[!s&&!h?a.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 text-center",children:[a.jsx("div",{className:"mx-auto w-24 h-24 bg-indigo-100 rounded-full flex items-center justify-center mb-6",children:a.jsx(Ar,{size:48,className:"text-indigo-600"})}),a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Ready for a Math Challenge?"}),a.jsx("p",{className:"text-lg text-gray-600 mb-8 max-w-xl mx-auto",children:"Test your math skills with a timed quiz. Answer correctly to earn XP and climb the ranks!"}),a.jsxs("div",{className:"mb-8 p-4 bg-indigo-50 rounded-lg",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-3",children:"Quiz Setup:"}),v(),O&&a.jsxs("div",{className:"mt-4 p-3 bg-red-100 text-red-700 rounded-md",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(Ih,{size:20,className:"mr-2"}),a.jsxs("p",{children:["Error: ",O]})]}),a.jsx(te,{onClick:ne,variant:"outline",size:"sm",className:"mt-3",children:"Try to Reload Quiz"})]})]}),a.jsx(te,{size:"lg",variant:"primary",onClick:ne,isLoading:j,disabled:j||!!O,className:"w-full md:w-auto px-10 py-3 text-lg",children:j?"Preparing Quiz...":"Start Quiz Now"})]}):h?a.jsx(_w,{result:h,onRetry:z,userAnswers:d}):a.jsx("div",{children:o.length>0&&o[u]&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"mb-4 p-4 bg-white rounded-lg shadow flex justify-between items-center",children:[a.jsxs("div",{className:"text-sm font-medium text-gray-600",children:["Question ",u+1," of ",o.length]}),a.jsxs("div",{className:"flex items-center text-lg font-semibold text-indigo-600",children:[a.jsx(Jl,{size:20,className:"mr-2"}),"Time Left: ",w(G)]}),a.jsx("div",{className:"bg-gray-200 text-gray-700 py-1 px-3 rounded-full text-sm font-medium",children:(D=o[u])==null?void 0:D.category})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5 mb-6 shadow-inner",children:a.jsx("div",{className:"bg-indigo-600 h-2.5 rounded-full transition-width duration-300 ease-in-out",style:{width:`${(u+1)/o.length*100}%`}})}),a.jsx(ny,{question:o[u],onAnswer:ce}),a.jsx("div",{className:"mt-8 flex justify-center",children:a.jsx(te,{size:"lg",variant:"primary",onClick:st,disabled:b===null&&((H=(B=o[u])==null?void 0:B.answers)==null?void 0:H.length)>0,className:"px-10 py-3 text-lg",children:u<o.length-1?"Next Question":"Finish Quiz"})})]})}),_&&e&&h&&h.levelBefore!==void 0&&e.level>h.levelBefore&&a.jsx(kw,{onClose:()=>k(!1),previousLevel:h.levelBefore,newLevel:e.level,xpEarned:h.xpEarned||0,userName:e.nickname||e.name})]})},bw=()=>{const{user:e}=vr(),[t,r]=x.useState(null),[n,s]=x.useState(!0),[i,o]=x.useState(null);return x.useEffect(()=>{e&&e.id?(async()=>{var u;s(!0),o(null);try{const{data:c,error:d}=await se.from("profiles").select("id, ratingscore").eq("is_admin",!1);if(d)throw d;if(!c||c.length===0){r({rankMessage:"No ranking data available."}),s(!1);return}if(c.length===1){r({rankMessage:"Be the first to play and invite friends!"}),s(!1);return}const f=[...c].sort((g,p)=>(p.ratingscore||0)-(g.ratingscore||0)),h=f.length,m=f.findIndex(g=>g.id===e.id),_=((u=f[m])==null?void 0:u.ratingscore)||0;if(m===-1||_===0){r({rankMessage:"Play a quiz to get your ranking!"}),s(!1);return}const j=f.filter(g=>(g.ratingscore||0)<_).length/h*100;r({rankMessage:"",percentile:j})}catch(c){o(c.message||"Could not load your rank."),r(null)}finally{s(!1)}})():s(!1)},[e]),n?a.jsx("div",{className:"p-4 bg-gray-50 rounded-lg shadow text-center",children:a.jsx("p",{className:"text-gray-500 animate-pulse",children:"Loading your rank..."})}):i?a.jsxs("div",{className:"p-4 bg-red-50 text-red-700 rounded-lg shadow flex items-center",children:[a.jsx(Ih,{size:20,className:"mr-2 flex-shrink-0"}),a.jsx("p",{children:i})]}):!t||!t.rankMessage&&typeof t.percentile!="number"?null:a.jsxs("div",{className:"p-6 bg-gradient-to-r from-indigo-500 to-purple-600 text-white rounded-xl shadow-lg hover:shadow-xl transition-shadow duration-300",children:[a.jsxs("div",{className:"flex items-center mb-3",children:[a.jsx(Jv,{size:28,className:"mr-3 opacity-80"}),a.jsx("h3",{className:"text-2xl font-semibold",children:"Your Rank Snapshot"})]}),t.rankMessage&&a.jsx("p",{className:"text-lg leading-relaxed opacity-90",children:t.rankMessage}),typeof t.percentile=="number"&&a.jsxs("p",{className:"text-sm opacity-70",children:["You're better than ",t.percentile.toFixed(1),"% of players!"]})]})},Sw=({user:e,onEditProfileClick:t,onChangePasswordClick:r})=>{const[n,s]=x.useState(0);return x.useEffect(()=>{if(!(e!=null&&e.id))return;(async()=>{const{count:o,error:l}=await se.from("quizsessions").select("*",{count:"exact",head:!0}).eq("userid",e.id);l||s(o||0)})()},[e==null?void 0:e.id]),a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Your Stats"}),a.jsx("div",{className:"mb-6",children:a.jsx(bw,{})}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:a.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[a.jsxs("div",{className:"flex items-center mb-2",children:[a.jsx(Kl,{className:"h-5 w-5 text-blue-600 mr-2"}),a.jsx("h3",{className:"text-sm font-medium text-blue-800",children:"Quizzes Taken"})]}),a.jsx("p",{className:"text-2xl font-bold text-blue-700",children:n})]})}),a.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-200",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Account Settings"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Name"}),a.jsx("p",{className:"mt-1 text-sm text-gray-900 p-2 bg-gray-50 rounded-md",children:e.fullname||"-"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Nickname"}),a.jsx("p",{className:"mt-1 text-sm text-gray-900 p-2 bg-gray-50 rounded-md",children:e.nickname||"-"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),a.jsx("p",{className:"mt-1 text-sm text-gray-900 p-2 bg-gray-50 rounded-md",children:e.email||"-"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"School/Institution"}),a.jsx("p",{className:"mt-1 text-sm text-gray-900 p-2 bg-gray-50 rounded-md",children:e.school||"-"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Phone Number"}),a.jsx("p",{className:"mt-1 text-sm text-gray-900 p-2 bg-gray-50 rounded-md",children:e.phonenumber||"-"})]})]}),a.jsxs("div",{className:"mt-6 text-right",children:[a.jsx("button",{onClick:t,className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 mr-3",children:"Edit Profile"}),a.jsx("button",{onClick:r,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Change Password"})]})]})]})},Nw=({achievement:e})=>{const t=e.icon;return a.jsx("div",{className:`border rounded-lg p-4 transition-all ${e.completed?"border-indigo-300 bg-indigo-50":"border-gray-200 bg-gray-50"}`,children:a.jsxs("div",{className:"flex items-start",children:[a.jsx("div",{className:`p-2 rounded-full mr-3 ${e.completed?"bg-indigo-100 text-indigo-600":"bg-gray-200 text-gray-500"}`,children:a.jsx(t,{size:20})}),a.jsxs("div",{className:"flex-grow",children:[a.jsx("h3",{className:`font-medium ${e.completed?"text-indigo-800":"text-gray-700"}`,children:e.name}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:e.description}),e.current!==void 0&&e.total!==void 0&&a.jsxs("div",{className:"mt-2",children:[a.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mb-1",children:[a.jsx("span",{children:"Progress"}),a.jsxs("span",{children:[e.current,"/",e.total]})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1.5",children:a.jsx("div",{className:`h-1.5 rounded-full ${e.completed?"bg-indigo-500":"bg-gray-400"}`,style:{width:`${e.current/e.total*100}%`}})})]}),e.completed&&e.unlockedAt&&a.jsxs("div",{className:"mt-2 text-xs text-indigo-600 font-medium",children:["Unlocked on ",e.unlockedAt.toLocaleDateString()]})]})]})})},Ew=({isOpen:e,onClose:t,user:r,onSave:n})=>{const[s,i]=x.useState({}),[o,l]=x.useState(!1),[u,c]=x.useState(null);if(x.useEffect(()=>{r&&i({fullname:r.fullname||"",nickname:r.nickname||"",school:r.school||"",phonenumber:r.phonenumber||""})},[r,e]),!e||!r)return null;const d=h=>{const{name:m,value:_}=h.target;i(k=>({...k,[m]:_}))},f=async h=>{h.preventDefault(),c(null),l(!0);try{if(!s.nickname||s.nickname.trim()==="")throw new Error("Nickname cannot be empty.");await n(s)}catch(m){c(m.message||"Failed to save profile.")}finally{l(!1)}};return a.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full flex justify-center items-center z-50 p-4",children:a.jsxs("div",{className:"relative bg-white p-6 md:p-8 rounded-lg shadow-xl w-full max-w-lg transform transition-all",children:[a.jsx("button",{onClick:t,className:"absolute top-3 right-3 text-gray-500 hover:text-gray-700 transition-colors","aria-label":"Close modal",children:a.jsx(nu,{size:24})}),a.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mb-6",children:"Edit Profile"}),a.jsxs("form",{onSubmit:f,children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"fullname",className:"block text-sm font-medium text-gray-700",children:"Full Name"}),a.jsx("input",{type:"text",name:"fullname",id:"fullname",value:s.fullname||"",onChange:d,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"nickname",className:"block text-sm font-medium text-gray-700",children:["Nickname ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"nickname",id:"nickname",value:s.nickname||"",onChange:d,required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-500 bg-gray-100 p-2 rounded-md",children:"Email (cannot be changed)"}),a.jsx("p",{className:"mt-1 text-sm text-gray-700",children:r.email||"N/A"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"school",className:"block text-sm font-medium text-gray-700",children:"School/Institution"}),a.jsx("input",{type:"text",name:"school",id:"school",value:s.school||"",onChange:d,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"phonenumber",className:"block text-sm font-medium text-gray-700",children:"Phone Number"}),a.jsx("input",{type:"tel",name:"phonenumber",id:"phonenumber",value:s.phonenumber||"",onChange:d,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]})]}),u&&a.jsx("p",{className:"mt-4 text-sm text-red-600 bg-red-100 p-3 rounded-md text-center",children:u}),a.jsxs("div",{className:"mt-8 flex justify-end space-x-3",children:[a.jsx(te,{type:"button",variant:"outline",onClick:t,disabled:o,children:"Cancel"}),a.jsx(te,{type:"submit",variant:"primary",disabled:o,children:o?"Saving...":"Save Changes"})]})]})]})})},Cw=({isOpen:e,onClose:t,userId:r,onChangePassword:n})=>{const[s,i]=x.useState(""),[o,l]=x.useState(""),[u,c]=x.useState(""),[d,f]=x.useState(!1),[h,m]=x.useState(null),[_,k]=x.useState(null);if(!e)return null;const j=async g=>{if(g.preventDefault(),m(null),k(null),o!==u){m("New passwords do not match.");return}if(o.length<6){m("New password must be at least 6 characters long.");return}f(!0);try{await n(s,o),k("Password changed successfully!"),i(""),l(""),c("")}catch(p){m(p.message||"Failed to change password.")}finally{f(!1)}};return a.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full flex justify-center items-center z-50 p-4",children:a.jsxs("div",{className:"relative bg-white p-6 md:p-8 rounded-lg shadow-xl w-full max-w-md transform transition-all",children:[a.jsx("button",{onClick:()=>{t(),m(null),k(null)},className:"absolute top-3 right-3 text-gray-500 hover:text-gray-700 transition-colors","aria-label":"Close modal",children:a.jsx(nu,{size:24})}),a.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mb-6",children:"Change Password"}),a.jsxs("form",{onSubmit:j,children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"oldPassword",className:"block text-sm font-medium text-gray-700",children:"Current Password"}),a.jsx("input",{type:"password",name:"oldPassword",id:"oldPassword",value:s,onChange:g=>i(g.target.value),required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"newPassword",className:"block text-sm font-medium text-gray-700",children:"New Password"}),a.jsx("input",{type:"password",name:"newPassword",id:"newPassword",value:o,onChange:g=>l(g.target.value),required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700",children:"Confirm New Password"}),a.jsx("input",{type:"password",name:"confirmPassword",id:"confirmPassword",value:u,onChange:g=>c(g.target.value),required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]})]}),h&&a.jsx("p",{className:"mt-4 text-sm text-red-600 bg-red-100 p-3 rounded-md text-center",children:h}),_&&a.jsx("p",{className:"mt-4 text-sm text-green-600 bg-green-100 p-3 rounded-md text-center",children:_}),a.jsxs("div",{className:"mt-8 flex justify-end space-x-3",children:[a.jsx(te,{type:"button",variant:"outline",onClick:()=>{t(),m(null),k(null)},disabled:d,children:"Cancel"}),a.jsx(te,{type:"submit",variant:"primary",disabled:d,children:d?"Changing...":"Change Password"})]})]})]})})},Pw=()=>{const{user:e,setCurrentUser:t}=vr(),r=Dt(),[n,s]=x.useState("stats"),[i,o]=x.useState(""),[l,u]=x.useState(""),[c,d]=x.useState(null),[f,h]=x.useState(!1),[m,_]=x.useState(!1),[k,j]=x.useState(null),[g,p]=x.useState(!1),y=()=>{j(null),_(!0)},b=()=>{_(!1)},S=async z=>{if(!e)return;j(null);const w={fullname:z.fullname!==void 0?z.fullname:e.fullname,nickname:z.nickname!==void 0?z.nickname:e.nickname,school:z.school!==void 0?z.school:e.school,phonenumber:z.phonenumber!==void 0?z.phonenumber:e.phonenumber};try{const{data:v,error:T}=await se.from("profiles").update(w).eq("id",e.id).select().single();if(T)throw T;t({...e,...w}),b()}catch(v){throw j(v.message),v}},O=()=>{p(!0)},$=()=>{p(!1)},C=async(z,w)=>{if(!e)throw new Error("User not found");const{error:v}=await se.auth.updateUser({password:w});if(v)throw v},Y=async z=>{z.preventDefault(),h(!0),d(null);try{const{data:w,error:v}=await se.auth.signInWithPassword({email:i,password:l});if(v||!w.user)throw new Error((v==null?void 0:v.message)||"Login failed. Please check your credentials.");const{data:T,error:D}=await se.from("profiles").select("*").eq("id",w.user.id).single();if(D)throw D;t({...T,quizzesTaken:T.quizzes_taken})}catch(w){d(w.message||"An unexpected error occurred during login.")}h(!1)};if(!e)return a.jsxs("div",{className:"max-w-md mx-auto mt-10 p-6 bg-white rounded-lg shadow-md",children:[a.jsx("h2",{className:"text-2xl font-bold text-center text-gray-800 mb-6",children:"Login to View Profile"}),a.jsxs("form",{onSubmit:Y,children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email Address"}),a.jsx("input",{type:"email",id:"email",name:"email",value:i,onChange:z=>o(z.target.value),required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"you@example.com"})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),a.jsx("input",{type:"password",id:"password",name:"password",value:l,onChange:z=>u(z.target.value),required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"••••••••"})]}),c&&a.jsx("p",{className:"text-sm text-red-600 bg-red-100 p-3 rounded-md mb-4 text-center",children:c}),a.jsx("div",{children:a.jsx(te,{type:"submit",variant:"primary",className:"w-full flex justify-center",disabled:f,children:f?"Logging in...":"Login"})})]}),a.jsxs("p",{className:"mt-4 text-center text-sm text-gray-600",children:["Don't have an account? "," ",a.jsx("a",{href:"#",onClick:z=>{z.preventDefault(),alert("Registration page to be implemented.")},className:"font-medium text-indigo-600 hover:text-indigo-500",children:"Sign up"})]})]});const M=e.quizzesTaken||0,le=[{id:"first-quiz",name:"First Steps",description:"Complete your first quiz",icon:Mh,completed:M>=1,current:Math.min(M,1),total:1,unlocked_at:M>=1?new Date:void 0},{id:"quiz-master",name:"Quiz Master",description:"Complete 100 quizzes",icon:xn,completed:M>=100,current:Math.min(M,100),total:100,unlocked_at:M>=100?new Date:void 0},{id:"math-apprentice",name:"Math Apprentice",description:"Reach level 5",icon:zh,completed:e.level>=5,current:Math.min(e.level,5),total:5,unlocked_at:e.level>=5?new Date:void 0}],G=[{id:"stats",label:"Statistics"},{id:"achievements",label:"Achievements"}],F=Lh(e.xp,e.level),K=Oh(e.level),ne=K>0?F/K*100:0,ce=K-F,st=e.nickname?e.nickname.charAt(0).toUpperCase():e.name?e.name.charAt(0).toUpperCase():"U",I=e.lastActive?new Date(e.lastActive).toLocaleDateString():"N/A";return a.jsxs("div",{className:"container mx-auto px-4 py-8",children:[a.jsx("div",{className:"bg-white shadow-xl rounded-lg p-6 md:p-8 mb-8",children:a.jsxs("div",{className:"flex flex-col md:flex-row items-center",children:[a.jsxs("div",{className:"relative mb-4 md:mb-0 md:mr-6",children:[a.jsx("div",{className:"w-24 h-24 md:w-32 md:h-32 rounded-full bg-indigo-500 text-white flex items-center justify-center text-4xl md:text-5xl font-semibold",children:st}),a.jsxs("div",{className:"absolute -bottom-2 -right-2 bg-green-500 text-white text-xs font-bold px-2 py-1 rounded-full shadow-md",children:["Level ",e.level]})]}),a.jsxs("div",{className:"flex-grow text-center md:text-left",children:[a.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-800",children:e.nickname||e.name}),a.jsxs("p",{className:"text-gray-500 text-sm mb-3",children:["Joined: ",I]})," ",a.jsxs("div",{className:"mb-3 flex items-center justify-center md:justify-start",children:[a.jsx(Bv,{className:"w-7 h-7 text-yellow-500 mr-2"}),a.jsx("span",{className:"text-2xl font-bold text-gray-700",children:e.coins??0}),a.jsx("span",{className:"text-sm text-gray-500 ml-1",children:"Coins"})]}),a.jsxs("div",{className:"mb-1 flex justify-between items-center",children:[a.jsxs("p",{className:"text-sm text-indigo-600 font-medium",children:["XP: ",e.xp]}),a.jsxs("p",{className:"text-sm text-gray-500",children:[Math.max(0,ce)," XP for next level (L",e.level+1," at ",ru(e.level+1)," total XP)"]})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-4 shadow-inner",children:a.jsxs("div",{className:"bg-indigo-600 h-4 rounded-full text-xs text-white flex items-center justify-center transition-width duration-500 ease-out",style:{width:`${Math.max(0,Math.min(ne,100))}%`},children:[Math.round(ne),"%"]})})]}),a.jsxs("div",{className:"mt-6 md:mt-0 md:ml-6 flex flex-col space-y-3",children:[a.jsx(te,{variant:"primary",onClick:()=>r("/quiz"),className:"w-full md:w-auto",children:"Take a Quiz"}),a.jsx(te,{variant:"outline",onClick:()=>{t(null),r("/")},className:"w-full md:w-auto",children:"Logout"})]})]})}),a.jsx("div",{className:"border-b border-gray-200 mb-6",children:a.jsx("nav",{className:"flex space-x-8","aria-label":"Tabs",children:G.map(z=>a.jsx("button",{onClick:()=>s(z.id),className:`py-4 px-1 text-center border-b-2 font-medium text-sm ${n===z.id?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:z.label},z.id))})}),a.jsxs("div",{className:"mb-12",children:[n==="stats"&&a.jsx(Sw,{user:e,onEditProfileClick:y,onChangePasswordClick:O}),n==="achievements"&&a.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Your Achievements"}),a.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:le.map(z=>a.jsx(Nw,{achievement:z},z.id))})]})]}),k&&a.jsx("p",{className:"my-4 text-center text-red-600 bg-red-100 p-3 rounded-md",children:k}),m&&e&&a.jsx(Ew,{isOpen:m,onClose:b,user:e,onSave:S}),g&&e&&a.jsx(Cw,{isOpen:g,onClose:$,userId:e.id,onChangePassword:C})]})},Tw=()=>{const e=Dt();return a.jsxs("div",{className:"min-h-[calc(100vh-200px)] flex flex-col items-center justify-center text-center px-4",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-9xl font-bold text-indigo-600",children:"404"}),a.jsx("div",{className:"h-2 w-16 bg-indigo-600 mx-auto my-6 rounded-full"}),a.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Page Not Found"}),a.jsx("p",{className:"text-gray-600 max-w-md mx-auto",children:"Oops! The page you're looking for doesn't exist or has been moved."})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[a.jsx(te,{onClick:()=>e("/"),icon:a.jsx(Hv,{size:16}),iconPosition:"left",children:"Back to Home"}),a.jsx(te,{onClick:()=>e("/quiz"),variant:"outline",children:"Take a Quiz"})]})]})},Aw=()=>{const[e,t]=x.useState(""),[r,n]=x.useState(""),[s,i]=x.useState(null),[o,l]=x.useState(!1),u=Dt(),c=async d=>{d.preventDefault(),l(!0),i(null);try{const{data:f,error:h}=await se.auth.signInWithPassword({email:e,password:r});if(h||!f.user){i((h==null?void 0:h.message)||"Login failed. Please check your credentials."),l(!1);return}const{data:m,error:_}=await se.from("profiles").select("is_admin").eq("id",f.user.id).single();if(_||!(m!=null&&m.is_admin)){i("You are not authorized as admin."),l(!1);return}localStorage.setItem("adminUser",JSON.stringify(f.user)),localStorage.setItem("isAdminLoggedIn","true"),u("/admin/dashboard")}catch{i("An error occurred during login. Please try again.")}l(!1)};return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 py-12 px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"max-w-md w-full space-y-8 bg-white p-10 rounded-xl shadow-lg",children:[a.jsx("div",{children:a.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Admin Portal Login"})}),a.jsxs("form",{className:"mt-8 space-y-6",onSubmit:c,children:[a.jsx("input",{type:"hidden",name:"remember",defaultValue:"true"}),a.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"username",className:"sr-only",children:"Email"}),a.jsx("input",{id:"username",name:"username",type:"text",autoComplete:"username",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-3 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Email",value:e,onChange:d=>t(d.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:"sr-only",children:"Password"}),a.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-3 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Password",value:r,onChange:d=>n(d.target.value)})]})]}),s&&a.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",role:"alert",children:a.jsx("span",{className:"block sm:inline",children:s})}),a.jsx("div",{children:a.jsx(te,{type:"submit",className:"w-full",isLoading:o,disabled:o,children:o?"Signing in...":"Sign in"})})]})]})})},Ow=()=>localStorage.getItem("isAdminLoggedIn")==="true"?a.jsx(Eh,{}):a.jsx(Nh,{to:"/admin/login",replace:!0}),Lw=["arithmetic","algebra","geometry","advanced"],Rw=({isOpen:e,onClose:t,onSave:r,initialQuestionData:n,categories:s=Lw})=>{const[i,o]=x.useState(""),[l,u]=x.useState(s[0]),[c,d]=x.useState(1),[f,h]=x.useState(["",""]),[m,_]=x.useState(""),[k,j]=x.useState(""),[g,p]=x.useState(""),[y,b]=x.useState(30),[S,O]=x.useState(!1),[$,C]=x.useState(null);x.useEffect(()=>{n?(o(n.text),u(n.category),d(n.difficulty),h(n.answers),_(n.correctanswer),j(n.explanation||""),p(n.image||""),b(n.timelimit||30)):(o(""),u(s[0]),d(1),h(["",""]),_(""),j(""),p(""),b(30)),C(null)},[n,e,s]);const Y=(F,K)=>{const ne=[...f];ne[F]=K,h(ne),m===f[F]&&K!==m&&_("")},M=()=>{f.length<6&&h([...f,""])},le=F=>{if(f.length>2){const K=f.filter((ne,ce)=>ce!==F);m===f[F]&&_(""),h(K)}},G=async F=>{if(F.preventDefault(),O(!0),C(null),f.some(ce=>ce.trim()==="")){C("All answer fields must be filled."),O(!1);return}if(!m||!f.includes(m)){C("Please select a valid correct answer from the options provided."),O(!1);return}if(c<1||c>10){C("Difficulty must be between 1 and 10."),O(!1);return}function K(ce=16){return Math.random().toString(36).substr(2,ce)}const ne={...n?{id:n.id}:{id:K()},text:i,category:l,difficulty:c,answers:f,correctanswer:m,explanation:k||void 0,image:g||void 0,timelimit:y||30};try{await r(ne)}catch(ce){C(ce.message||"Failed to save question.")}O(!1)};return e?a.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75 overflow-y-auto h-full w-full z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white p-6 md:p-8 rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsx("h3",{className:"text-2xl font-semibold mb-6 text-gray-800",children:n?"Edit Question":"Add New Question"}),a.jsxs("form",{onSubmit:G,className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"questionText",className:"block text-sm font-medium text-gray-700 mb-1",children:"Question Text"}),a.jsx("textarea",{id:"questionText",value:i,onChange:F=>o(F.target.value),required:!0,rows:3,className:"w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),a.jsx("select",{id:"category",value:l,onChange:F=>u(F.target.value),className:"w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500",children:s.map(F=>a.jsx("option",{value:F,className:"capitalize",children:F},F))})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"difficulty",className:"block text-sm font-medium text-gray-700 mb-1",children:"Difficulty (1-10)"}),a.jsx("input",{id:"difficulty",type:"number",min:"1",max:"10",value:c,onChange:F=>d(parseInt(F.target.value,10)),required:!0,className:"w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Answer Options"}),f.map((F,K)=>a.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[a.jsx("input",{type:"text",placeholder:`Answer ${K+1}`,value:F,onChange:ne=>Y(K,ne.target.value),required:!0,className:"w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500"}),f.length>2&&a.jsx(te,{type:"button",onClick:()=>le(K),variant:"danger",size:"sm",children:"Remove"})]},K)),f.length<6&&a.jsx(te,{type:"button",onClick:M,variant:"outline",size:"sm",className:"mt-1",children:"Add Answer Option"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"correctAnswer",className:"block text-sm font-medium text-gray-700 mb-1",children:"Correct Answer"}),a.jsxs("select",{id:"correctAnswer",value:m,onChange:F=>_(F.target.value),required:!0,className:"w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500",disabled:f.some(F=>F.trim()==="")||f.length===0,children:[a.jsx("option",{value:"",disabled:!0,children:"Select the correct answer"}),f.filter(F=>F.trim()!=="").map(F=>a.jsx("option",{value:F,children:F},F))]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"explanation",className:"block text-sm font-medium text-gray-700 mb-1",children:"Explanation (Optional)"}),a.jsx("textarea",{id:"explanation",value:k,onChange:F=>j(F.target.value),rows:2,className:"w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"imageUrl",className:"block text-sm font-medium text-gray-700 mb-1",children:"Image URL (Optional)"}),a.jsx("input",{id:"imageUrl",type:"url",value:g,onChange:F=>p(F.target.value),placeholder:"https://example.com/image.png",className:"w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"timeLimit",className:"block text-sm font-medium text-gray-700 mb-1",children:"Time Limit (seconds, Optional)"}),a.jsx("input",{id:"timeLimit",type:"number",min:"0",value:y,onChange:F=>b(parseInt(F.target.value,10)||0),placeholder:"e.g., 30",className:"w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500"})]})]}),$&&a.jsxs("p",{className:"text-sm text-red-600 bg-red-100 p-3 rounded-md",children:["Error: ",$]}),a.jsxs("div",{className:"flex justify-end space-x-4 pt-2",children:[a.jsx(te,{type:"button",onClick:t,variant:"outline",disabled:S,children:"Cancel"}),a.jsx(te,{type:"submit",variant:"primary",isLoading:S,disabled:S,children:S?"Saving...":n?"Update Question":"Save Question"})]})]})]})}):null},$w=({isOpen:e,onClose:t,onSave:r,initialUserData:n})=>{const s=!!n,[i,o]=x.useState(""),[l,u]=x.useState(""),[c,d]=x.useState(""),[f,h]=x.useState(""),[m,_]=x.useState(""),[k,j]=x.useState(1),[g,p]=x.useState(0),[y,b]=x.useState(""),[S,O]=x.useState(0),[$,C]=x.useState(!1),[Y,M]=x.useState(null);x.useEffect(()=>{n?(o(n.nickname||""),u(n.fullname||""),d(n.email||""),h(n.school||""),_(n.phonenumber||""),j(n.level),p(n.xp),b(""),O(n.coins||0)):(o(""),u(""),d(""),h(""),_(""),j(1),p(0),b(""),O(0)),M(null)},[n,e]);const le=async G=>{if(G.preventDefault(),C(!0),M(null),i.trim()===""){M("Nickname cannot be empty."),C(!1);return}if(l.trim()===""){M("Full Name cannot be empty."),C(!1);return}if(c.trim()===""||!/\S+@\S+\.\S+/.test(c)){M("A valid Email is required."),C(!1);return}if(!s&&y.trim()===""){M("Password is required for new users."),C(!1);return}if(f.trim()===""){M("School/Institution cannot be empty."),C(!1);return}if(m.trim()===""){M("Phone Number cannot be empty."),C(!1);return}let F={nickname:i.trim(),fullname:l.trim()||void 0,email:c.trim()||void 0,school:f.trim()||void 0,phonenumber:m.trim()||void 0};if(s){if(F.id=n==null?void 0:n.id,F.level=Number(k),F.xp=Number(g),F.coins=Number(S),Number(k)<0){M("Level must be a non-negative number."),C(!1);return}if(Number(g)<0){M("XP must be a non-negative number."),C(!1);return}if(Number(S)<0){M("Coins must be a non-negative number."),C(!1);return}try{await r(F)}catch(K){M(K.message||"Failed to save user.")}C(!1);return}try{const{data:K,error:ne}=await se.auth.admin.createUser({email:c.trim(),password:y.trim(),email_confirm:!0});if(ne||!(K!=null&&K.user)){M((ne==null?void 0:ne.message)||"Failed to create user in Auth."),C(!1);return}const{error:ce}=await se.from("profiles").insert([{id:K.user.id,...F,level:Number(k),xp:Number(g),coins:Number(S)}]);if(ce){M(ce.message||"Failed to create user profile."),C(!1);return}await r({...F,id:K.user.id,level:Number(k),xp:Number(g),coins:Number(S)})}catch(K){M(K.message||"Failed to save user.")}C(!1)};return e?a.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75 overflow-y-auto h-full w-full z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white p-6 md:p-8 rounded-lg shadow-xl w-full max-w-lg max-h-[90vh] overflow-y-auto",children:[a.jsx("h3",{className:"text-2xl font-semibold mb-6 text-gray-800",children:s?"Edit User":"Add New User"}),a.jsxs("form",{onSubmit:le,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"nickname",className:"block text-sm font-medium text-gray-700 mb-1",children:["Nickname ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{id:"nickname",type:"text",value:i,onChange:G=>o(G.target.value),required:!0,className:"w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500"})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"fullName",className:"block text-sm font-medium text-gray-700 mb-1",children:["Full Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{id:"fullName",type:"text",value:l,onChange:G=>u(G.target.value),required:!0,className:"w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500"})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:["Email ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{id:"email",type:"email",value:c,onChange:G=>d(G.target.value),required:!0,className:"w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500",placeholder:"user@example.com"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"school",className:"block text-sm font-medium text-gray-700 mb-1",children:["School/Institution ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{id:"school",type:"text",value:f,onChange:G=>h(G.target.value),required:!0,className:"w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500"})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"phoneNumber",className:"block text-sm font-medium text-gray-700 mb-1",children:["Phone Number ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{id:"phoneNumber",type:"tel",value:m,onChange:G=>_(G.target.value),required:!0,className:"w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500",placeholder:"+62123456789"})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:[s?"New Password (leave blank to keep current)":"Password"," ",a.jsx("span",{className:"text-red-500",children:!s&&" *"})]}),a.jsx("input",{id:"password",type:"password",value:y,onChange:G=>b(G.target.value),required:!s,className:"w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500",placeholder:s?"Enter new password":"Enter initial password (required)"})]})]}),s&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 pt-2",children:[" ",a.jsxs("div",{children:[a.jsx("label",{htmlFor:"userLevel",className:"block text-sm font-medium text-gray-700 mb-1",children:"Level"}),a.jsx("input",{id:"userLevel",type:"number",min:"0",value:k,onChange:G=>j(parseInt(G.target.value,10)||0),required:s,className:"w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"userXp",className:"block text-sm font-medium text-gray-700 mb-1",children:"XP"}),a.jsx("input",{id:"userXp",type:"number",min:"0",value:g,onChange:G=>p(parseInt(G.target.value,10)||0),required:s,className:"w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"userCoins",className:"block text-sm font-medium text-gray-700 mb-1",children:"Coins"}),a.jsx("input",{id:"userCoins",type:"number",min:"0",value:S,onChange:G=>O(parseInt(G.target.value,10)||0),required:s,className:"w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500"})]})]}),Y&&a.jsxs("p",{className:"text-sm text-red-600 bg-red-100 p-3 rounded-md",children:["Error: ",Y]}),a.jsxs("div",{className:"flex justify-end space-x-4 pt-4",children:[a.jsx(te,{type:"button",onClick:t,variant:"outline",disabled:$,children:"Cancel"}),a.jsx(te,{type:"submit",variant:"primary",isLoading:$,disabled:$,children:$?"Saving...":s?"Update User":"Save User"})]})]})]})}):null},zw="YOUR_ADMIN_SECRET_HERE",Iw=()=>{const[e,t]=x.useState("questions"),[r,n]=x.useState([]),[s,i]=x.useState([]),[o,l]=x.useState({numQuestions:10,timeLimitMinutes:15}),[u,c]=x.useState(!1),[d,f]=x.useState(null),[h,m]=x.useState(null),[_,k]=x.useState(!1),[j,g]=x.useState(null),[p,y]=x.useState(!1),[b,S]=x.useState(null),[O,$]=x.useState("add"),[C,Y]=x.useState(!1),[M,le]=x.useState(null),[G,F]=x.useState("add"),K=Dt(),ne=x.useCallback(async N=>{k(!0),g(null);try{if(N==="questions"){const{data:P,error:q}=await se.from("questions").select("*");if(q)throw q;n(P||[])}else{const P=await fetch("/.netlify/functions/admin-users",{method:"GET",headers:{"x-admin-secret":zw}}),q=await P.json();if(!P.ok)throw new Error(q.error||"Failed to fetch users");i(q||[])}}catch(P){g(P.message)}k(!1)},[]),ce=x.useCallback(async()=>{c(!0),f(null),m(null);try{const{data:N,error:P}=await se.from("quizconfig").select("*").single();if(P)throw P;l(N)}catch(N){f(N.message||"Could not fetch initial quiz settings.")}finally{c(!1)}},[]);x.useEffect(()=>{e==="quizSettings"?ce():e==="questions"?ne("questions"):e==="users"&&ne("users")},[e,ce,ne]);const st=N=>{const{name:P,value:q}=N.target;let Q=N.target.valueAsNumber;(isNaN(Q)||Q===null)&&(Q=parseInt(q,10)),(isNaN(Q)||Q<1)&&(Q=1),l(de=>({...de,[P]:Q}))},I=async N=>{N.preventDefault(),c(!0),f(null),m(null);try{const{error:P}=await se.from("quizconfig").upsert([o]);if(P)throw P;m("Quiz settings saved successfully!"),ce()}catch(P){f(P.message||"Could not save settings. Check console.")}c(!1)},z=(N,P)=>{$(N),S(N==="add"||!P?null:P),y(!0)},w=()=>{y(!1),S(null)},v=async N=>{const P={...N,correctanswer:N.correctanswer},q=N.id;try{if(q){const{error:Q}=await se.from("questions").update(P).eq("id",N.id);if(Q)throw Q}else{const{error:Q}=await se.from("questions").insert([P]);if(Q)throw Q}return ne("questions"),w(),Promise.resolve()}catch(Q){return Promise.reject(Q)}},T=async N=>{if(window.confirm("Are you sure you want to delete this question?")){g(null);try{const{error:P}=await se.from("questions").delete().eq("id",N);if(P)throw P;ne("questions")}catch(P){g(P.message)}}},D=(N,P)=>{F(N),le(N==="add"||!P?null:P),Y(!0)},B=()=>{Y(!1),le(null)},H=async N=>{const P=N.id;let q={...N};P||delete q.id;try{if(P){const{error:Q}=await se.from("profiles").update(q).eq("id",N.id);if(Q)throw Q}else{const{error:Q}=await se.from("profiles").insert([q]);if(Q)throw Q}return ne("users"),B(),Promise.resolve()}catch(Q){return Promise.reject(Q)}},A=async N=>{if(window.confirm("Are you sure you want to delete this user?")){g(null);try{const{error:P}=await se.auth.admin.deleteUser(N);if(P)throw P;const{error:q}=await se.from("profiles").delete().eq("id",N);if(q)throw q;ne("users")}catch(P){g(P.message||"Failed to delete user.")}}},R=async()=>{await se.auth.signOut(),K("/admin/login")},L=[{id:"questions",label:"Manage Questions",icon:a.jsx(Vv,{size:18})},{id:"users",label:"Manage Users",icon:a.jsx(Xv,{size:18})},{id:"quizSettings",label:"Quiz Settings",icon:a.jsx(Kv,{size:18})}];return a.jsxs("div",{className:"min-h-screen bg-gray-100 p-4 md:p-8",children:[a.jsxs("header",{className:"mb-8 flex flex-col md:flex-row md:items-center md:justify-between",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Admin Dashboard"}),a.jsx(te,{variant:"outline",onClick:R,className:"mt-4 md:mt-0",children:"Logout"})]}),a.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[a.jsx("aside",{className:"md:w-1/4",children:a.jsx("nav",{className:"bg-white p-4 rounded-lg shadow",children:a.jsx("ul",{className:"space-y-2",children:L.map(N=>a.jsx("li",{children:a.jsxs("button",{onClick:()=>t(N.id),className:`w-full flex items-center gap-3 px-4 py-2.5 rounded-md text-sm font-medium transition-colors
                      ${e===N.id?"bg-indigo-100 text-indigo-700":"text-gray-700 hover:bg-gray-50 hover:text-gray-900"}`,children:[N.icon,N.label]})},N.id))})})}),a.jsxs("main",{className:"flex-1",children:[_&&a.jsxs("p",{children:["Loading ",e," data..."]}),j&&a.jsxs("p",{className:"text-red-500 bg-red-100 p-3 rounded mb-4",children:["Error loading ",e," data: ",j]}),e==="questions"&&!_&&!j&&a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-xl font-semibold",children:"Questions List"}),a.jsxs(te,{variant:"primary",onClick:()=>z("add"),children:[a.jsx(Rc,{size:18,className:"mr-2"})," Add Question"]})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Text"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Difficulty"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.length>0?r.map(N=>a.jsxs("tr",{children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-800 max-w-xs truncate",title:N.text,children:N.text}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:N.category}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:N.difficulty}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium space-x-2",children:[a.jsx(te,{variant:"outline",size:"sm",onClick:()=>z("edit",N),children:a.jsx(zc,{size:16})}),a.jsx(te,{variant:"danger",size:"sm",onClick:()=>T(N.id),children:a.jsx(Ic,{size:16})})]})]},N.id)):a.jsx("tr",{children:a.jsx("td",{colSpan:4,className:"text-center py-4 text-gray-500",children:"No questions found. Add one!"})})})]})})]}),e==="users"&&!_&&!j&&a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-xl font-semibold",children:"Users List"}),a.jsxs(te,{variant:"primary",onClick:()=>D("add"),children:[a.jsx(Rc,{size:18,className:"mr-2"})," Add User"]})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ID"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nickname/Name"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Level"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s.length>0?s.map(N=>a.jsxs("tr",{children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 truncate",title:N.id,children:N.id}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-800",children:N.nickname||N.name}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:N.email}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:N.level||1}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium space-x-2",children:[a.jsx(te,{variant:"outline",size:"sm",onClick:()=>D("edit",N),children:a.jsx(zc,{size:16})}),a.jsx(te,{variant:"danger",size:"sm",onClick:()=>A(N.id),children:a.jsx(Ic,{size:16})})]})]},N.id)):a.jsx("tr",{children:a.jsx("td",{colSpan:5,className:"text-center py-4 text-gray-500",children:"No users found."})})})]})})]}),e==="quizSettings"&&a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Quiz Settings"}),u&&!h&&!d&&a.jsx("p",{children:"Loading current settings..."}),d&&a.jsxs("p",{className:"text-red-500 bg-red-100 p-3 rounded mb-4",children:["Error: ",d]}),h&&a.jsx("p",{className:"text-green-500 bg-green-100 p-3 rounded mb-4",children:h}),!u&&a.jsxs("form",{onSubmit:I,children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{htmlFor:"numQuestions",className:"block text-sm font-medium text-gray-700",children:"Number of Questions per Quiz"}),a.jsx("input",{type:"number",name:"numQuestions",id:"numQuestions",value:o.numQuestions,onChange:st,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",min:"1",required:!0})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("label",{htmlFor:"timeLimitMinutes",className:"block text-sm font-medium text-gray-700",children:"Time Limit (minutes)"}),a.jsx("input",{type:"number",name:"timeLimitMinutes",id:"timeLimitMinutes",value:o.timeLimitMinutes,onChange:st,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",min:"1",required:!0})]}),a.jsx(te,{type:"submit",variant:"primary",disabled:u&&d===null&&h===null,children:u&&d===null&&h===null?"Saving...":"Save Settings (Sends Test Data)"})]})]}),p&&a.jsx(Rw,{isOpen:p,onClose:w,onSave:v,initialQuestionData:b}),C&&a.jsx($w,{isOpen:C,onClose:B,onSave:H,initialUserData:M})]})]})]})};function Mw(){return a.jsx(Iv,{children:a.jsxs(qg,{children:[a.jsx(zv,{position:"top-center"}),a.jsxs(zg,{children:[a.jsxs(_t,{path:"/",element:a.jsx(ty,{}),children:[a.jsx(_t,{index:!0,element:a.jsx(ry,{})}),a.jsx(_t,{path:"quiz",element:a.jsx(jw,{})}),a.jsx(_t,{path:"profile",element:a.jsx(Pw,{})}),a.jsx(_t,{path:"*",element:a.jsx(Tw,{})})]}),a.jsx(_t,{path:"/admin",element:a.jsx(Nh,{to:"/admin/login",replace:!0})}),a.jsx(_t,{path:"/admin/login",element:a.jsx(Aw,{})}),a.jsx(_t,{element:a.jsx(Ow,{}),children:a.jsx(_t,{path:"/admin/dashboard",element:a.jsx(Iw,{})})})]})]})})}ph(document.getElementById("root")).render(a.jsx(x.StrictMode,{children:a.jsx(Mw,{})}));export{pm as g};
